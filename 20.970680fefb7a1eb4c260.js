(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{QoWm:function(e,t,n){"use strict";n.r(t),n.d(t,"MissionNoteListModule",(function(){return E}));var i=n("DUip"),o=n("1YJq"),r=n("VnD/"),a=n("1ua0"),c=n("TYT/"),l=n("dJ3e"),d=n("ea4N"),s=n("Valr"),u=n("EFs6"),p=n("uLXW"),m=n("XIAg"),f=n("GsDI"),v=n("p+mS");function g(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"span",8),c["\u0275\u0275elementStart"](1,"mat-icon",9),c["\u0275\u0275text"](2,"star"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](3,"span",10),c["\u0275\u0275text"](4,"Viktig"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]())}function y(e,t){if(1&e&&(c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275elementStart"](1,"span",6),c["\u0275\u0275text"](2),c["\u0275\u0275template"](3,g,5,0,"span",7),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementContainerEnd"]()),2&e){var n=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate1"](" ",n.note.title," "),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",n.note.pinned)}}function h(e,t){if(1&e){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275elementStart"](1,"span"),c["\u0275\u0275elementStart"](2,"button",11),c["\u0275\u0275listener"]("click",(function(){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"](2).editNote()})),c["\u0275\u0275elementStart"](3,"mat-icon"),c["\u0275\u0275text"](4,"edit"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](5,"button",12),c["\u0275\u0275listener"]("click",(function(){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"](2).deleteNote()})),c["\u0275\u0275elementStart"](6,"mat-icon"),c["\u0275\u0275text"](7,"delete"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementContainerEnd"]()}}function x(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div",1),c["\u0275\u0275template"](1,y,4,2,"ng-container",2),c["\u0275\u0275elementStart"](2,"span"),c["\u0275\u0275text"](3),c["\u0275\u0275elementEnd"](),c["\u0275\u0275element"](4,"mat-divider",3),c["\u0275\u0275elementStart"](5,"span",4),c["\u0275\u0275elementStart"](6,"span"),c["\u0275\u0275text"](7),c["\u0275\u0275pipe"](8,"date"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](9,h,8,0,"ng-container",5),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&e){var n=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",n.note.title||n.note.pinned),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate1"](" ",n.note.content," "),c["\u0275\u0275advance"](4),c["\u0275\u0275textInterpolate2"](" ",c["\u0275\u0275pipeBind2"](8,5,n.note.createdAt,"dd.MMM")," av ",n.note.createdBy||"Anonym"," "),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ifRole",n.RolePresets.Authority)}}var C=function(){function e(){var e=this;this.RolePresets=o.f,this.deleteClicked=new c.EventEmitter,this.editClicked=new c.EventEmitter,this.deleteNote=function(){return e.deleteClicked.emit(e.note.id)},this.editNote=function(){return e.editClicked.emit(e.note.id)}}return e.prototype.ngOnInit=function(){},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=c["\u0275\u0275defineComponent"]({type:e,selectors:[["app-note-card"]],inputs:{note:"note"},outputs:{deleteClicked:"deleteClicked",editClicked:"editClicked"},decls:1,vars:1,consts:[["fxLayout","column","fxLayoutAlign","space-between start","fxLayoutGap","5px","class","app-card m-1 p-2 mat-elevation-z2 fadeIn",4,"ngIf"],["fxLayout","column","fxLayoutAlign","space-between start","fxLayoutGap","5px",1,"app-card","m-1","p-2","mat-elevation-z2","fadeIn"],[4,"ngIf"],[1,"w-100","mb-0"],["fxLayout","row","fxLayoutAlign","space-between center",1,"w-100"],[4,"ifRole"],["fxLayout","row","fxLayoutAlign","space-between center",1,"mat-h2","w-100"],["class","ml-auto","fxLayout","column","fxLayoutAlign","center center",4,"ngIf"],["fxLayout","column","fxLayoutAlign","center center",1,"ml-auto"],["color","accent"],[1,"mat-caption","line-height-100"],["mat-icon-button","","color","primary","aria-label","Rediger notat",3,"click"],["mat-icon-button","","color","warn","aria-label","Slett notat",3,"click"]],template:function(e,t){1&e&&c["\u0275\u0275template"](0,x,10,8,"div",0),2&e&&c["\u0275\u0275property"]("ngIf",t.note)},directives:[s.l,p.c,p.b,p.d,m.a,u.a,f.a,v.b],pipes:[s.e],encapsulation:2}),e}();function b(e,t){if(1&e){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"app-note-card",3),c["\u0275\u0275listener"]("deleteClicked",(function(e){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().openConfirmDeleteDialog(e)}))("editClicked",(function(e){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().openEditNoteForm(e)})),c["\u0275\u0275elementEnd"]()}2&e&&c["\u0275\u0275property"]("note",t.$implicit)}function k(e,t){if(1&e){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"button",4),c["\u0275\u0275listener"]("click",(function(){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().openCreateNoteForm()})),c["\u0275\u0275elementStart"](1,"mat-icon"),c["\u0275\u0275text"](2,"add"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}}var w=[{path:"",component:function(){function e(e,t,n,i,c,l){var d=this;this.missionNoteService=e,this.notificationService=t,this.mainNavService=n,this.route=i,this.router=c,this.dialog=l,this.RolePresets=o.f,this.deleteNote=function(e){return d.missionNoteService.delete$(e).subscribe((function(e){return d.notificationService.setNotification("Vellykket! notat slettet.")}))},this.openConfirmDeleteDialog=function(e){d.dialog.open(a.a,{data:"Bekreft at du \xf8nsker \xe5 slette notatet."}).afterClosed().pipe(Object(r.a)((function(e){return e}))).subscribe((function(t){return d.deleteNote(e)}))},this.openCreateNoteForm=function(){return d.router.navigate(["skjema"],{relativeTo:d.route,queryParams:{missionId:d.missionId}})},this.openEditNoteForm=function(e){return d.router.navigate(["skjema"],{relativeTo:d.route,queryParams:{idPreset:e,missionId:d.missionId}})},this.onBack=function(e){return d.router.navigate(["/oppdrag",e,"detaljer"])},this.configureMainNav(this.missionId)}return Object.defineProperty(e.prototype,"missionId",{get:function(){return+this.route.snapshot.paramMap.get("id")},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this.notes$=this.missionNoteService.getByMissionId$(this.missionId)},e.prototype.configureMainNav=function(e){this.mainNavService.addTopNavConfig({default:{title:"Notater",backFn:this.onBack,backFnParams:[e]}})},e.\u0275fac=function(t){return new(t||e)(c["\u0275\u0275directiveInject"](l.r),c["\u0275\u0275directiveInject"](l.v),c["\u0275\u0275directiveInject"](l.o),c["\u0275\u0275directiveInject"](i.a),c["\u0275\u0275directiveInject"](i.c),c["\u0275\u0275directiveInject"](d.b))},e.\u0275cmp=c["\u0275\u0275defineComponent"]({type:e,selectors:[["app-mission-note-list"]],decls:5,vars:4,consts:[[1,"max-width"],[3,"note","deleteClicked","editClicked",4,"ngFor","ngForOf"],["mat-fab","","aria-label","ny","class","action_fab",3,"click",4,"ifRole"],[3,"note","deleteClicked","editClicked"],["mat-fab","","aria-label","ny",1,"action_fab",3,"click"]],template:function(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"div",0),c["\u0275\u0275template"](1,b,1,1,"app-note-card",1),c["\u0275\u0275pipe"](2,"async"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](3,k,3,0,"button",2),c["\u0275\u0275element"](4,"router-outlet")),2&e&&(c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngForOf",c["\u0275\u0275pipeBind1"](2,2,t.notes$)),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ifRole",t.RolePresets.Internal))},directives:[s.k,u.a,i.h,C,v.b,f.a],pipes:[s.b],encapsulation:2}),e}(),children:[{path:"skjema",canActivate:[l.d],data:{allowedRoles:[o.g.Leder]},loadChildren:function(){return n.e(19).then(n.bind(null,"p2ue")).then((function(e){return e.MissionNoteFormModule}))}}]}],I=function(){function e(){}return e.\u0275mod=c["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=c["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[i.g.forChild(w)],i.g]}),e}(),S=n("PCNd"),E=function(){function e(){}return e.\u0275mod=c["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=c["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[S.a,I]]}),e}()}}]);