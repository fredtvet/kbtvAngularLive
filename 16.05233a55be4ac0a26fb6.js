(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{"1eh6":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("K9Ia"),o=n("TYT/"),a=function(){function e(){this.unsubscribe=new r.a}return e.prototype.ngOnDestroy=function(){this.unsubscribe.next(),this.unsubscribe.complete()},e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=o["\u0275\u0275defineDirective"]({type:e}),e}()},"9qP0":function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n("TYT/"),o=n("Valr"),a=n("FfOm"),i=n("qaSM"),s=n("dAsQ");function l(e,t){1&e&&r["\u0275\u0275element"](0,"app-icon-button",4),2&e&&r["\u0275\u0275property"]("config",t.$implicit)}function c(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"mat-toolbar",3),r["\u0275\u0275element"](1,"app-icon-button",4),r["\u0275\u0275elementStart"](2,"span",5),r["\u0275\u0275elementStart"](3,"span",6),r["\u0275\u0275text"](4),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](5,l,1,1,"app-icon-button",7),r["\u0275\u0275elementEnd"]()),2&e){var n=r["\u0275\u0275nextContext"]();r["\u0275\u0275property"]("ngClass",n.config.colorClass?n.config.colorClass:"bg-accent"),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("config",n.config.leftBtn),r["\u0275\u0275advance"](3),r["\u0275\u0275textInterpolate"](n.config.title),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngForOf",n.config.buttons)}}var p=["*"],d=function(){function e(){}return e.prototype.ngOnInit=function(){},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["app-simple-top-nav"]],inputs:{config:"config"},ngContentSelectors:p,decls:4,vars:1,consts:[[1,"column"],["class","toolbar-slim mat-elevation-z2 flex-nav",3,"ngClass",4,"ngIf"],[1,"main-content","p-3"],[1,"toolbar-slim","mat-elevation-z2","flex-nav",3,"ngClass"],[3,"config"],[1,"mr-auto"],[1,"ml-1"],[3,"config",4,"ngFor","ngForOf"]],template:function(e,t){1&e&&(r["\u0275\u0275projectionDef"](),r["\u0275\u0275elementStart"](0,"div",0),r["\u0275\u0275template"](1,c,6,4,"mat-toolbar",1),r["\u0275\u0275elementStart"](2,"div",2),r["\u0275\u0275projection"](3),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.config))},directives:[o.l,a.a,o.j,i.a,s.a,o.k],styles:[".column[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column}.main-content[_ngcontent-%COMP%]{flex-grow:1;overflow-y:auto}"],changeDetection:0}),e}()},cRhG:function(e,t,n){"use strict";n.r(t),n.d(t,"ProfileModule",(function(){return T}));var r=n("DUip"),o=n("dJ3e"),a=n("Gi3i"),i=n("67Y/"),s=n("VnD/"),l=n("1ua0"),c=n("TYT/"),p=n("ea4N"),d=n("IzAD"),m=n("Valr"),u=n("QJY3"),f=n("17Os"),v=n("uLXW"),h=n("eHTH"),g=n("cSbt"),b=n("GsDI"),y=n("p+mS"),w=n("Up+3");function S(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"mat-error"),c["\u0275\u0275text"](1," Passord m\xe5 v\xe6re p\xe5 minst 7 tegn. "),c["\u0275\u0275elementEnd"]())}function x(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"mat-error"),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){var n=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",n.error," ")}}function E(e,t){if(1&e){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"form",3),c["\u0275\u0275elementStart"](1,"mat-form-field"),c["\u0275\u0275element"](2,"input",4),c["\u0275\u0275elementStart"](3,"mat-icon",5),c["\u0275\u0275listener"]("click",(function(){c["\u0275\u0275restoreView"](n);var e=c["\u0275\u0275nextContext"]();return e.hidePasswords.curr=!e.hidePasswords.curr})),c["\u0275\u0275text"](4),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](5,"mat-form-field"),c["\u0275\u0275element"](6,"input",6),c["\u0275\u0275elementStart"](7,"mat-icon",5),c["\u0275\u0275listener"]("click",(function(){c["\u0275\u0275restoreView"](n);var e=c["\u0275\u0275nextContext"]();return e.hidePasswords.new=!e.hidePasswords.new})),c["\u0275\u0275text"](8),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](9,S,2,0,"mat-error",7),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](10,"mat-form-field"),c["\u0275\u0275element"](11,"input",8),c["\u0275\u0275elementStart"](12,"mat-icon",5),c["\u0275\u0275listener"]("click",(function(){c["\u0275\u0275restoreView"](n);var e=c["\u0275\u0275nextContext"]();return e.hidePasswords.confirm=!e.hidePasswords.confirm})),c["\u0275\u0275text"](13),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](14,x,2,1,"mat-error",7),c["\u0275\u0275element"](15,"br"),c["\u0275\u0275elementStart"](16,"button",9),c["\u0275\u0275listener"]("click",(function(){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().onSubmit()})),c["\u0275\u0275text"](17," Lagre "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){var r=c["\u0275\u0275nextContext"]();c["\u0275\u0275property"]("formGroup",r.passwordForm),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("type",r.hidePasswords.curr?"password":"text"),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate1"](" ",r.hidePasswords.curr?"visibility_off":"visibility"," "),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("type",r.hidePasswords.new?"password":"text"),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate1"](" ",r.hidePasswords.new?"visibility_off":"visibility"," "),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",r.password.invalid),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("type",r.hidePasswords.confirm?"password":"text"),c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate1"](" ",r.hidePasswords.confirm?"visibility_off":"visibility"," "),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",r.error),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("disabled",r.passwordForm.invalid||r.passwordForm.pristine)}}var P=function(){function e(e){this._formBuilder=e,this.passwordUpdated=new c.EventEmitter,this.hidePasswords={curr:!0,new:!0,confirm:!0}}return e.prototype.ngOnInit=function(){this.initalizeForm()},e.prototype.initalizeForm=function(){this.passwordForm=this._formBuilder.group({oldPassword:["",[u.s.required,u.s.minLength(7)]],password:["",[u.s.required,u.s.minLength(7)]],confirmPassword:["",u.s.required]})},e.prototype.onSubmit=function(){var e=this.passwordForm;e.valid&&this.password.value===this.confirmPassword.value?(this.passwordUpdated.emit(e.value),this.passwordForm.reset()):this.password.value!==this.confirmPassword.value&&(this.error="Passordene er ikke like")},Object.defineProperty(e.prototype,"oldPassword",{get:function(){return this.passwordForm.get("oldPassword")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"password",{get:function(){return this.passwordForm.get("password")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"confirmPassword",{get:function(){return this.passwordForm.get("confirmPassword")},enumerable:!0,configurable:!0}),e.\u0275fac=function(t){return new(t||e)(c["\u0275\u0275directiveInject"](u.c))},e.\u0275cmp=c["\u0275\u0275defineComponent"]({type:e,selectors:[["app-password-form"]],inputs:{error:"error"},outputs:{passwordUpdated:"passwordUpdated"},decls:5,vars:1,consts:[[1,"app-card"],[1,"mb-2"],["fxLayout","column",3,"formGroup",4,"ngIf"],["fxLayout","column",3,"formGroup"],["matInput","","placeholder","N\xe5v\xe6rende passord","formControlName","oldPassword",3,"type"],["matSuffix","",3,"click"],["matInput","","placeholder","Nytt passord","formControlName","password",3,"type"],[4,"ngIf"],["matInput","","placeholder","Gjenta nytt passord","formControlName","confirmPassword",3,"type"],["appHttpCommandButton","","mat-raised-button","","color","primary",1,"w-100",3,"disabled","click"]],template:function(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"mat-card",0),c["\u0275\u0275elementStart"](1,"mat-card-header",1),c["\u0275\u0275text"](2,"Endre passord"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](3,"mat-card-content"),c["\u0275\u0275template"](4,E,18,10,"form",2),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](4),c["\u0275\u0275property"]("ngIf",t.passwordForm))},directives:[f.a,f.c,f.b,m.l,u.t,u.m,v.c,u.e,h.c,g.a,u.b,u.l,u.d,b.a,h.h,y.b,w.a,h.b],encapsulation:2}),e}(),I=n("SRL/"),C=n("3Qdv");function N(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"mat-error"),c["\u0275\u0275text"](1," Kontaktnummer m\xe5 v\xe6re mellom 4 og 12 siffer. "),c["\u0275\u0275elementEnd"]())}function k(e,t){if(1&e){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"form",3),c["\u0275\u0275elementStart"](1,"mat-form-field"),c["\u0275\u0275element"](2,"input",4),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](3,"mat-form-field"),c["\u0275\u0275element"](4,"input",5),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](5,"mat-form-field"),c["\u0275\u0275element"](6,"input",6),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](7,"mat-form-field"),c["\u0275\u0275element"](8,"input",7),c["\u0275\u0275template"](9,N,2,0,"mat-error",8),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](10,"button",9),c["\u0275\u0275listener"]("click",(function(){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().onSubmit()})),c["\u0275\u0275text"](11," Lagre "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){var r=c["\u0275\u0275nextContext"]();c["\u0275\u0275property"]("formGroup",r.profileForm),c["\u0275\u0275advance"](9),c["\u0275\u0275property"]("ngIf",r.phoneNumber.invalid),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("disabled",r.profileForm.invalid||r.profileForm.pristine)}}var F=function(){function e(e){this._formBuilder=e,this.profileUpdated=new c.EventEmitter}return e.prototype.ngOnInit=function(){this.initalizeForm()},e.prototype.initalizeForm=function(){this.profileForm=this._formBuilder.group({userName:[{value:this.user.userName,disabled:!0},[u.s.required,u.s.minLength(4),u.s.maxLength(100)]],firstName:[{value:this.user.firstName,disabled:!0},[u.s.required,u.s.maxLength(100)]],lastName:[{value:this.user.lastName,disabled:!0},[u.s.required,u.s.maxLength(100)]],phoneNumber:[this.user.phoneNumber,[u.s.minLength(4),u.s.maxLength(12)]]})},e.prototype.onSubmit=function(){var e=this.profileForm;e.valid&&this.profileUpdated.emit(e.value)},Object.defineProperty(e.prototype,"userName",{get:function(){return this.profileForm.get("userName")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"firstName",{get:function(){return this.profileForm.get("firstName")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lastName",{get:function(){return this.profileForm.get("lastName")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"phoneNumber",{get:function(){return this.profileForm.get("phoneNumber")},enumerable:!0,configurable:!0}),e.\u0275fac=function(t){return new(t||e)(c["\u0275\u0275directiveInject"](u.c))},e.\u0275cmp=c["\u0275\u0275defineComponent"]({type:e,selectors:[["app-profile-form"]],inputs:{user:"user"},outputs:{profileUpdated:"profileUpdated"},decls:5,vars:1,consts:[[1,"app-card"],[1,"mb-2"],["fxLayout","column",3,"formGroup",4,"ngIf"],["fxLayout","column",3,"formGroup"],["matInput","","placeholder","Brukernavn","formControlName","userName"],["matInput","","placeholder","Fornavn","formControlName","firstName","required",""],["matInput","","placeholder","Etternavn","formControlName","lastName","required",""],["matInput","","placeholder","Kontaktnummer","formControlName","phoneNumber"],[4,"ngIf"],["appHttpCommandButton","","mat-raised-button","","color","primary",1,"w-100",3,"disabled","click"]],template:function(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"mat-card",0),c["\u0275\u0275elementStart"](1,"mat-card-header",1),c["\u0275\u0275text"](2,"Endre profil"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](3,"mat-card-content"),c["\u0275\u0275template"](4,k,12,3,"form",2),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](4),c["\u0275\u0275property"]("ngIf",t.profileForm&&t.user))},directives:[f.a,f.c,f.b,m.l,u.t,u.m,v.c,u.e,h.c,g.a,u.b,u.l,u.d,u.r,y.b,w.a,h.b],encapsulation:2,changeDetection:0}),e}();function j(e,t){if(1&e){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"app-profile-form",13),c["\u0275\u0275listener"]("profileUpdated",(function(e){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().updateProfile(e)})),c["\u0275\u0275elementEnd"]()}2&e&&c["\u0275\u0275property"]("user",t.$implicit)}var O=[{path:"",component:function(){function e(e,t,n,r,o,c){var p=this;this.dataSyncService=e,this.appConfigService=t,this.mainNavService=n,this.authService=r,this.notificationService=o,this._dialog=c,this.user$=this.authService.currentUser$,this.syncRefreshTime$=this.appConfigService.config$.pipe(Object(a.a)(1e3),Object(i.a)((function(e){return e.syncRefreshTime/60}))),this.updateProfile=function(e){return p.authService.updateCurrentUser$(e).subscribe((function(e){return p.notificationService.setNotification("Vellykket oppdatering!")}))},this.confirmPurge=function(){p._dialog.open(l.a,{data:"Bekreft at du \xf8nsker \xe5 slette lokal data. Alt vil bli lastet inn p\xe5 nytt og dette krever mye data."}).afterClosed().pipe(Object(s.a)((function(e){return e}))).subscribe((function(e){return p.reloadAllData()}))},this.refresh=function(){return p.dataSyncService.syncAll()},this.configureMainNav()}return e.prototype.updatePassword=function(e){var t=this;this.authService.changePassword$(e.oldPassword,e.password).subscribe((function(e){return t.notificationService.setNotification("Passord oppdatert!")}),(function(e){return t.passwordStatus="N\xe5v\xe6rende passord stemmer ikke"}),(function(){return t.passwordStatus=""}))},e.prototype.updateSyncRefreshTime=function(e){isNaN(e)&&(e=30),this.appConfigService.setSyncRefreshTime(60*e)},e.prototype.reloadAllData=function(){this.dataSyncService.purgeAll(),this.dataSyncService.syncAll()},e.prototype.configureMainNav=function(){this.mainNavService.addTopNavConfig({default:{title:"Profil",elevationDisabled:!1}})},e.\u0275fac=function(t){return new(t||e)(c["\u0275\u0275directiveInject"](o.g),c["\u0275\u0275directiveInject"](o.b),c["\u0275\u0275directiveInject"](o.p),c["\u0275\u0275directiveInject"](o.e),c["\u0275\u0275directiveInject"](o.w),c["\u0275\u0275directiveInject"](p.b))},e.\u0275cmp=c["\u0275\u0275defineComponent"]({type:e,selectors:[["app-profile"]],decls:20,vars:7,consts:[["mat-stretch-tabs","","color","accent"],["label","Profil"],[1,"p-2"],[3,"user","profileUpdated",4,"ngIf"],["label","Passord"],[3,"error","passwordUpdated"],["label","Annet"],["appAddToHomeScreen","","text","Legg til app","startIcon","get_app"],["text","Synkroniser manuelt","startIcon","update",3,"click"],["text","Slett lokal data","startIcon","delete_sweep",3,"click"],[1,"app-card","mt-1"],[1,"mb-2"],["matInput","","placeholder","Synkroniseringstid i minutter","type","tel",3,"ngModel","ngModelChange"],[3,"user","profileUpdated"]],template:function(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"mat-tab-group",0),c["\u0275\u0275elementStart"](1,"mat-tab",1),c["\u0275\u0275elementStart"](2,"div",2),c["\u0275\u0275template"](3,j,1,1,"app-profile-form",3),c["\u0275\u0275pipe"](4,"async"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](5,"mat-tab",4),c["\u0275\u0275elementStart"](6,"div",2),c["\u0275\u0275elementStart"](7,"app-password-form",5),c["\u0275\u0275listener"]("passwordUpdated",(function(e){return t.updatePassword(e)})),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](8,"mat-tab",6),c["\u0275\u0275elementStart"](9,"div",2),c["\u0275\u0275element"](10,"app-list-card",7),c["\u0275\u0275elementStart"](11,"app-list-card",8),c["\u0275\u0275listener"]("click",(function(){return t.refresh()})),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](12,"app-list-card",9),c["\u0275\u0275listener"]("click",(function(){return t.confirmPurge()})),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](13,"mat-card",10),c["\u0275\u0275elementStart"](14,"mat-card-header",11),c["\u0275\u0275text"](15,"Konfigurasjon"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](16,"mat-card-content"),c["\u0275\u0275elementStart"](17,"mat-form-field"),c["\u0275\u0275elementStart"](18,"input",12),c["\u0275\u0275listener"]("ngModelChange",(function(e){return t.updateSyncRefreshTime(e)})),c["\u0275\u0275pipe"](19,"async"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("ngIf",c["\u0275\u0275pipeBind1"](4,3,t.user$)),c["\u0275\u0275advance"](4),c["\u0275\u0275property"]("error",t.passwordStatus),c["\u0275\u0275advance"](11),c["\u0275\u0275property"]("ngModel",c["\u0275\u0275pipeBind1"](19,5,t.syncRefreshTime$)))},directives:[d.b,d.a,m.l,P,I.a,C.a,f.a,f.c,f.b,h.c,g.a,u.b,u.l,u.o,F],pipes:[m.b],encapsulation:2,changeDetection:0}),e}(),canActivate:[o.d]}],L=function(){function e(){}return e.\u0275mod=c["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=c["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[r.f.forChild(O)],r.f]}),e}(),U=n("PCNd"),T=function(){function e(){}return e.\u0275mod=c["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=c["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[U.a,L]]}),e}()}}]);