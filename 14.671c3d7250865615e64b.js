(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{"1eh6":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("K9Ia"),o=n("TYT/"),i=function(){function e(){this.unsubscribe=new r.a}return e.prototype.ngOnDestroy=function(){this.unsubscribe.next(),this.unsubscribe.complete()},e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=o["\u0275\u0275defineDirective"]({type:e}),e}()},"9qP0":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("TYT/"),o=n("Valr"),i=n("FfOm"),a=n("qaSM"),p=n("dAsQ");function c(e,t){1&e&&r["\u0275\u0275element"](0,"app-icon-button",4),2&e&&r["\u0275\u0275property"]("config",t.$implicit)}function s(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"mat-toolbar",3),r["\u0275\u0275element"](1,"app-icon-button",4),r["\u0275\u0275elementStart"](2,"span",5),r["\u0275\u0275elementStart"](3,"span",6),r["\u0275\u0275text"](4),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](5,c,1,1,"app-icon-button",7),r["\u0275\u0275elementEnd"]()),2&e){var n=r["\u0275\u0275nextContext"]();r["\u0275\u0275property"]("ngClass",n.config.colorClass?n.config.colorClass:"bg-accent"),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("config",n.config.leftBtn),r["\u0275\u0275advance"](3),r["\u0275\u0275textInterpolate"](n.config.title),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngForOf",n.config.buttons)}}var m=["*"],l=function(){function e(){}return e.prototype.ngOnInit=function(){},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["app-simple-top-nav"]],inputs:{config:"config"},ngContentSelectors:m,decls:4,vars:1,consts:[[1,"column"],["class","toolbar-slim mat-elevation-z2 flex-nav",3,"ngClass",4,"ngIf"],[1,"main-content","p-3"],[1,"toolbar-slim","mat-elevation-z2","flex-nav",3,"ngClass"],[3,"config"],[1,"mr-auto"],[1,"ml-1"],[3,"config",4,"ngFor","ngForOf"]],template:function(e,t){1&e&&(r["\u0275\u0275projectionDef"](),r["\u0275\u0275elementStart"](0,"div",0),r["\u0275\u0275template"](1,s,6,4,"mat-toolbar",1),r["\u0275\u0275elementStart"](2,"div",2),r["\u0275\u0275projection"](3),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.config))},directives:[o.l,i.a,o.j,a.a,p.a,o.k],styles:[".m-0[_ngcontent-%COMP%]{margin:0}.mt-0[_ngcontent-%COMP%]{margin-top:0}.ml-0[_ngcontent-%COMP%]{margin-left:0}.mr-0[_ngcontent-%COMP%]{margin-right:0}.mb-0[_ngcontent-%COMP%]{margin-bottom:0}.m-1[_ngcontent-%COMP%]{margin:4px}.mt-1[_ngcontent-%COMP%]{margin-top:4px}.ml-1[_ngcontent-%COMP%]{margin-left:4px}.mr-1[_ngcontent-%COMP%]{margin-right:4px}.mb-1[_ngcontent-%COMP%]{margin-bottom:4px}.m-2[_ngcontent-%COMP%]{margin:8px}.mt-2[_ngcontent-%COMP%]{margin-top:8px}.ml-2[_ngcontent-%COMP%]{margin-left:8px}.mr-2[_ngcontent-%COMP%]{margin-right:8px}.mb-2[_ngcontent-%COMP%]{margin-bottom:8px}.m-3[_ngcontent-%COMP%]{margin:12px}.mt-3[_ngcontent-%COMP%]{margin-top:12px}.ml-3[_ngcontent-%COMP%]{margin-left:12px}.mr-3[_ngcontent-%COMP%]{margin-right:12px}.mb-3[_ngcontent-%COMP%]{margin-bottom:12px}.m-4[_ngcontent-%COMP%]{margin:16px}.mt-4[_ngcontent-%COMP%]{margin-top:16px}.ml-4[_ngcontent-%COMP%]{margin-left:16px}.mr-4[_ngcontent-%COMP%]{margin-right:16px}.mb-4[_ngcontent-%COMP%]{margin-bottom:16px}.m-5[_ngcontent-%COMP%]{margin:20px}.mt-5[_ngcontent-%COMP%]{margin-top:20px}.ml-5[_ngcontent-%COMP%]{margin-left:20px}.mr-5[_ngcontent-%COMP%]{margin-right:20px}.mb-5[_ngcontent-%COMP%]{margin-bottom:20px}.m-6[_ngcontent-%COMP%]{margin:24px}.mt-6[_ngcontent-%COMP%]{margin-top:24px}.ml-6[_ngcontent-%COMP%]{margin-left:24px}.mr-6[_ngcontent-%COMP%]{margin-right:24px}.mb-6[_ngcontent-%COMP%]{margin-bottom:24px}.m-auto[_ngcontent-%COMP%]{margin:auto}.mt-auto[_ngcontent-%COMP%]{margin-top:auto}.ml-auto[_ngcontent-%COMP%]{margin-left:auto}.mr-auto[_ngcontent-%COMP%]{margin-right:auto}.mb-auto[_ngcontent-%COMP%]{margin-bottom:auto}.p-0[_ngcontent-%COMP%]{padding:0}.pt-0[_ngcontent-%COMP%]{padding-top:0}.pl-0[_ngcontent-%COMP%]{padding-left:0}.pr-0[_ngcontent-%COMP%]{padding-right:0}.pb-0[_ngcontent-%COMP%]{padding-bottom:0}.p-1[_ngcontent-%COMP%]{padding:4px}.pt-1[_ngcontent-%COMP%]{padding-top:4px}.pl-1[_ngcontent-%COMP%]{padding-left:4px}.pr-1[_ngcontent-%COMP%]{padding-right:4px}.pb-1[_ngcontent-%COMP%]{padding-bottom:4px}.p-2[_ngcontent-%COMP%]{padding:8px}.pt-2[_ngcontent-%COMP%]{padding-top:8px}.pl-2[_ngcontent-%COMP%]{padding-left:8px}.pr-2[_ngcontent-%COMP%]{padding-right:8px}.pb-2[_ngcontent-%COMP%]{padding-bottom:8px}.p-3[_ngcontent-%COMP%]{padding:12px}.pt-3[_ngcontent-%COMP%]{padding-top:12px}.pl-3[_ngcontent-%COMP%]{padding-left:12px}.pr-3[_ngcontent-%COMP%]{padding-right:12px}.pb-3[_ngcontent-%COMP%]{padding-bottom:12px}.p-4[_ngcontent-%COMP%]{padding:16px}.pt-4[_ngcontent-%COMP%]{padding-top:16px}.pl-4[_ngcontent-%COMP%]{padding-left:16px}.pr-4[_ngcontent-%COMP%]{padding-right:16px}.pb-4[_ngcontent-%COMP%]{padding-bottom:16px}.p-5[_ngcontent-%COMP%]{padding:20px}.pt-5[_ngcontent-%COMP%]{padding-top:20px}.pl-5[_ngcontent-%COMP%]{padding-left:20px}.pr-5[_ngcontent-%COMP%]{padding-right:20px}.pb-5[_ngcontent-%COMP%]{padding-bottom:20px}.p-6[_ngcontent-%COMP%]{padding:24px}.pt-6[_ngcontent-%COMP%]{padding-top:24px}.pl-6[_ngcontent-%COMP%]{padding-left:24px}.pr-6[_ngcontent-%COMP%]{padding-right:24px}.pb-6[_ngcontent-%COMP%]{padding-bottom:24px}.p-auto[_ngcontent-%COMP%]{padding:auto}.pt-auto[_ngcontent-%COMP%]{padding-top:auto}.pl-auto[_ngcontent-%COMP%]{padding-left:auto}.pr-auto[_ngcontent-%COMP%]{padding-right:auto}.pb-auto[_ngcontent-%COMP%]{padding-bottom:auto}.column[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column}.main-content[_ngcontent-%COMP%]{flex-grow:1;overflow-y:auto}"],changeDetection:0}),e}()},zrcO:function(e,t,n){"use strict";n.r(t),n.d(t,"UsersModule",(function(){return Z}));var r=n("PCNd"),o=n("DUip"),i=n("dJ3e"),a=n("mrSG"),p=n("1YJq"),c=n("67Y/"),s=n("h/AT"),m=n("1ua0"),l=n("VnD/"),u=n("TYT/"),d=n("ea4N"),g=n("9qP0"),f=n("QJY3"),h=n("Valr"),v=n("uLXW"),b=n("eHTH"),C=n("cSbt"),y=n("agxM"),x=n("qaSM"),O=n("p+mS"),P=n("Up+3"),_=n("GsDI"),M=n("MqYC");function S(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"mat-error"),u["\u0275\u0275text"](1," Minst 4 tegn. \xc6\xd8\xc5 og mellomrom ikke tillatt. "),u["\u0275\u0275elementEnd"]())}function I(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"mat-error"),u["\u0275\u0275text"](1," Passord er ett obligatorisk felt p\xe5 minst 7 tegn. "),u["\u0275\u0275elementEnd"]())}function N(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"mat-form-field"),u["\u0275\u0275element"](1,"input",12),u["\u0275\u0275elementStart"](2,"mat-icon",13),u["\u0275\u0275listener"]("click",(function(){u["\u0275\u0275restoreView"](n);var e=u["\u0275\u0275nextContext"](2);return e.hidePassword=!e.hidePassword})),u["\u0275\u0275text"](3),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](4,I,2,0,"mat-error",3),u["\u0275\u0275elementEnd"]()}if(2&e){var r=u["\u0275\u0275nextContext"](2);u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("type",r.hidePassword?"password":"text"),u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate1"](" ",r.hidePassword?"visibility_off":"visibility"," "),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",r.password.invalid)}}function w(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"mat-error"),u["\u0275\u0275text"](1," Fornavn er ett obligatorisk felt p\xe5 maks 100 tegn. "),u["\u0275\u0275elementEnd"]())}function E(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"mat-error"),u["\u0275\u0275text"](1," Etternavn er ett obligatorisk felt p\xe5 maks 100 tegn. "),u["\u0275\u0275elementEnd"]())}function F(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"mat-option",14),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;u["\u0275\u0275property"]("value",n),u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate"](n)}}function k(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"mat-option",14),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;u["\u0275\u0275property"]("value",n.id),u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate"](n.name)}}function j(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"mat-error"),u["\u0275\u0275text"](1," Kontaktnummer m\xe5 v\xe6re mellom 4 og 12 siffer. "),u["\u0275\u0275elementEnd"]())}function B(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"form",1),u["\u0275\u0275elementStart"](1,"mat-form-field"),u["\u0275\u0275element"](2,"input",2),u["\u0275\u0275template"](3,S,2,0,"mat-error",3),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](4,N,5,3,"mat-form-field",3),u["\u0275\u0275elementStart"](5,"mat-form-field"),u["\u0275\u0275element"](6,"input",4),u["\u0275\u0275template"](7,w,2,0,"mat-error",3),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](8,"mat-form-field"),u["\u0275\u0275element"](9,"input",5),u["\u0275\u0275template"](10,E,2,0,"mat-error",3),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](11,"mat-form-field"),u["\u0275\u0275elementStart"](12,"mat-select",6),u["\u0275\u0275listener"]("change",(function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().changeRole(e)})),u["\u0275\u0275template"](13,F,2,2,"mat-option",7),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](14,"mat-form-field",8),u["\u0275\u0275elementStart"](15,"mat-select",9),u["\u0275\u0275listener"]("change",(function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().changeEmployerId(e)})),u["\u0275\u0275template"](16,k,2,2,"mat-option",7),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](17,"mat-form-field"),u["\u0275\u0275element"](18,"input",10),u["\u0275\u0275template"](19,j,2,0,"mat-error",3),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](20,"button",11),u["\u0275\u0275listener"]("click",(function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().onSubmit()})),u["\u0275\u0275text"](21),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()}if(2&e){var r=u["\u0275\u0275nextContext"]();u["\u0275\u0275property"]("formGroup",r.userForm),u["\u0275\u0275advance"](3),u["\u0275\u0275property"]("ngIf",r.userName.invalid),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",r.isCreateForm),u["\u0275\u0275advance"](3),u["\u0275\u0275property"]("ngIf",r.firstName.invalid),u["\u0275\u0275advance"](3),u["\u0275\u0275property"]("ngIf",r.lastName.invalid),u["\u0275\u0275advance"](3),u["\u0275\u0275property"]("ngForOf",r.roles),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("fxHide",r.role.value!==r.Roles.Oppdragsgiver),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngForOf",r.employers),u["\u0275\u0275advance"](3),u["\u0275\u0275property"]("ngIf",r.phoneNumber.invalid),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("disabled",r.userForm.invalid||r.userForm.pristine),u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",r.isCreateForm?"Legg til":"Oppdater"," ")}}var L=function(){function e(e){this._formBuilder=e,this.Roles=p.h,this.formSubmitted=new u.EventEmitter,this.isCreateForm=!1,this.hidePassword=!0}return e.prototype.ngOnInit=function(){this.user&&!this.user.userName||(this.isCreateForm=!0),this.initalizeForm(this.user)},e.prototype.initalizeForm=function(e){this.userForm=this._formBuilder.group({userName:[{value:e?e.userName:null,disabled:!this.isCreateForm},[f.s.required,f.s.pattern("^[a-zA-Z0-9_.-]*$"),f.s.minLength(4),f.s.maxLength(100)]],password:[{value:null,disabled:!this.isCreateForm},[f.s.required,f.s.minLength(7),f.s.maxLength(100)]],firstName:[e?e.firstName:null,[f.s.required,f.s.maxLength(100)]],lastName:[e?e.lastName:null,[f.s.required,f.s.maxLength(100)]],phoneNumber:[e?e.phoneNumber:null,[f.s.minLength(4),f.s.maxLength(12)]],role:[e?e.role:null,[f.s.required]],employerId:[e?e.employerId:null]})},e.prototype.onSubmit=function(){this.userForm.valid&&this.userForm.dirty&&this.formSubmitted.emit(this.userForm.getRawValue())},e.prototype.changeRole=function(e){this.role.setValue(e.target.value,{onlySelf:!0})},e.prototype.changeEmployerId=function(e){this.employerId.setValue(e.target.value,{onlySelf:!0})},Object.defineProperty(e.prototype,"userName",{get:function(){return this.userForm.get("userName")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"password",{get:function(){return this.userForm.get("password")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"firstName",{get:function(){return this.userForm.get("firstName")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lastName",{get:function(){return this.userForm.get("lastName")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"phoneNumber",{get:function(){return this.userForm.get("phoneNumber")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"role",{get:function(){return this.userForm.get("role")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"employerId",{get:function(){return this.userForm.get("employerId")},enumerable:!0,configurable:!0}),e.\u0275fac=function(t){return new(t||e)(u["\u0275\u0275directiveInject"](f.c))},e.\u0275cmp=u["\u0275\u0275defineComponent"]({type:e,selectors:[["app-user-form-view"]],inputs:{user:"user",employers:"employers",roles:"roles"},outputs:{formSubmitted:"formSubmitted"},decls:1,vars:1,consts:[["fxLayout","column",3,"formGroup",4,"ngIf"],["fxLayout","column",3,"formGroup"],["matInput","","placeholder","Brukernavn","formControlName","userName","required",""],[4,"ngIf"],["matInput","","placeholder","Fornavn","formControlName","firstName","required",""],["matInput","","placeholder","Etternavn","formControlName","lastName","required",""],["placeholder","Rolle","formControlName","role","required","",3,"change"],[3,"value",4,"ngFor","ngForOf"],[3,"fxHide"],["placeholder","Oppdragsgiver","formControlName","employerId",3,"change"],["matInput","","placeholder","Kontaktnummer","formControlName","phoneNumber"],["appHttpCommandButton","","mat-raised-button","","color","primary",1,"w-100",3,"disabled","click"],["matInput","","placeholder","Passord","formControlName","password","required","",3,"type"],["matSuffix","",3,"click"],[3,"value"]],template:function(e,t){1&e&&u["\u0275\u0275template"](0,B,22,11,"form",0),2&e&&u["\u0275\u0275property"]("ngIf",t.userForm)},directives:[h.l,f.t,f.m,v.c,f.e,b.c,C.a,f.b,f.l,f.d,f.r,y.a,h.k,x.b,O.b,P.a,b.b,_.a,b.h,M.i],encapsulation:2,changeDetection:0}),e}(),$=function(){function e(e,t,n,r){this.notificationService=e,this._roleService=t,this._userService=n,this._employerService=r,this.Roles=p.h,this.finished=new u.EventEmitter,this.isCreateForm=!1}return e.prototype.ngOnInit=function(){this.userNamePreset?this.user$=this._userService.get$(this.userNamePreset):this.isCreateForm=!0,this.roles$=this._roleService.getAll$().pipe(Object(c.a)((function(e){return e.filter((function(e){return e!=p.h.Leder}))}))),this.employers$=this._employerService.getAll$()},e.prototype.onSubmit=function(e){e?this.isCreateForm?this.createUser(e):this.updateUser(e):this.finished.emit()},e.prototype.createUser=function(e){var t=this;this._userService.add$(e).subscribe((function(e){t.notificationService.setNotification("Vellykket! Ny bruker registrert."),t.finished.emit(e)}))},e.prototype.updateUser=function(e){var t=this;this._userService.update$(e).subscribe((function(e){t.notificationService.setNotification("Vellykket oppdatering!"),t.finished.emit(e)}))},e.\u0275fac=function(t){return new(t||e)(u["\u0275\u0275directiveInject"](i.v),u["\u0275\u0275directiveInject"](i.x),u["\u0275\u0275directiveInject"](i.B),u["\u0275\u0275directiveInject"](i.k))},e.\u0275cmp=u["\u0275\u0275defineComponent"]({type:e,selectors:[["app-user-form"]],inputs:{userNamePreset:"userNamePreset"},outputs:{finished:"finished"},decls:4,vars:9,consts:[[3,"user","roles","employers","formSubmitted"]],template:function(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"app-user-form-view",0),u["\u0275\u0275listener"]("formSubmitted",(function(e){return t.onSubmit(e)})),u["\u0275\u0275pipe"](1,"async"),u["\u0275\u0275pipe"](2,"async"),u["\u0275\u0275pipe"](3,"async"),u["\u0275\u0275elementEnd"]()),2&e&&u["\u0275\u0275property"]("user",u["\u0275\u0275pipeBind1"](1,3,t.user$))("roles",u["\u0275\u0275pipeBind1"](2,5,t.roles$))("employers",u["\u0275\u0275pipeBind1"](3,7,t.employers$))},directives:[L],pipes:[h.b],encapsulation:2,changeDetection:0}),e}(),R=function(){function e(e,t,n,r){var o=this;this._userService=e,this._dialog=t,this._bottomSheetRef=n,this.data=r,this.close=function(){return o._bottomSheetRef.dismiss()},this.confirmDelete=function(){o._dialog.open(m.a,{data:"Bekreft at du \xf8nsker \xe5 slette oppdragsgiveren fra systemet."}).afterClosed().pipe(Object(l.a)((function(e){return e}))).subscribe((function(e){return o.deleteEmployer()}))},this.deleteEmployer=function(){return o._userService.delete$(o.data.userNamePreset).subscribe((function(e){return o.close()}))}}return e.prototype.ngOnInit=function(){var e=!this.data||!this.data.userNamePreset;this.navConfig={title:e?"Registrer bruker":"Rediger bruker",leftBtn:{icon:"close",callback:this.close},buttons:e?void 0:[{icon:"delete_forever",callback:this.confirmDelete}]}},e.\u0275fac=function(t){return new(t||e)(u["\u0275\u0275directiveInject"](i.B),u["\u0275\u0275directiveInject"](d.b),u["\u0275\u0275directiveInject"](s.d),u["\u0275\u0275directiveInject"](s.a))},e.\u0275cmp=u["\u0275\u0275defineComponent"]({type:e,selectors:[["app-user-form-sheet-wrapper"]],decls:2,vars:2,consts:[[3,"config"],[3,"userNamePreset","finished"]],template:function(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"app-simple-top-nav",0),u["\u0275\u0275elementStart"](1,"app-user-form",1),u["\u0275\u0275listener"]("finished",(function(){return t.close()})),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275property"]("config",t.navConfig),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("userNamePreset",null==t.data?null:t.data.userNamePreset))},directives:[g.a,$],encapsulation:2,changeDetection:0}),e}(),q=n("17Os"),D=n("dAsQ"),V=function(){function e(e){this.employerService=e,this.result=null}return e.prototype.transform=function(e){var t=this;if(e&&null!=e)return this.sub=this.employerService.get$(e).subscribe((function(e){return t.result=e})),this.result},e.prototype.ngOnDestroy=function(){this.sub&&this.sub.unsubscribe()},e.\u0275fac=function(t){return new(t||e)(u["\u0275\u0275directiveInject"](i.k))},e.\u0275pipe=u["\u0275\u0275definePipe"]({name:"getEmployerById",type:e,pure:!1}),e}();function A(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"mat-hint"),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate"](n.name)}}function U(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"a",8),u["\u0275\u0275elementStart"](1,"mat-icon"),u["\u0275\u0275text"](2,"phone"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]();u["\u0275\u0275propertyInterpolate1"]("href","tel:",n.user.phoneNumber,"",u["\u0275\u0275sanitizeUrl"])}}function T(e,t){if(1&e&&u["\u0275\u0275element"](0,"app-icon-button",9),2&e){var n=u["\u0275\u0275nextContext"]();u["\u0275\u0275property"]("config",n.editButton)}}var z=function(){function e(){this.Roles=p.h}return e.prototype.ngOnInit=function(){},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=u["\u0275\u0275defineComponent"]({type:e,selectors:[["app-user-card"]],inputs:{user:"user",editButton:"editButton"},decls:13,vars:8,consts:[[1,"app-card","mb-1"],["fxLayout","row","fxLayoutAlign","space-between center"],[1,"mr-2"],[1,"ellipsis","mr-auto"],[1,"mat-h4"],[4,"ngIf"],["class","color-success","mat-icon-button","",3,"href",4,"ngIf"],[3,"config",4,"ngIf"],["mat-icon-button","",1,"color-success",3,"href"],[3,"config"]],template:function(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"mat-card",0),u["\u0275\u0275elementStart"](1,"mat-card-content",1),u["\u0275\u0275elementStart"](2,"mat-icon",2),u["\u0275\u0275text"](3),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](4,"span",3),u["\u0275\u0275elementStart"](5,"span",4),u["\u0275\u0275text"](6),u["\u0275\u0275elementEnd"](),u["\u0275\u0275element"](7,"br"),u["\u0275\u0275template"](8,A,2,1,"mat-hint",5),u["\u0275\u0275pipe"](9,"getEmployerById"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](10,"span"),u["\u0275\u0275template"](11,U,3,1,"a",6),u["\u0275\u0275template"](12,T,1,1,"app-icon-button",7),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate"](t.user.role==t.Roles.Oppdragsgiver?"work":"person"),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate2"]("",t.user.firstName," ",t.user.lastName,""),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngIf",u["\u0275\u0275pipeBind1"](9,6,t.user.employerId)),u["\u0275\u0275advance"](3),u["\u0275\u0275property"]("ngIf",t.user.phoneNumber),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",t.editButton&&t.user.role!=t.Roles.Leder))},directives:[q.a,q.b,v.c,v.b,_.a,h.l,b.f,O.a,D.a],pipes:[V],encapsulation:2,changeDetection:0}),e}(),Y=n("uad8"),G=function(e){return[e]},H=function(e,t,n){return{icon:"edit",allowedRoles:e,callback:t,params:n}};function J(e,t){if(1&e&&u["\u0275\u0275element"](0,"app-user-card",4),2&e){var n=t.$implicit,r=u["\u0275\u0275nextContext"](2);u["\u0275\u0275property"]("user",n)("editButton",u["\u0275\u0275pureFunction3"](6,H,u["\u0275\u0275pureFunction1"](2,G,r.Roles.Leder),r.openUserForm,u["\u0275\u0275pureFunction1"](4,G,n.userName)))}}function K(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"div",2),u["\u0275\u0275template"](1,J,1,10,"app-user-card",3),u["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngForOf",n)}}function Q(e,t){1&e&&u["\u0275\u0275element"](0,"mat-spinner",5)}var W=[{path:"",component:function(){function e(e,t,n){var r=this;this.mainNavService=e,this.userService=t,this._bottomSheet=n,this.Roles=p.h,this.users$=this.userService.getAll$().pipe(Object(c.a)(this.sortByRole)),this.openUserForm=function(e){return r._bottomSheet.open(R,{data:{userNamePreset:e}})},this.configureMainNav()}return e.prototype.configureMainNav=function(){var e={title:"Brukere"};e.buttons=[{icon:"person_add",colorClass:"color-accent",aria:"Ny bruker",callback:this.openUserForm,allowedRoles:[p.h.Leder]}],this.mainNavService.addTopNavConfig({default:e})},e.prototype.sortByRole=function(e){var t=e.reduce((function(e,t){switch(t.role){case p.h.Leder:e[p.h.Leder].push(t);break;case p.h.Mellomleder:e[p.h.Mellomleder].push(t);break;case p.h.Ansatt:e[p.h.Ansatt].push(t);break;case p.h.Oppdragsgiver:e[p.h.Oppdragsgiver].push(t)}return e}),{Leder:[],Mellomleder:[],Ansatt:[],Oppdragsgiver:[]});return Object(a.d)(t[p.h.Leder],t[p.h.Mellomleder],t[p.h.Ansatt],t[p.h.Oppdragsgiver])},e.\u0275fac=function(t){return new(t||e)(u["\u0275\u0275directiveInject"](i.o),u["\u0275\u0275directiveInject"](i.B),u["\u0275\u0275directiveInject"](s.b))},e.\u0275cmp=u["\u0275\u0275defineComponent"]({type:e,selectors:[["app-user-list"]],decls:4,vars:4,consts:[["class","p-2 max-width",4,"ngIf","ngIfElse"],["loading",""],[1,"p-2","max-width"],[3,"user","editButton",4,"ngFor","ngForOf"],[3,"user","editButton"],["color","accent",1,"center-spinner"]],template:function(e,t){if(1&e&&(u["\u0275\u0275template"](0,K,2,1,"div",0),u["\u0275\u0275pipe"](1,"async"),u["\u0275\u0275template"](2,Q,1,0,"ng-template",null,1,u["\u0275\u0275templateRefExtractor"])),2&e){var n=u["\u0275\u0275reference"](3);u["\u0275\u0275property"]("ngIf",u["\u0275\u0275pipeBind1"](1,2,t.users$))("ngIfElse",n)}},directives:[h.l,h.k,z,Y.b],pipes:[h.b],encapsulation:2,changeDetection:0}),e}(),canActivate:[i.d],data:{allowedRoles:[p.h.Leder,p.h.Mellomleder]}}],X=function(){function e(){}return e.\u0275mod=u["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=u["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[o.f.forChild(W)],o.f]}),e}(),Z=function(){function e(){}return e.\u0275mod=u["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=u["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[r.a,X]]}),e}()}}]);