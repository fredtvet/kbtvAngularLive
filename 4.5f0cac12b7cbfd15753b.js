(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"+wwp":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={id:"Id",name:"Navn",phonenumber:"Telefonnummer",address:"Adresse",user:"Bruker",title:"Tittel",content:"Innhold",createdat:"Opprettet",createdby:"Opprettet av",filename:"Lenke",description:"Beskrivelse",finished:"Ferdig",username:"Brukernavn",firstname:"Fornavn",lastname:"Etternavn",email:"Epost",role:"Rolle",none:"Ingen",year:"\xc5r",month:"M\xe5ned",weeknr:"Uke",week:"Uke",date:"Dato",day:"Dag",fullname:"Navn",confirmedhours:"L\xe5ste timer",openhours:"\xc5pne timer",password:"Passord",status:"Status",starttime:"Starttid",endtime:"Sluttid",totalhours:"Timer",comment:"Kommentar",timesheet:"Time",timesheetid:"Time",timesheets:"Timer",mission:"Oppdrag",missionid:"Oppdrag",missions:"Oppdrag",employer:"Oppdragsgiver",employerid:"Oppdragsgiver",employers:"Oppdragsgivere",documenttype:"Dokumenttype",documenttypeid:"Dokumenttype",documenttypes:"Dokumenttyper",missiondocument:"Dokument",missiondocumentid:"Dokument",missiondocuments:"Dokumenter",missionnote:"Notat",missionnoteId:"Notat",missionnotes:"Notater",missiontype:"Oppdragstype",missiontypeid:"Oppdragstype",missiontypes:"Oppdragstyper",inboundemailpassword:"Epostpassord",inboundemailpasswordid:"Epostpassord",inboundemailpasswords:"Epostpassord",showall:"Vis alt",currentweek:"Denne uken",currentmonth:"Denne m\xe5ned",currentyear:"I \xe5r",custommonth:"Velg m\xe5ned",custom:"Velg tid",open:"\xc5pen",confirmed:"L\xe5st"}},"/8xO":function(e,t){},"/eqr":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r="abcdefghijklmnopqrstuvwxyz0123456789",i=r.length;function o(e){void 0===e&&(e=7);for(var t="",n=0;n<e;n++)t+=r.charAt(Math.floor(Math.random()*i));return t}},"1fZ0":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("mrSG"),i=n("Ko4u"),o=n("cT5K"),a=n("/eqr"),c=function(){function e(e){this.input=e,this.adapt()}return e.prototype.adapt=function(){this.stateProp=this.input.stateProp,this.saveAction=this.input.saveAction,this.modelConfig=o.a.get(this.stateProp),this.convertFormStateToEntity(),this.checkNestedForeigns(this.modelConfig.foreigns),this.entity=function(e,t){var n,i;t||console.trace("No model state config provided"),e[t.identifier]||(e[t.identifier]=Object(a.a)());try{for(var c=Object(r.e)(t.foreigns||[]),s=c.next();!s.done;s=c.next()){var u=o.a.get(s.value),l=e[u.foreignProp];l&&!l[u.identifier]&&(l[u.identifier]=Object(a.a)(),e[u.foreignProp]=l)}}catch(f){n={error:f}}finally{try{s&&!s.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}return e}(this.entity,this.modelConfig)},e.prototype.convertFormStateToEntity=function(){return console.error("Method not implemented"),null},e.prototype.checkNestedForeigns=function(e){var t,n;if(e)try{for(var a=Object(r.e)(e),c=a.next();!c.done;c=a.next()){var s=c.value,u=o.a.get(s),l=u.foreignKey,f=u.displayProp,d=u.foreignProp,p=u.identifier,m=this.entity[d];if(m){var h=m[f];h||(this.entity[l]=null);var v=Object(i.a)(this.input.options[s],h,f);v&&(this.entity[l]=v[p]),!v&&h||(this.entity[d]=null)}}}catch(g){t={error:g}}finally{try{c&&!c.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}},e}()},"1ua0":function(e,t,n){"use strict";n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return y}));var r=n("0IaG"),i=n("fXoL"),o=n("Wp6s"),a=n("ofXK"),c=n("XiUz"),s=n("bTqV");function u(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"mat-card-header"),i["\u0275\u0275elementStart"](1,"mat-card-title"),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){var n=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",n.config.title," ")}}function l(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"mat-card-content"),i["\u0275\u0275elementStart"](1,"p"),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){var n=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](n.config.message||"Vennligst bekreft operasjonen.")}}var f=function(){function e(e,t){this.dialogRef=e,this.config=t}return e.prototype.onNoClick=function(){this.dialogRef.close(!1)},e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](r.e),i["\u0275\u0275directiveInject"](r.a))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["app-confirm-dialog"]],decls:8,vars:5,consts:[[4,"ngIf"],["fxLayout","row","fxLayoutAlign","end center"],["mat-button","",3,"click"],["mat-button","","cdkFocusInitial","",3,"mat-dialog-close"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"mat-card"),i["\u0275\u0275template"](1,u,3,1,"mat-card-header",0),i["\u0275\u0275template"](2,l,3,1,"mat-card-content",0),i["\u0275\u0275elementStart"](3,"mat-card-actions",1),i["\u0275\u0275elementStart"](4,"button",2),i["\u0275\u0275listener"]("click",(function(){return t.onNoClick()})),i["\u0275\u0275text"](5),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](6,"button",3),i["\u0275\u0275text"](7),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.config.title),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.config.message),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate"](t.config.discardText||"Avbryt"),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("mat-dialog-close",!0),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](t.config.confirmText))},directives:[o.a,a.m,o.b,c.c,c.b,s.b,r.c,o.d,o.f,o.c],encapsulation:2,changeDetection:0}),e}(),d=(n("GQZI"),n("ILfg"),n("LgzF"),n("67B9"),n("mrSG")),p=n("2ChS"),m=n("EFs6"),h=n("NFeN");function v(e,t){if(1&e){var n=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"a",4),i["\u0275\u0275listener"]("click",(function(){i["\u0275\u0275restoreView"](n);var e=i["\u0275\u0275nextContext"]().$implicit;return i["\u0275\u0275nextContext"]().handleFn(e.callback,e.params)})),i["\u0275\u0275elementStart"](1,"mat-icon"),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"span",5),i["\u0275\u0275text"](4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){var r=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](r.icon),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](r.text)}}function g(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0,null,2),i["\u0275\u0275template"](2,v,5,2,"a",3),i["\u0275\u0275elementContainerEnd"]()),2&e){var n=t.$implicit;i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ifRole",n.allowedRoles)}}var y=function(){function e(e,t){var n=this;this._bottomSheetRef=e,this.buttons=t,this.handleFn=function(e,t){void 0===t&&(t=[]),e.apply(void 0,Object(d.d)(t)),n.close()},this.close=function(){return n._bottomSheetRef.dismiss()}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](p.d),i["\u0275\u0275directiveInject"](p.a))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["app-bottom-sheet-menu"]],decls:2,vars:1,consts:[[1,"nav-list","mat-subheading-2"],[4,"ngFor","ngForOf"],["navs",""],[3,"click",4,"ifRole"],[3,"click"],[1,"ml-2","mr-2"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"span",0),i["\u0275\u0275template"](1,g,3,1,"ng-container",1),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",t.buttons))},directives:[a.l,m.a,h.a],encapsulation:2,changeDetection:0}),e}()},"67B9":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("mrSG"),i=n("fXoL"),o=["dataGrid"],a=function(){function e(){this.columnDefs=[],this.rowData=[]}return Object.defineProperty(e.prototype,"config",{get:function(){return this._config},set:function(e){this._config=e,this.initNgGrid(e)},enumerable:!1,configurable:!0}),e.prototype.autoSizeGrid=function(){var e=this.dataGrid.columnApi.getAllColumns().filter((function(e){return"checkbox"!=e.getColId()}));this.dataGrid.columnApi.autoSizeColumns(e)},e.prototype.initNgGrid=function(e){if(!(null==e?void 0:e.data)||0===e.data.length)return this.columnDefs=[],this.rowData=[],void(this.currentObject=null);var t=e.data[0];this.hasSameObjectProps(t,this.currentObject)||(this.currentObject=t,this.columnDefs=this.addColDefs(t)),this.rowData=e.data},e.prototype.hasSameObjectProps=function(e,t){var n,i,o=Object.keys(e||{});if(o.length!==Object.keys(t||{}).length)return!1;try{for(var a=Object(r.e)(o),c=a.next();!c.done;c=a.next())if(!t.hasOwnProperty(c.value))return!1}catch(s){n={error:s}}finally{try{c&&!c.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}return!0},e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=i["\u0275\u0275defineDirective"]({type:e,viewQuery:function(e,t){var n;1&e&&i["\u0275\u0275viewQuery"](o,!0),2&e&&i["\u0275\u0275queryRefresh"](n=i["\u0275\u0275loadQuery"]())&&(t.dataGrid=n.first)},inputs:{config:"config"}}),e}()},"9AJY":function(e,t,n){"use strict";n.d(t,"d",(function(){return P})),n.d(t,"c",(function(){return I})),n.d(t,"a",(function(){return k})),n.d(t,"b",(function(){return E}));var r=n("K+RL"),i=n("lJxs"),o=n("G+73"),a=n("+wwp"),c=n("Gil/"),s=n("cT5K"),u=n("c6Pr"),l=n("fXoL"),f=function(){function e(){}return e.prototype.handle$=function(e){var t=this;return e.pipe(Object(c.a)([u.a]),Object(i.a)((function(e){return{actionId:o.a,propagate:!0,request:t.createHttpRequest(e.action),stateSnapshot:e.stateSnapshot}})))},e.prototype.createHttpRequest=function(e){var t=s.a.get(e.stateProp);return t||console.error("No model config for property "+e.stateProp),{apiUrl:this.createApiUrl(e,t),body:this.createHttpBody(e),method:this.createHttpMethod(e),cancelMessage:this.createCancelMessage(e,t)}},e.prototype.createCancelMessage=function(e,t){var n,r,i=(null===(n=e.ids)||void 0===n?void 0:n.length)>1,o=a.a[(i?e.stateProp:t.foreignProp).toLowerCase()];return"Sletting av "+((null===(r=e.ids)||void 0===r?void 0:r.length)||"")+" "+o+" med id "+(e.ids||e.id)+" er reversert!"},e.prototype.createHttpBody=function(e){return e.id?null:{ids:e.ids}},e.prototype.createApiUrl=function(e,t){return t.apiUrl+(e.id?"/"+e.id:"/DeleteRange")},e.prototype.createHttpMethod=function(e){return e.id?"DELETE":"POST"},e.\u0275prov=l["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac=function(t){return new(t||e)}}),e}(),d=n("mrSG"),p=n("8Mnh"),m=n("O/YV"),h={actionId:u.a,reducerFn:function(e,t){return function(e,t,n){var r,i,o,a;if(n.id||n.ids||console.error("deleteEntityChildren config requires either id or ids property set."),n.id)a=function(e){return function(t){return t[e]!==n.id}};else if(n.ids){var c=Object(p.a)(n.ids);a=function(e){return function(t){return void 0===c[t[e]]}}}var u=s.a.get(t),l={};if(l[t]=Object(m.a)(e[t],a(u.identifier)),null===(o=u.children)||void 0===o?void 0:o.length)try{for(var f=Object(d.e)(u.children),h=f.next();!h.done;h=f.next()){var v=h.value;l[v]=Object(m.a)(e[v],a(u.foreignKey))}}catch(g){r={error:g}}finally{try{h&&!h.done&&(i=f.return)&&i.call(f)}finally{if(r)throw r.error}}return l}(e,t.stateProp,t)},stateProperties:function(e){var t=s.a.get(e.stateProp),n=[e.stateProp];return t.children&&(n=n.concat(t.children)),n}},v=n("5+tZ"),g={missionImages:"/MissionImages/SendImages",missionDocuments:"/MissionDocuments/SendDocuments"},y=n("swmS"),b=n("qc5V"),S=function(){function e(e){this.apiService=e}return e.prototype.handle$=function(e){var t=this;return e.pipe(Object(c.a)([y.a]),Object(v.a)((function(e){var n=e.action;return t.apiService.post(g[n.stateProp],{ids:n.ids,toEmail:n.toEmail})})))},e.\u0275fac=function(t){return new(t||e)(l["\u0275\u0275inject"](b.a))},e.\u0275prov=l["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e}(),O=n("QNXn"),j=n("QZ8H"),x=function(e){function t(){return e.call(this)||this}return Object(d.b)(t,e),t.prototype.handle$=function(e){var t=this;return e.pipe(Object(c.a)([j.a]),Object(i.a)((function(e){return{actionId:o.a,propagate:!0,request:t.createHttpRequest(e.action),stateSnapshot:e.stateSnapshot}})))},t.prototype.createHttpBody=function(e){var t=new FormData,n=e.fileWrapper.modifiedFile;return n&&t.append("files",n,n.name),t.append("command",JSON.stringify(e.entity)),t},t.\u0275prov=l["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac=function(e){return new(e||t)}}),t}(O.a),C=n("v/VQ"),w={actionId:j.a,reducerFn:function(e,t){var n,r,i;return t.entity=Object(d.a)(Object(d.a)({},t.entity),{fileName:null===(r=null===(n=t.fileWrapper)||void 0===n?void 0:n.modifiedFile)||void 0===r?void 0:r.name,temp_localFileUrl:URL.createObjectURL(null===(i=t.fileWrapper)||void 0===i?void 0:i.modifiedFile)}),C.a.reducerFn(e,t)},stateProperties:C.a.stateProperties},P=[{provide:r.b,useClass:O.a,multi:!0},{provide:r.c,useValue:C.a,multi:!0}],I=[{provide:r.b,useClass:x,multi:!0},{provide:r.c,useValue:w,multi:!0}],k=[{provide:r.b,useClass:f,multi:!0},{provide:r.c,useValue:h,multi:!0}],E=[{provide:r.b,useClass:S,multi:!0}]},FnCK:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("mrSG"),i=n("O/YV"),o=n("Ko4u"),a=n("cT5K");function c(e,t,n){var c,s,u,l,f=a.a.get(t.modelProp),d=e[t.modelProp];if(!d||0==d.length)return null;var p=Object(o.a)(d,n,f.identifier);if(!p)return p;try{for(var m=Object(r.e)(t.includedForeignProps),h=m.next();!h.done;h=m.next()){var v=h.value,g=a.a.get(v);p[g.foreignProp]=Object(o.a)(e[v],p[g.foreignKey],g.identifier)}}catch(O){c={error:O}}finally{try{h&&!h.done&&(s=m.return)&&s.call(m)}finally{if(c)throw c.error}}try{for(var y=Object(r.e)(t.includedChildProps),b=y.next();!b.done;b=y.next()){var S=b.value;p[S]=Object(i.a)(e[S],(function(e){return e[f.foreignKey]===n}))}}catch(j){u={error:j}}finally{try{b&&!b.done&&(l=y.return)&&l.call(y)}finally{if(u)throw u.error}}return p}},GQZI:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("fXoL"),i=n("FKr1"),o=n("XiUz"),a=n("NFeN"),c=["*"],s=function(){function e(){var e=this;this.isSelected=!1,this.selected=new r.EventEmitter,this.toggleSelection=function(){e.isSelected=!e.isSelected,e.selected.emit(e.isSelected)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["app-selectable-card"]],inputs:{selectedText:"selectedText",selectedIcon:"selectedIcon",isSelected:"isSelected"},outputs:{selected:"selected"},ngContentSelectors:c,decls:7,vars:4,consts:[["matRipple","",1,"container",3,"press"],["fxLayout","column","fxLayoutAlign","center center",1,"overlay"],[1,"mat-body-strong"]],template:function(e,t){1&e&&(r["\u0275\u0275projectionDef"](),r["\u0275\u0275elementStart"](0,"div",0),r["\u0275\u0275listener"]("press",(function(){return t.toggleSelection()})),r["\u0275\u0275projection"](1),r["\u0275\u0275elementStart"](2,"div",1),r["\u0275\u0275elementStart"](3,"mat-icon"),r["\u0275\u0275text"](4),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](5,"span",2),r["\u0275\u0275text"](6),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](2),r["\u0275\u0275styleProp"]("opacity",t.isSelected?.65:0),r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate"](t.selectedIcon),r["\u0275\u0275advance"](2),r["\u0275\u0275textInterpolate"](t.selectedText))},directives:[i.l,o.c,o.b,a.a],styles:[".container[_ngcontent-%COMP%]{position:relative;margin:1px;touch-action:auto!important}.overlay[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0;left:0;right:0;height:100%;width:100%;opacity:0;transition:.5s ease;background-color:#000;color:#fff}"],changeDetection:0}),e}()},ILfg:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var r=n("mrSG"),i=n("fXoL"),o=n("zP0r"),a=n("1G5W"),c=n("rmBP"),s=n("LgzF"),u=n("ofXK"),l=n("GQZI"),f=n("hhBj"),d=function(){function e(){}return e.prototype.transform=function(e,t,n){for(var r=Math.ceil(e.length/n),i=[],o=0;o<r;o++){var a=e.slice(o*n,(o+1)*n);a.length>=t&&i.push(a[t-1])}return i},e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=i["\u0275\u0275definePipe"]({name:"arrayslice",type:e,pure:!0}),e}();function p(e,t){1&e&&i["\u0275\u0275elementContainer"](0)}var m=function(e){return{$implicit:e}};function h(e,t){if(1&e){var n=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"app-selectable-card",4),i["\u0275\u0275listener"]("selected",(function(){i["\u0275\u0275restoreView"](n);var e=t.$implicit;return i["\u0275\u0275nextContext"](2).toggleSelect(e)}))("click",(function(){i["\u0275\u0275restoreView"](n);var e=t.$implicit;return i["\u0275\u0275nextContext"](2).onItemClick(e.entity)})),i["\u0275\u0275template"](1,p,1,0,"ng-container",5),i["\u0275\u0275elementEnd"]()}if(2&e){var r=t.$implicit,o=i["\u0275\u0275nextContext"](2);i["\u0275\u0275property"]("selectedText",o.selectedText)("isSelected",r.selected),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngTemplateOutlet",o.itemTemplate)("ngTemplateOutletContext",i["\u0275\u0275pureFunction1"](4,m,r.entity))}}function v(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",2),i["\u0275\u0275template"](1,h,2,6,"app-selectable-card",3),i["\u0275\u0275pipe"](2,"arrayslice"),i["\u0275\u0275pipe"](3,"async"),i["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,r=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",i["\u0275\u0275pipeBind3"](2,2,i["\u0275\u0275pipeBind1"](3,6,r.selectableEntities$),n,r.totalRows))("ngForTrackBy",r.trackByFn)}}var g=function(e){function t(t){var n=e.call(this)||this;return n.selectableListPresenter=t,n.totalRows=2,n.selectionChanged=new i.EventEmitter,n.itemClicked=new i.EventEmitter,n.selectableEntities$=n.selectableListPresenter.selectableEntities$,n.clickDisabled=!1,n.onItemClick=function(e){n.clickDisabled||n.selectableListPresenter.isEntitySelected(e[n._identifier]||e)||n.itemClicked.emit(e)},n.trackByFn=function(e,t){return t.entity[n._identifier]},n.clearSelections=function(){return n.selectableListPresenter.addSelections([])},n}return Object(r.b)(t,e),Object.defineProperty(t.prototype,"entities",{set:function(e){this.selectableListPresenter.addEntities(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"identifier",{set:function(e){this._identifier=e,this.selectableListPresenter.setIdentifier(e)},enumerable:!1,configurable:!0}),t.prototype.ngOnInit=function(){var e=this;this.selectableListPresenter.selectedIds$.pipe(Object(o.a)(1),Object(a.a)(this.unsubscribe)).subscribe((function(t){return e.selectionChanged.emit(t)}))},t.prototype.toggleSelect=function(e){var t=this;this.clickDisabled=!0,this.selectableListPresenter.toggleEntity(e.entity[this._identifier]||e.entity),setTimeout((function(){return t.clickDisabled=!1}),500)},t.\u0275fac=function(e){return new(e||t)(i["\u0275\u0275directiveInject"](s.a))},t.\u0275cmp=i["\u0275\u0275defineComponent"]({type:t,selectors:[["app-selectable-list"]],inputs:{entities:"entities",identifier:"identifier",selectedText:"selectedText",selectedIcon:"selectedIcon",itemTemplate:"itemTemplate",totalRows:"totalRows"},outputs:{selectionChanged:"selectionChanged",itemClicked:"itemClicked"},features:[i["\u0275\u0275ProvidersFeature"]([s.a]),i["\u0275\u0275InheritDefinitionFeature"]],decls:3,vars:3,consts:[[1,"entity-row"],["class","entity-column",4,"ngFor","ngForOf"],[1,"entity-column"],["selectedIcon","check_circle",3,"selectedText","isSelected","selected","click",4,"ngFor","ngForOf","ngForTrackBy"],["selectedIcon","check_circle",3,"selectedText","isSelected","selected","click"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275template"](1,v,4,8,"div",1),i["\u0275\u0275pipe"](2,"arrayFromNumber"),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",i["\u0275\u0275pipeBind1"](2,1,t.totalRows)))},directives:[u.l,l.a,u.r],pipes:[f.a,d,u.b],styles:[".entity-row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;max-width:1000px;padding:1px}.entity-column[_ngcontent-%COMP%]{flex:25%;max-width:25%}@media screen and (max-width:600px){.entity-column[_ngcontent-%COMP%]{flex:50%;max-width:50%}}@media screen and (max-width:300px){.entity-column[_ngcontent-%COMP%]{flex:100%;max-width:100%}}"],changeDetection:0}),t}(Object(c.a)())},Ko4u:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("mrSG");function i(e,t,n){if(e&&0!=e.length&&t)for(var i=0;i<e.length;i++){var o=e[i];if(o[n]===t)return Object(r.a)({},o)}}},LgzF:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("mrSG"),i=n("2Vo4"),o=n("itXk"),a=n("lJxs"),c=n("fXoL"),s=function(){function e(){var e=this;this.selectedIdsSubject=new i.a([]),this.selectedIds$=this.selectedIdsSubject.asObservable(),this.entitiesSubject=new i.a([]),this.entities$=this.entitiesSubject.asObservable(),this.selectableEntities$=Object(o.a)([this.entities$,this.selectedIds$]).pipe(Object(a.a)((function(t){var n=Object(r.c)(t,2);return e.getSelectableEntities(n[0],n[1])}))),this.isEntitySelected=function(t){return e.selectedIdsSubject.value.includes(t)}}return Object.defineProperty(e.prototype,"entities",{get:function(){return Object(r.d)(this.entitiesSubject.value)},enumerable:!1,configurable:!0}),e.prototype.setIdentifier=function(e){this.identifier=e},e.prototype.addEntities=function(e){this.entitiesSubject.next(e)},e.prototype.addSelections=function(e){this.selectedIdsSubject.next(e)},e.prototype.toggleEntity=function(e){var t=Object(r.d)(this.selectedIdsSubject.value),n=t.findIndex((function(t){return t==e}));-1==n?t.push(e):t.splice(n,1),this.selectedIdsSubject.next(t)},e.prototype.getSelectableEntities=function(e,t){for(var n=[],r=0;r<e.length;r++){var i=t.includes(e[r][this.identifier]);n.push({entity:e[r],selected:i})}return n},e.\u0275prov=c["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac=function(t){return new(t||e)}}),e}()},M6VK:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("1ua0"),i=n("fXoL"),o=n("0IaG"),a=function(){function e(e){this.matDialog=e}return e.prototype.open=function(e){var t=this.matDialog.open(r.b,{data:e});return(e.cancelCallback||e.confirmCallback)&&t.afterClosed().subscribe((function(t){t&&e.confirmCallback?e.confirmCallback():!t&&e.cancelCallback&&e.cancelCallback()})),t},e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](o.b))},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"any"}),e}()},NlAt:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("mrSG"),i=n("8Mnh"),o=n("cT5K"),a=function(){function e(e,t,n){var i,a;this.modelProp=e,this.propConfig=o.a.get(this.modelProp);var c=null===(i=this.propConfig)||void 0===i?void 0:i.foreigns;this.includedForeignProps="all"===n?c||[]:this.getProps(n,c);var s=null===(a=this.propConfig)||void 0===a?void 0:a.children;this.includedChildProps="all"===t?s||[]:this.getProps(t,s),this.includedProps=Object(r.d)([e],this.includedChildProps,this.includedForeignProps)}return e.prototype.getProps=function(e,t){var n,o;if(!t||!(null==e?void 0:e.length))return[];var a=[],c=Object(i.a)(t);try{for(var s=Object(r.e)(e),u=s.next();!u.done;u=s.next()){var l=u.value;c[l]?a.push(l):console.error("'"+l+"' not registered as a relation in model config for '"+this.modelProp+"'")}}catch(f){n={error:f}}finally{try{u&&!u.done&&(o=s.return)&&o.call(s)}finally{if(n)throw n.error}}return a},e}()},O9in:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r="SAVE_MODEL"},QNXn:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("lJxs"),i=n("G+73"),o=n("+wwp"),a=n("Gil/"),c=n("cT5K"),s=n("O9in"),u=n("fXoL"),l=function(){function e(){}return e.prototype.handle$=function(e){var t=this;return e.pipe(Object(a.a)([s.a]),Object(r.a)((function(e){return{actionId:i.a,propagate:!0,request:t.createHttpRequest(e.action),stateSnapshot:e.stateSnapshot}})))},e.prototype.createHttpRequest=function(e){var t=c.a.get(e.stateProp);return t||console.error("No model config for property "+e.stateProp),{apiUrl:e.apiUrlOverride||this.createApiUrl(e,t),body:this.createHttpBody(e),method:this.createHttpMethod(e),cancelMessage:this.createCancelMessage(e,t)}},e.prototype.createCancelMessage=function(e,t){var n,r;return(2===e.saveAction?"Oppdatering":"Oppretting")+" av "+o.a[null===(n=t.foreignProp)||void 0===n?void 0:n.toLowerCase()].toLowerCase()+" med "+o.a[null===(r=t.displayProp)||void 0===r?void 0:r.toLowerCase()].toLowerCase()+" "+e.entity[t.displayProp]+" er reversert!"},e.prototype.createHttpBody=function(e){return e.entity},e.prototype.createApiUrl=function(e,t){return t.apiUrl+(2===e.saveAction?"/"+e.entity[t.identifier]:"")},e.prototype.createHttpMethod=function(e){return 2===e.saveAction?"PUT":"POST"},e.\u0275prov=u["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac=function(t){return new(t||e)}}),e}()},QZ8H:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r="SAVE_MODEL_FILE"},WAJ7:function(e,t,n){"use strict";var r=n("d5YJ");n.d(t,"ModelFormService",(function(){return r.a})),n("/8xO"),n("fcrq"),n("jWVD")},XLlq:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("WAJ7"),i=n("gYhu"),o=n("fXoL"),a=function(){function e(){}return e.\u0275mod=o["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=o["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},providers:[r.ModelFormService,i.a]}),e}()},c6Pr:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r="DELETE_MODEL"},d5YJ:function(e,t,n){"use strict";n.d(t,"a",(function(){return P}));var r=n("HDdC"),i=n("LRne"),o=n("cT5K"),a=n("c6Pr"),c=n("mrSG"),s=n("fXoL"),u=n("2Vo4"),l=n("itXk"),f=n("lJxs"),d=n("UXun"),p=n("pLZG"),m=n("IzEk"),h=n("thlL"),v=n("gYhu"),g=n("aIpU"),y=n("ofXK"),b=function(){function e(e){var t=this;this.facade=e,this.formSubmitted=new s.EventEmitter,this.formStateSubject=new u.a(null),this.isCreateForm=!1,this.onCancel=function(){return t.formSubmitted.emit(null)}}return Object.defineProperty(e.prototype,"formState",{set:function(e){this.formStateSubject.next(e)},enumerable:!1,configurable:!0}),e.prototype.ngOnInit=function(){var e=this;this.config.entityId||(this.isCreateForm=!0),this.formState$=Object(l.a)([this.formStateSubject.asObservable(),this.facade.getFormState$(this.config.stateProp)]).pipe(Object(f.a)((function(e){var t=Object(c.c)(e,2),n=t[0],r=t[1];return Object(c.a)(Object(c.a)({},r),n)})),Object(d.a)(1)),this.formConfig$=this.formState$.pipe(Object(p.a)((function(e){return null!=e})),Object(m.a)(1),Object(f.a)((function(t){return e.getFormConfig(t.options)})))},e.prototype.onSubmit=function(e){var t=this,n=this.isCreateForm?1:2;this.formSubmitted.emit(n);var r=this.config.adapter||h.a;this.formState$.pipe(Object(m.a)(1)).subscribe((function(i){var o=new r({formState:e,options:i.options,stateProp:t.config.stateProp,saveAction:n});t.facade.save(o)}))},e.prototype.getFormConfig=function(e){var t=this.config.dynamicForm;return t.initialValue?this.config.dynamicForm:Object(c.a)(Object(c.a)({},t),{initialValue:this.facade.getModelWithForeigns(this.config.entityId,this.config.stateProp,e)})},e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275directiveInject"](v.a))},e.\u0275cmp=s["\u0275\u0275defineComponent"]({type:e,selectors:[["app-model-form"]],inputs:{config:"config",formState:"formState"},outputs:{formSubmitted:"formSubmitted"},decls:3,vars:6,consts:[[3,"config","formState","formSubmitted"]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"app-dynamic-form",0),s["\u0275\u0275listener"]("formSubmitted",(function(e){return e?t.onSubmit(e):t.onCancel()})),s["\u0275\u0275pipe"](1,"async"),s["\u0275\u0275pipe"](2,"async"),s["\u0275\u0275elementEnd"]()),2&e&&s["\u0275\u0275property"]("config",s["\u0275\u0275pipeBind1"](1,2,t.formConfig$))("formState",s["\u0275\u0275pipeBind1"](2,4,t.formState$))},directives:[g.a],pipes:[y.b],encapsulation:2,changeDetection:0}),e}(),S=n("+wwp"),O=n("VUy1"),j=n("2ChS"),x=n("tyNb"),C=n("M6VK"),w=n("sYIv"),P=function(){function e(e,t,n,r){var i=this;this.matBottomSheet=e,this.router=t,this.confirmService=n,this.store=r,this.close=function(e,t,n){n&&i.router.navigate([n]),t.dismiss(e)},this.translateStateProp=function(e){var t,n;return null===(n=S.a[null===(t=o.a.get(e).foreignProp)||void 0===t?void 0:t.toLowerCase()])||void 0===n?void 0:n.toLowerCase()},this.confirmDelete=function(e,t,n){var r=i.translateStateProp(e.stateProp);i.confirmService.open({title:"Slett "+r+"?",message:"Bekreft at du \xf8nsker \xe5 slette "+r+' med id "'+e.entityId+'"',confirmText:"Slett",confirmCallback:function(){return i.deleteEntity(e,t,n)}})},this.deleteEntity=function(e,t,n){i.close(0,n,t),i.store.dispatch({stateProp:e.stateProp,actionId:a.a,id:e.entityId})}}return e.prototype.open=function(e){var t=this,n=this.matBottomSheet.open(O.a,{data:{formConfig:e.formConfig,submitCallback:e.submitCallback,formComponent:b,formState$:e.formState instanceof r.a?e.formState:Object(i.a)(e.formState),navConfig:{title:e.customTitle||(e.formConfig.entityId?"Oppdater":"Registrer")+" \n             "+this.translateStateProp(e.formConfig.stateProp),backFn:function(){return t.close(null,n)},backIcon:"close",buttons:[e.deleteDisabled||!e.formConfig.entityId?null:{icon:"delete_forever",color:"warn",callback:function(){return t.confirmDelete(e.formConfig,e.onDeleteUri,n)}}]}}});return e.onSaveUri&&n.afterDismissed().subscribe((function(n){return t.router.navigate([e.onSaveUri])})),n},e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275inject"](j.b),s["\u0275\u0275inject"](x.b),s["\u0275\u0275inject"](C.a),s["\u0275\u0275inject"](w.a))},e.\u0275prov=s["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e}()},fcrq:function(e,t){},gYhu:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("mrSG"),i=n("lJxs"),o=n("NlAt"),a=n("FnCK"),c=n("cT5K"),s=n("fXoL"),u=n("sYIv"),l=function(){function e(e){this.store=e}return e.prototype.getFormState$=function(e){var t=c.a.get(e);return this.store.select$(Object(r.d)(t.foreigns||[],[e]),!1).pipe(Object(i.a)((function(e){return{options:e}})))},e.prototype.getModelWithForeigns=function(e,t,n){var i=Object(r.a)({},n);i[t]=this.store.selectProperty(t,!1);var c=new o.a(t,null,"all");return Object(a.a)(i,c,e)},e.prototype.save=function(e){this.store.dispatch(e)},e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275inject"](u.a))},e.\u0275prov=s["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e}()},hhBj:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("fXoL"),i=function(){function e(){}return e.prototype.transform=function(e,t){void 0===t&&(t=!1);for(var n=[],r=t?0:1;r<=e;r++)n.push(r);return n},e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=r["\u0275\u0275definePipe"]({name:"arrayFromNumber",type:e,pure:!0}),e}()},jWVD:function(e,t){},swmS:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r="MAIL_MODELS"},thlL:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("mrSG"),i=n("1fZ0"),o=n("O9in"),a=function(e){function t(t){var n=e.call(this,t)||this;return n.actionId=o.a,n}return Object(r.b)(t,e),t.prototype.convertFormStateToEntity=function(){this.entity=this.input.formState},t}(i.a)},"v/VQ":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("mrSG");function i(e,t){if(!e||0==e.length)return e;var n=e.slice();return n.unshift(t),n}var o=n("cT5K"),a={actionId:n("O9in").a,reducerFn:function(e,t){var n=o.a.get(t.stateProp);return t.entity.updatedAt=(new Date).getTime(),function(e,t,n,a){var c,s,u=o.a.get(t);try{for(var l=Object(r.e)(u.foreigns||[]),f=l.next();!f.done;f=l.next()){var d=f.value,p=o.a.get(d),m=n[p.foreignProp];if(m){var h=m[p.identifier];h?(e[d]=i(e[d],m),n[p.foreignKey]=h,n[p.foreignProp]=null):(console.error("Entity from "+t+" has foreign property from "+d+" set with no ID"),n[p.foreignProp]=null)}}}catch(v){c={error:v}}finally{try{f&&!f.done&&(s=l.return)&&s.call(l)}finally{if(c)throw c.error}}return e[t]=a(n,e[t]),e}(e,t.stateProp,t.entity,2===t.saveAction?function(e,t){return function(e,t,n){if(!e||0==e.length)return e;for(var i=e.slice(),o=0;o<i.length;o++){var a=i[o];if(a[n]===t[n]){i[o]=Object(r.a)({},Object.assign(a,t));break}}return i}(t,e,n.identifier)}:function(e,t){return i(t,e)})},stateProperties:function(e){var t,n,i=[e.stateProp],a=o.a.get(e.stateProp);if(a.foreigns)try{for(var c=Object(r.e)(a.foreigns),s=c.next();!s.done;s=c.next()){var u=s.value,l=o.a.get(u);e.entity[l.foreignProp]&&i.push(u)}}catch(f){t={error:f}}finally{try{s&&!s.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}return i}}}}]);
//# sourceMappingURL=4.5f0cac12b7cbfd15753b.js.map