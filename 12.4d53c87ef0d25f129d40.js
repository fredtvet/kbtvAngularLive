(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{Wucu:function(n,l,e){"use strict";e.d(l,"a",(function(){return o})),e.d(l,"b",(function(){return i}));var t=e("CcnG"),o=(e("qAlS"),e("Fzqc"),e("dWZg"),t["ɵcrt"]({encapsulation:2,styles:["cdk-virtual-scroll-viewport{display:block;position:relative;overflow:auto;contain:strict;transform:translateZ(0);will-change:scroll-position;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:0}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:0}.cdk-virtual-scroll-spacer{position:absolute;top:0;left:0;height:1px;width:1px;transform-origin:0 0}[dir=rtl] .cdk-virtual-scroll-spacer{right:0;left:auto;transform-origin:100% 0}"],data:{}}));function i(n){return t["ɵvid"](2,[t["ɵqud"](402653184,1,{_contentWrapper:0}),(n()(),t["ɵeld"](1,0,[[1,0],["contentWrapper",1]],null,1,"div",[["class","cdk-virtual-scroll-content-wrapper"]],null,null,null,null,null)),t["ɵncd"](null,0),(n()(),t["ɵeld"](3,0,null,null,0,"div",[["class","cdk-virtual-scroll-spacer"]],[[4,"width",null],[4,"height",null]],null,null,null,null))],null,(function(n,l){var e=l.component;n(l,3,0,e._totalContentWidth,e._totalContentHeight)}))}},hc6J:function(n,l,e){"use strict";e.r(l);var t=e("CcnG"),o=function(){return function(){}}(),i=e("pMnS"),a=e("NcP4"),u=e("xYTU"),r=e("t68o"),d=e("yWMr"),c=e("B8PE"),s=e("X9NA"),m=e("ZYCi"),p=e("XehU"),f=e("bujt"),g=e("UodH"),v=e("lLAP"),h=e("wFw1"),b=e("Mr+X"),_=e("SMsm"),C=e("21Lb"),y=e("OzfB"),x=e("mrSG"),k=e("K9Ia"),R=e("1eh6"),w=e("Gi3i"),I=e("ad02"),S=e("xMyE"),O=e("ny24"),P=function(n){function l(){var l=n.call(this)||this;return l.debounceTime=400,l.inputChanged=new t.EventEmitter,l.inputUpdated=new k.a,l.inputUpdated.asObservable().pipe(Object(w.a)(l.debounceTime),Object(I.a)(),Object(S.a)((function(n){return l.inputChanged.emit(n)})),Object(O.a)(l.unsubscribe)).subscribe(),l}return x.__extends(l,n),l.prototype.onKeyUp=function(n){this.onInputChange(n.target.value)},l.prototype.onInputChange=function(n){this.inputUpdated.next(n)},l}(R.a),M=e("Ip0R"),E=e("Wucu"),F=e("qAlS"),N=e("Fzqc"),L=e("Pohz"),T=e("RL7/"),D=e("k5Aa"),V=function(){function n(n,l,e){var o=this;this._bottomSheet=n,this.router=l,this.route=e,this.Roles=D.f,this.missions=[],this.title="Oppdrag",this.search=new t.EventEmitter,this.onSearch=function(n){return o.search.emit(n)},this.openMissionForm=function(){return o.router.navigate(["ny"],{relativeTo:o.route})},this.trackByFn=function(n,l){return l.id}}return n.prototype.ngOnInit=function(){},n}(),q=e("BgWK"),$=t["ɵcrt"]({encapsulation:2,styles:[],data:{animation:[{type:7,name:"listAnimation",definitions:[{type:1,expr:"* <=> *",animation:[{type:11,selector:":enter",animation:[{type:6,styles:{opacity:0},offset:null},{type:12,timings:"60ms",animation:{type:4,styles:{type:6,styles:{opacity:1},offset:null},timings:"600ms ease-out"}}],options:{optional:!0}},{type:11,selector:":leave",animation:{type:4,styles:{type:6,styles:{opacity:0},offset:null},timings:"200ms"},options:{optional:!0}}],options:null}],options:{}}]}});function j(n){return t["ɵvid"](0,[(n()(),t["ɵeld"](0,0,null,null,1,"p",[["class","m-2"]],null,null,null,null,null)),(n()(),t["ɵted"](-1,null,["Fant ingen oppdrag"]))],null,null)}function B(n){return t["ɵvid"](0,[(n()(),t["ɵeld"](0,0,null,null,3,"app-list-card",[["startIcon","home_work"]],null,[[null,"click"]],(function(n,l,e){var o=!0;return"click"===l&&(o=!1!==t["ɵnov"](n,1).onClick()&&o),o}),s.b,s.a)),t["ɵdid"](1,16384,null,0,m.l,[m.k,m.a,[8,null],t.Renderer2,t.ElementRef],{routerLink:[0,"routerLink"]},null),t["ɵpad"](2,3),t["ɵdid"](3,114688,null,0,p.a,[],{startIcon:[0,"startIcon"],endIcon:[1,"endIcon"],text:[2,"text"]},null)],(function(n,l){var e=n(l,2,0,"/oppdrag",l.context.$implicit.id,"detaljer");n(l,1,0,e),n(l,3,0,"home_work",l.context.$implicit.finished?"check":"chevron_right","("+l.context.$implicit.id+") "+l.context.$implicit.address)}),null)}function A(n){return t["ɵvid"](0,[(n()(),t["ɵeld"](0,0,null,null,4,"button",[["aria-label","ny"],["class","action_fab"],["mat-fab",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.openMissionForm()&&t),t}),f.d,f.b)),t["ɵdid"](1,180224,null,0,g.b,[t.ElementRef,v.f,[2,h.a]],null,null),(n()(),t["ɵeld"](2,0,null,0,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,b.b,b.a)),t["ɵdid"](3,9158656,null,0,_.b,[t.ElementRef,_.d,[8,null],[2,_.a],[2,t.ErrorHandler]],null,null),(n()(),t["ɵted"](-1,0,["add"]))],(function(n,l){n(l,3,0)}),(function(n,l){n(l,0,0,t["ɵnov"](l,1).disabled||null,"NoopAnimations"===t["ɵnov"](l,1)._animationMode),n(l,2,0,t["ɵnov"](l,3).inline,"primary"!==t["ɵnov"](l,3).color&&"accent"!==t["ɵnov"](l,3).color&&"warn"!==t["ɵnov"](l,3).color)}))}function H(n){return t["ɵvid"](2,[(n()(),t["ɵeld"](0,0,null,null,14,"div",[["class","h-100 pl-2 pr-2 max-width"],["fxLayout","column"],["fxLayoutAlign","start stretch"],["style","overflow:hidden"]],null,null,null,null,null)),t["ɵdid"](1,671744,null,0,C.c,[t.ElementRef,y.i,[2,C.i],y.f],{fxLayout:[0,"fxLayout"]},null),t["ɵdid"](2,671744,null,0,C.b,[t.ElementRef,y.i,[2,C.g],y.f],{fxLayoutAlign:[0,"fxLayoutAlign"]},null),(n()(),t["ɵeld"](3,0,null,null,1,"input",[["appInputListener",""],["class","mt-2 mb-2 p-2 pl-3 mat-elevation-z2 fadeInDown"],["placeholder","Søk med adresse eller id"],["style","background:white;border:none;border-radius:10px;"]],null,[[null,"inputChanged"],[null,"keyup"]],(function(n,l,e){var o=!0,i=n.component;return"keyup"===l&&(o=!1!==t["ɵnov"](n,4).onKeyUp(e)&&o),"inputChanged"===l&&(o=!1!==i.onSearch(e)&&o),o}),null,null)),t["ɵdid"](4,147456,null,0,P,[],null,{inputChanged:"inputChanged"}),(n()(),t["ɵand"](16777216,null,null,1,null,j)),t["ɵdid"](6,16384,null,0,M.l,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["ɵeld"](7,0,null,null,7,"cdk-virtual-scroll-viewport",[["class","cdk-virtual-scroll-viewport"],["fxFlex",""],["itemSize","60"],["maxBufferPx","800"],["minBufferPx","800"]],[[2,"cdk-virtual-scroll-orientation-horizontal",null],[2,"cdk-virtual-scroll-orientation-vertical",null]],null,null,E.b,E.a)),t["ɵprd"](6144,null,F.b,null,[F.d]),t["ɵdid"](9,540672,null,0,F.a,[],{itemSize:[0,"itemSize"],minBufferPx:[1,"minBufferPx"],maxBufferPx:[2,"maxBufferPx"]},null),t["ɵprd"](1024,null,F.i,F.k,[F.a]),t["ɵdid"](11,245760,null,0,F.d,[t.ElementRef,t.ChangeDetectorRef,t.NgZone,[2,F.i],[2,N.b],F.f],null,null),t["ɵdid"](12,671744,null,0,C.a,[t.ElementRef,y.i,y.e,C.f,y.f],{fxFlex:[0,"fxFlex"]},null),(n()(),t["ɵand"](16777216,null,0,1,null,B)),t["ɵdid"](14,409600,null,0,F.c,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers,[1,F.d],t.NgZone],{cdkVirtualForOf:[0,"cdkVirtualForOf"],cdkVirtualForTrackBy:[1,"cdkVirtualForTrackBy"]},null),(n()(),t["ɵand"](16777216,null,null,2,null,A)),t["ɵdid"](16,16384,null,0,L.a,[t.TemplateRef,t.ViewContainerRef,T.a],{ifRole:[0,"ifRole"]},null),t["ɵpad"](17,2)],(function(n,l){var e=l.component;n(l,1,0,"column"),n(l,2,0,"start stretch"),n(l,6,0,null==e.missions||0==e.missions.length),n(l,9,0,"60","800","800"),n(l,11,0),n(l,12,0,""),n(l,14,0,e.missions,e.trackByFn);var t=n(l,17,0,e.Roles.Leder,e.Roles.Mellomleder);n(l,16,0,t)}),(function(n,l){n(l,7,0,"horizontal"===t["ɵnov"](l,11).orientation,"horizontal"!==t["ɵnov"](l,11).orientation)}))}var z=e("RHY+"),U=e("26FU"),Z=e("15JJ"),W=e("67Y/"),G=function(){function n(n,l,e){var t=this;this.mainNavService=n,this.missionService=l,this.dialog=e,this.Roles=D.f,this.pageInfoSubject=new U.a({searchString:"",showFinishedMissions:!1,historic:!1}),this.searchMissionList=function(n){var l=x.__assign({},t.pageInfoSubject.value);l.searchString=n,t.pageInfoSubject.next(l)},this.toggleFinishedMissions=function(){var n=x.__assign({},t.pageInfoSubject.value);n.showFinishedMissions=!n.showFinishedMissions,t.pageInfoSubject.next(n);var l="check_box_outline_blank";n.showFinishedMissions&&(l="check_box");var e=t.mainNavService.getTopDefaultNavConfig();e.bottomSheetButtons[0].icon=l,t.mainNavService.addTopNavConfig({default:e})},this.toggleHistoricOrder=function(){var n=x.__assign({},t.pageInfoSubject.value);n.historic=!n.historic,t.pageInfoSubject.next(n);var l="color-background";n.historic&&(l="color-accent");var e=t.mainNavService.getTopDefaultNavConfig();e.buttons[0].colorClass=l,t.mainNavService.addTopNavConfig({default:e})},this.configureMainNav()}return n.prototype.ngOnInit=function(){var n=this;this.vm$=this.pageInfoSubject.pipe(Object(Z.a)((function(l){return n.missionService.getBy$((function(e){return n.filterMission(e,l)})).pipe(Object(W.a)((function(n){return{missions:n,pageInfo:l}})))})))},n.prototype.filterMission=function(n,l){var e=n.finished==l.showFinishedMissions;e=e&&(!l.searchString||null==l.searchString||n.address.toLowerCase().includes(l.searchString.toLowerCase()));var t=+l.searchString;return isNaN(t)||(e=e||n.id===t),e},n.prototype.configureMainNav=function(){var n={title:"Oppdrag"};n.buttons=[{icon:"history",colorClass:"color-background",aria:"Historisk visning",callback:this.toggleHistoricOrder}],n.bottomSheetButtons=[{text:"Vis ferdige oppdrag",icon:"check_box_outline_blank",callback:this.toggleFinishedMissions}],this.mainNavService.addTopNavConfig({default:n})},n}(),X=e("kn+k"),K=e("R5A2"),J=e("o3x0"),Y=t["ɵcrt"]({encapsulation:2,styles:[],data:{}});function Q(n){return t["ɵvid"](0,[(n()(),t["ɵeld"](0,0,null,null,2,"app-mission-list-view",[],null,[[null,"search"]],(function(n,l,e){var t=!0;return"search"===l&&(t=!1!==n.component.searchMissionList(e)&&t),t}),H,$)),t["ɵdid"](1,114688,null,0,V,[q.b,m.k,m.a],{missions:[0,"missions"]},{search:"search"}),t["ɵppd"](2,3)],(function(n,l){var e=t["ɵunv"](l,1,0,n(l,2,0,t["ɵnov"](l.parent,0),l.context.$implicit.missions,null!=l.context.$implicit.pageInfo&&l.context.$implicit.pageInfo.historic?"lastVisited":"updatedAt","desc"));n(l,1,0,e)}),null)}function nn(n){return t["ɵvid"](2,[t["ɵpid"](0,z.a,[]),(n()(),t["ɵand"](16777216,null,null,2,null,Q)),t["ɵdid"](2,16384,null,0,M.l,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),t["ɵpid"](131072,M.b,[t.ChangeDetectorRef]),(n()(),t["ɵeld"](4,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),t["ɵdid"](5,212992,null,0,m.p,[m.b,t.ViewContainerRef,t.ComponentFactoryResolver,[8,null],t.ChangeDetectorRef],null,null)],(function(n,l){var e=l.component;n(l,2,0,t["ɵunv"](l,2,0,t["ɵnov"](l,3).transform(e.vm$))),n(l,5,0)}),null)}function ln(n){return t["ɵvid"](0,[(n()(),t["ɵeld"](0,0,null,null,1,"app-mission-list",[],null,null,null,nn,Y)),t["ɵdid"](1,114688,null,0,G,[X.a,K.a,J.e],null,null)],(function(n,l){n(l,1,0)}),null)}var en=t["ɵccf"]("app-mission-list",G,ln,{},{},[]),tn=e("7iLc"),on=e("r43C"),an=e("Wf4p"),un=e("dWZg"),rn=function(){return function(){this.Roles=D.f}}(),dn=t["ɵcrt"]({encapsulation:2,styles:[],data:{}});function cn(n){return t["ɵvid"](0,[(n()(),t["ɵeld"](0,0,null,null,38,"div",[["class","p-2 max-width"]],null,null,null,null,null)),(n()(),t["ɵeld"](1,0,null,null,25,"mat-grid-list",[["class","mat-subheading-2 mb-2 mat-grid-list"],["cols","2"],["gutterSize","5"],["rowHeight","3:2"]],null,null,null,tn.c,tn.a)),t["ɵdid"](2,2211840,null,1,on.a,[t.ElementRef,[2,N.b]],{cols:[0,"cols"],gutterSize:[1,"gutterSize"],rowHeight:[2,"rowHeight"]},null),t["ɵqud"](603979776,1,{_tiles:1}),t["ɵprd"](2048,null,on.e,null,[on.a]),(n()(),t["ɵeld"](5,0,null,0,10,"a",[],[[8,"href",4]],null,null,null,null)),(n()(),t["ɵeld"](6,0,null,null,9,"mat-grid-tile",[["class","mat-elevation-z2 bg-foreground mat-ripple mat-grid-tile"],["matRipple",""]],[[2,"mat-ripple-unbounded",null]],null,null,tn.d,tn.b)),t["ɵdid"](7,212992,null,0,an.w,[t.ElementRef,t.NgZone,un.a,[2,an.m],[2,h.a]],null,null),t["ɵdid"](8,49152,[[1,4]],0,on.c,[t.ElementRef,[2,on.e]],null,null),(n()(),t["ɵeld"](9,0,null,0,6,"span",[["class","text-center"]],null,null,null,null,null)),(n()(),t["ɵeld"](10,0,null,null,2,"mat-icon",[["class","scale-150 mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,b.b,b.a)),t["ɵdid"](11,9158656,null,0,_.b,[t.ElementRef,_.d,[8,null],[2,_.a],[2,t.ErrorHandler]],null,null),(n()(),t["ɵted"](-1,0,["phone"])),(n()(),t["ɵeld"](13,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),t["ɵeld"](14,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),t["ɵted"](15,null,[""," "])),(n()(),t["ɵeld"](16,0,null,0,10,"a",[["target","_blank"]],[[8,"href",4]],null,null,null,null)),(n()(),t["ɵeld"](17,0,null,null,9,"mat-grid-tile",[["class","mat-elevation-z2 bg-foreground mat-ripple mat-grid-tile"],["matRipple",""]],[[2,"mat-ripple-unbounded",null]],null,null,tn.d,tn.b)),t["ɵdid"](18,212992,null,0,an.w,[t.ElementRef,t.NgZone,un.a,[2,an.m],[2,h.a]],null,null),t["ɵdid"](19,49152,[[1,4]],0,on.c,[t.ElementRef,[2,on.e]],null,null),(n()(),t["ɵeld"](20,0,null,0,6,"span",[["class","text-center"]],null,null,null,null,null)),(n()(),t["ɵeld"](21,0,null,null,2,"mat-icon",[["class","scale-150 mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,b.b,b.a)),t["ɵdid"](22,9158656,null,0,_.b,[t.ElementRef,_.d,[8,null],[2,_.a],[2,t.ErrorHandler]],null,null),(n()(),t["ɵted"](-1,0,["directions_car"])),(n()(),t["ɵeld"](24,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),t["ɵeld"](25,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),t["ɵted"](-1,null,["Veibeskrivelse"])),(n()(),t["ɵeld"](27,0,null,null,3,"app-list-card",[["startIcon","photo_library"],["text","Bilder"]],null,[[null,"click"]],(function(n,l,e){var o=!0;return"click"===l&&(o=!1!==t["ɵnov"](n,28).onClick()&&o),o}),s.b,s.a)),t["ɵdid"](28,16384,null,0,m.l,[m.k,m.a,[8,null],t.Renderer2,t.ElementRef],{routerLink:[0,"routerLink"]},null),t["ɵpad"](29,3),t["ɵdid"](30,114688,null,0,p.a,[],{startIcon:[0,"startIcon"],text:[1,"text"]},null),(n()(),t["ɵeld"](31,0,null,null,3,"app-list-card",[["startIcon","folder"],["text","Dokumenter"]],null,[[null,"click"]],(function(n,l,e){var o=!0;return"click"===l&&(o=!1!==t["ɵnov"](n,32).onClick()&&o),o}),s.b,s.a)),t["ɵdid"](32,16384,null,0,m.l,[m.k,m.a,[8,null],t.Renderer2,t.ElementRef],{routerLink:[0,"routerLink"]},null),t["ɵpad"](33,3),t["ɵdid"](34,114688,null,0,p.a,[],{startIcon:[0,"startIcon"],text:[1,"text"]},null),(n()(),t["ɵeld"](35,0,null,null,3,"app-list-card",[["startIcon","rate_review"],["text","Notater"]],null,[[null,"click"]],(function(n,l,e){var o=!0;return"click"===l&&(o=!1!==t["ɵnov"](n,36).onClick()&&o),o}),s.b,s.a)),t["ɵdid"](36,16384,null,0,m.l,[m.k,m.a,[8,null],t.Renderer2,t.ElementRef],{routerLink:[0,"routerLink"]},null),t["ɵpad"](37,3),t["ɵdid"](38,114688,null,0,p.a,[],{startIcon:[0,"startIcon"],text:[1,"text"]},null)],(function(n,l){var e=l.component;n(l,2,0,"2","5","3:2"),n(l,7,0),n(l,11,0),n(l,18,0),n(l,22,0);var t=n(l,29,0,"/oppdrag",e.vm.mission.id,"bilder");n(l,28,0,t),n(l,30,0,"photo_library","Bilder");var o=n(l,33,0,"/oppdrag",e.vm.mission.id,"dokumenter");n(l,32,0,o),n(l,34,0,"folder","Dokumenter");var i=n(l,37,0,"/oppdrag",e.vm.mission.id,"notater");n(l,36,0,i),n(l,38,0,"rate_review","Notater")}),(function(n,l){var e=l.component;n(l,5,0,t["ɵinlineInterpolate"](1,"tel:",e.vm.mission.phoneNumber,"")),n(l,6,0,t["ɵnov"](l,7).unbounded),n(l,10,0,t["ɵnov"](l,11).inline,"primary"!==t["ɵnov"](l,11).color&&"accent"!==t["ɵnov"](l,11).color&&"warn"!==t["ɵnov"](l,11).color),n(l,15,0,e.vm.mission.phoneNumber||"N/A"),n(l,16,0,t["ɵinlineInterpolate"](1,"https://www.google.com/maps/dir/?api=1&destination=",e.vm.mission.address,"&travelmode=driving")),n(l,17,0,t["ɵnov"](l,18).unbounded),n(l,21,0,t["ɵnov"](l,22).inline,"primary"!==t["ɵnov"](l,22).color&&"accent"!==t["ɵnov"](l,22).color&&"warn"!==t["ɵnov"](l,22).color)}))}function sn(n){return t["ɵvid"](2,[(n()(),t["ɵand"](16777216,null,null,1,null,cn)),t["ɵdid"](1,16384,null,0,M.l,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(n,l){n(l,1,0,l.component.vm)}),null)}var mn=e("1ua0"),pn=e("VnD/"),fn=e("dzgT"),gn=function(){function n(n,l){var e=this;this._bottomSheetRef=n,this.data=l,this.close=function(){return e._bottomSheetRef.dismiss()}}return n.prototype.ngOnInit=function(){this.navConfig={title:this.data&&this.data.noteIdPreset?"Rediger notat":"Registrer notat",leftBtn:{icon:"close",callback:this.close}}},n}(),vn=function(){function n(n,l){var e=this;this._bottomSheetRef=n,this.data=l,this.close=function(){return e._bottomSheetRef.dismiss()}}return n.prototype.ngOnInit=function(){this.navConfig={title:"Legg til dokument",leftBtn:{icon:"close",callback:this.close}}},n}(),hn=function(){function n(n,l,e,t,o,i,a,u,r,d){var c=this;this.mainNavService=n,this.missionService=l,this.missionImageService=e,this.missionDocumentService=t,this.missionNoteService=o,this.notificationService=i,this.route=a,this.router=u,this.dialog=r,this._bottomSheet=d,this.RolePresets=D.e,this.Roles=D.f,this.uploadImages=function(n){c.missionImageService.addImages$(n.missionId,n.files).subscribe((function(n){return c.notificationService.setNotification("Vellykket! "+n.length+" "+(n.length>1?"bilder":"bilde")+" lastet opp.")}))},this.deleteMission=function(n){c.onBack(),c.missionService.delete$(n).pipe(Object(pn.a)((function(n){return n}))).subscribe((function(n){return c.notificationService.setNotification("Vellykket! Oppdrag slettet.")}))},this.openMissionForm=function(n){return c.router.navigate(["rediger"],{relativeTo:c.route,queryParams:{id:n}})},this.openMissionNoteForm=function(n){return c._bottomSheet.open(gn,{data:{missionId:n}})},this.openDocumentForm=function(n){return c._bottomSheet.open(vn,{data:{missionId:n}})},this.openDeleteMissionDialog=function(n){c.dialog.open(mn.a,{data:"Bekreft at du ønsker å slette oppdraget."}).afterClosed().pipe(Object(pn.a)((function(n){return n}))).subscribe((function(l){return c.deleteMission(n)}))},this.goToTimesheets=function(n){return c.router.navigate(["timer/liste",{returnRoute:c.router.url,missionId:JSON.stringify(n)}])},this.onBack=function(){return c.router.navigate(["/oppdrag"])}}return n.prototype.ngOnInit=function(){var n=this,l=+this.route.snapshot.paramMap.get("id"),e=this.missionService.getDetails$(l),t=this.missionImageService.getByMissionId$(l).pipe(Object(W.a)((function(n){return n.length}))),o=this.missionDocumentService.getByMissionId$(l).pipe(Object(W.a)((function(n){return n.length}))),i=this.missionNoteService.getByMissionId$(l).pipe(Object(W.a)((function(n){return n.length})));this.vm$=Object(fn.a)(e,t,o,i).pipe(Object(W.a)((function(n){var l=x.__read(n,4);return{mission:l[0],imageCount:l[1],documentCount:l[2],noteCount:l[3]}})),Object(S.a)((function(l){return n.configureMainNav(l.mission)})))},n.prototype.configureMainNav=function(n){var l={title:n.address.split(",").filter((function(n){return"norge"!==n.toLowerCase().replace(/\s/g,"")})),subTitle:n.finished?"Oppdrag ferdig!":"",subIcon:n.finished?"check":"",imgSrc:n.imageURL,backFn:this.onBack};l.bottomSheetButtons=[{text:"Registrer timer",icon:"timer",callback:this.goToTimesheets,params:[n],allowedRoles:D.e.Internal},{text:"Legg til dokument",icon:"note_add",callback:this.openDocumentForm,params:[n.id],allowedRoles:[D.f.Leder]},{text:"Legg til notat",icon:"add_comment",callback:this.openMissionNoteForm,params:[n.id],allowedRoles:D.e.Internal},{text:"Rediger",icon:"edit",callback:this.openMissionForm,params:[n.id],allowedRoles:[D.f.Leder]},{text:"Slett",icon:"delete_forever",callback:this.openDeleteMissionDialog,params:[n.id],allowedRoles:[D.f.Leder]}],this.mainNavService.addTopNavConfig({detail:l})},n}(),bn=e("9wL4"),_n=e("k9Gr"),Cn=e("R7eK"),yn=e("Pv01"),xn=t["ɵcrt"]({encapsulation:2,styles:[],data:{}});function kn(n){return t["ɵvid"](0,[(n()(),t["ɵeld"](0,0,null,null,1,"app-mission-details-view",[],null,null,null,sn,dn)),t["ɵdid"](1,49152,null,0,rn,[],{vm:[0,"vm"]},null)],(function(n,l){n(l,1,0,l.context.$implicit)}),null)}function Rn(n){return t["ɵvid"](2,[(n()(),t["ɵand"](16777216,null,null,2,null,kn)),t["ɵdid"](1,16384,null,0,M.l,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),t["ɵpid"](131072,M.b,[t.ChangeDetectorRef]),(n()(),t["ɵeld"](3,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),t["ɵdid"](4,212992,null,0,m.p,[m.b,t.ViewContainerRef,t.ComponentFactoryResolver,[8,null],t.ChangeDetectorRef],null,null)],(function(n,l){var e=l.component;n(l,1,0,t["ɵunv"](l,1,0,t["ɵnov"](l,2).transform(e.vm$))),n(l,4,0)}),null)}function wn(n){return t["ɵvid"](0,[(n()(),t["ɵeld"](0,0,null,null,1,"app-mission-details",[],null,null,null,Rn,xn)),t["ɵdid"](1,114688,null,0,hn,[X.a,K.a,bn.a,_n.a,Cn.a,yn.a,m.a,m.k,J.e,q.b],null,null)],(function(n,l){n(l,1,0)}),null)}var In=t["ɵccf"]("app-mission-details",hn,wn,{},{},[]),Sn=function(){return function(){var n=this;this.isSelected=!1,this.selected=new t.EventEmitter,this.toggleSelection=function(){n.isSelected=!n.isSelected,n.selected.emit(n.isSelected)}}}(),On=t["ɵcrt"]({encapsulation:0,styles:[[".m-0[_ngcontent-%COMP%]{margin:0}.mt-0[_ngcontent-%COMP%]{margin-top:0}.ml-0[_ngcontent-%COMP%]{margin-left:0}.mr-0[_ngcontent-%COMP%]{margin-right:0}.mb-0[_ngcontent-%COMP%]{margin-bottom:0}.m-1[_ngcontent-%COMP%]{margin:4px}.mt-1[_ngcontent-%COMP%]{margin-top:4px}.ml-1[_ngcontent-%COMP%]{margin-left:4px}.mr-1[_ngcontent-%COMP%]{margin-right:4px}.mb-1[_ngcontent-%COMP%]{margin-bottom:4px}.m-2[_ngcontent-%COMP%]{margin:8px}.mt-2[_ngcontent-%COMP%]{margin-top:8px}.ml-2[_ngcontent-%COMP%]{margin-left:8px}.mr-2[_ngcontent-%COMP%]{margin-right:8px}.mb-2[_ngcontent-%COMP%]{margin-bottom:8px}.m-3[_ngcontent-%COMP%]{margin:12px}.mt-3[_ngcontent-%COMP%]{margin-top:12px}.ml-3[_ngcontent-%COMP%]{margin-left:12px}.mr-3[_ngcontent-%COMP%]{margin-right:12px}.mb-3[_ngcontent-%COMP%]{margin-bottom:12px}.m-4[_ngcontent-%COMP%]{margin:16px}.mt-4[_ngcontent-%COMP%]{margin-top:16px}.ml-4[_ngcontent-%COMP%]{margin-left:16px}.mr-4[_ngcontent-%COMP%]{margin-right:16px}.mb-4[_ngcontent-%COMP%]{margin-bottom:16px}.m-5[_ngcontent-%COMP%]{margin:20px}.mt-5[_ngcontent-%COMP%]{margin-top:20px}.ml-5[_ngcontent-%COMP%]{margin-left:20px}.mr-5[_ngcontent-%COMP%]{margin-right:20px}.mb-5[_ngcontent-%COMP%]{margin-bottom:20px}.m-6[_ngcontent-%COMP%]{margin:24px}.mt-6[_ngcontent-%COMP%]{margin-top:24px}.ml-6[_ngcontent-%COMP%]{margin-left:24px}.mr-6[_ngcontent-%COMP%]{margin-right:24px}.mb-6[_ngcontent-%COMP%]{margin-bottom:24px}.m-auto[_ngcontent-%COMP%]{margin:auto}.mt-auto[_ngcontent-%COMP%]{margin-top:auto}.ml-auto[_ngcontent-%COMP%]{margin-left:auto}.mr-auto[_ngcontent-%COMP%]{margin-right:auto}.mb-auto[_ngcontent-%COMP%]{margin-bottom:auto}.p-0[_ngcontent-%COMP%]{padding:0}.pt-0[_ngcontent-%COMP%]{padding-top:0}.pl-0[_ngcontent-%COMP%]{padding-left:0}.pr-0[_ngcontent-%COMP%]{padding-right:0}.pb-0[_ngcontent-%COMP%]{padding-bottom:0}.p-1[_ngcontent-%COMP%]{padding:4px}.pt-1[_ngcontent-%COMP%]{padding-top:4px}.pl-1[_ngcontent-%COMP%]{padding-left:4px}.pr-1[_ngcontent-%COMP%]{padding-right:4px}.pb-1[_ngcontent-%COMP%]{padding-bottom:4px}.p-2[_ngcontent-%COMP%]{padding:8px}.pt-2[_ngcontent-%COMP%]{padding-top:8px}.pl-2[_ngcontent-%COMP%]{padding-left:8px}.pr-2[_ngcontent-%COMP%]{padding-right:8px}.pb-2[_ngcontent-%COMP%]{padding-bottom:8px}.p-3[_ngcontent-%COMP%]{padding:12px}.pt-3[_ngcontent-%COMP%]{padding-top:12px}.pl-3[_ngcontent-%COMP%]{padding-left:12px}.pr-3[_ngcontent-%COMP%]{padding-right:12px}.pb-3[_ngcontent-%COMP%]{padding-bottom:12px}.p-4[_ngcontent-%COMP%]{padding:16px}.pt-4[_ngcontent-%COMP%]{padding-top:16px}.pl-4[_ngcontent-%COMP%]{padding-left:16px}.pr-4[_ngcontent-%COMP%]{padding-right:16px}.pb-4[_ngcontent-%COMP%]{padding-bottom:16px}.p-5[_ngcontent-%COMP%]{padding:20px}.pt-5[_ngcontent-%COMP%]{padding-top:20px}.pl-5[_ngcontent-%COMP%]{padding-left:20px}.pr-5[_ngcontent-%COMP%]{padding-right:20px}.pb-5[_ngcontent-%COMP%]{padding-bottom:20px}.p-6[_ngcontent-%COMP%]{padding:24px}.pt-6[_ngcontent-%COMP%]{padding-top:24px}.pl-6[_ngcontent-%COMP%]{padding-left:24px}.pr-6[_ngcontent-%COMP%]{padding-right:24px}.pb-6[_ngcontent-%COMP%]{padding-bottom:24px}.p-auto[_ngcontent-%COMP%]{padding:auto}.pt-auto[_ngcontent-%COMP%]{padding-top:auto}.pl-auto[_ngcontent-%COMP%]{padding-left:auto}.pr-auto[_ngcontent-%COMP%]{padding-right:auto}.pb-auto[_ngcontent-%COMP%]{padding-bottom:auto}.container[_ngcontent-%COMP%]{position:relative;margin:1px}.overlay[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0;left:0;right:0;height:100%;width:100%;opacity:0;transition:.5s ease;background-color:#000;color:#fff}"]],data:{}});function Pn(n){return t["ɵvid"](2,[(n()(),t["ɵeld"](0,0,null,null,10,"div",[["class","container mat-ripple"],["matRipple",""]],[[2,"mat-ripple-unbounded",null]],[[null,"press"]],(function(n,l,e){var t=!0;return"press"===l&&(t=!1!==n.component.toggleSelection()&&t),t}),null,null)),t["ɵdid"](1,212992,null,0,an.w,[t.ElementRef,t.NgZone,un.a,[2,an.m],[2,h.a]],null,null),t["ɵncd"](null,0),(n()(),t["ɵeld"](3,0,null,null,7,"div",[["class","overlay"],["fxLayout","column"],["fxLayoutAlign","center center"]],[[4,"opacity",null]],null,null,null,null)),t["ɵdid"](4,671744,null,0,C.c,[t.ElementRef,y.i,[2,C.i],y.f],{fxLayout:[0,"fxLayout"]},null),t["ɵdid"](5,671744,null,0,C.b,[t.ElementRef,y.i,[2,C.g],y.f],{fxLayoutAlign:[0,"fxLayoutAlign"]},null),(n()(),t["ɵeld"](6,0,null,null,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,b.b,b.a)),t["ɵdid"](7,9158656,null,0,_.b,[t.ElementRef,_.d,[8,null],[2,_.a],[2,t.ErrorHandler]],null,null),(n()(),t["ɵted"](8,0,["",""])),(n()(),t["ɵeld"](9,0,null,null,1,"span",[["class","mat-body-strong"]],null,null,null,null,null)),(n()(),t["ɵted"](10,null,["",""]))],(function(n,l){n(l,1,0),n(l,4,0,"column"),n(l,5,0,"center center"),n(l,7,0)}),(function(n,l){var e=l.component;n(l,0,0,t["ɵnov"](l,1).unbounded),n(l,3,0,e.isSelected?.65:0),n(l,6,0,t["ɵnov"](l,7).inline,"primary"!==t["ɵnov"](l,7).color&&"accent"!==t["ɵnov"](l,7).color&&"warn"!==t["ɵnov"](l,7).color),n(l,8,0,e.selectedIcon),n(l,10,0,e.selectedText)}))}var Mn=e("z9HP"),En=function(){function n(){}return n.prototype.transform=function(n,l){void 0===l&&(l=!1);for(var e=[],t=l?0:1;t<=n;t++)e.push(t);return e},n}(),Fn=function(){function n(){}return n.prototype.transform=function(n,l,e){for(var t=Math.ceil(n.length/e),o=[],i=0;i<t;i++){var a=n.slice(i*e,(i+1)*e);a.length>=l&&o.push(a[l-1])}return o},n}(),Nn=function(){function n(){}return n.prototype.transform=function(n){return n.replace(/images/gi,"thumbnails")},n}(),Ln=function(n){function l(){var l=n.call(this)||this;return l.selectedIdsSubject=new U.a([]),l.selectedIds$=l.selectedIdsSubject.asObservable(),l.entitiesSubject=new U.a([]),l.entities$=l.entitiesSubject.asObservable(),l.selectableEntities$=Object(fn.a)(l.entities$,l.selectedIds$).pipe(Object(W.a)((function(n){var e=x.__read(n,2);return l.getSelectableEntities(e[0],e[1])}))),l.isEntitySelected=function(n){return l.selectedIdsSubject.value.includes(n)},l}return x.__extends(l,n),Object.defineProperty(l.prototype,"entities",{get:function(){return x.__spread(this.entitiesSubject.value)},enumerable:!0,configurable:!0}),l.prototype.addEntities=function(n){this.entitiesSubject.next(n)},l.prototype.addSelections=function(n){this.selectedIdsSubject.next(n)},l.prototype.toggleEntity=function(n){var l=x.__spread(this.selectedIdsSubject.value),e=l.findIndex((function(l){return l==n}));-1==e?l.push(n):l.splice(e,1),this.selectedIdsSubject.next(l)},l.prototype.getSelectableEntities=function(n,l){for(var e=[],t=0;t<n.length;t++){var o=l.includes(n[t].id);e.push({entity:n[t],selected:o})}return e},l}(R.a),Tn=e("0mNj"),Dn=function(n){function l(l){var e=n.call(this)||this;return e.selectableListPresenter=l,e.selectionChanged=new t.EventEmitter,e.selectableEntities$=e.selectableListPresenter.selectableEntities$,e.clearSelections=function(){return e.selectableListPresenter.addSelections([])},e}return x.__extends(l,n),Object.defineProperty(l.prototype,"entities",{set:function(n){this.selectableListPresenter.addEntities(n)},enumerable:!0,configurable:!0}),l.prototype.ngOnInit=function(){var n=this;this.selectableListPresenter.selectedIds$.pipe(Object(Tn.a)(1),Object(O.a)(this.unsubscribe)).subscribe((function(l){return n.selectionChanged.emit(l)}))},l.prototype.toggleSelect=function(n){this.selectableListPresenter.toggleEntity(n.entity.id)},l}(R.a),Vn=function(n){function l(l){var e=n.call(this,l)||this;return e.disableImageViewer=!1,e.totalRows=2,e.imageClicked=new t.EventEmitter,e.imageClick=function(n){e.disableImageViewer||e.selectableListPresenter.isEntitySelected(n.id)||e.imageClicked.emit(n)},e}return x.__extends(l,n),l.prototype.toggleSelect=function(l){var e=this;this.disableImageViewer=!0,n.prototype.toggleSelect.call(this,l),setTimeout((function(){return e.disableImageViewer=!1}),500)},l.prototype.trackById=function(n,l){return l.entity.id},l}(Dn),qn=t["ɵcrt"]({encapsulation:2,styles:[],data:{}});function $n(n){return t["ɵvid"](0,[(n()(),t["ɵeld"](0,0,null,null,4,"app-selectable-card",[["selectedIcon","check_circle"],["selectedText","Bilde valgt"]],null,[[null,"selected"],[null,"click"]],(function(n,l,e){var t=!0,o=n.component;return"selected"===l&&(t=!1!==o.toggleSelect(n.context.$implicit)&&t),"click"===l&&(t=!1!==o.imageClick(n.context.$implicit.entity)&&t),t}),Pn,On)),t["ɵdid"](1,49152,null,0,Sn,[],{selectedText:[0,"selectedText"],selectedIcon:[1,"selectedIcon"],isSelected:[2,"isSelected"]},{selected:"selected"}),(n()(),t["ɵeld"](2,0,null,0,2,"img",[["appImageErrorReloader",""],["class","entity-card fadeIn"]],[[8,"src",4]],[[null,"error"]],(function(n,l,e){var o=!0;return"error"===l&&(o=!1!==t["ɵnov"](n,3).onError()&&o),o}),null,null)),t["ɵdid"](3,16384,null,0,Mn.a,[t.ElementRef],null,null),t["ɵppd"](4,1)],(function(n,l){n(l,1,0,"Bilde valgt","check_circle",l.context.$implicit.selected)}),(function(n,l){var e=t["ɵinlineInterpolate"](1,"",t["ɵunv"](l,2,0,n(l,4,0,t["ɵnov"](l.parent.parent,2),l.context.$implicit.entity.fileURL)),"");n(l,2,0,e)}))}function jn(n){return t["ɵvid"](0,[(n()(),t["ɵeld"](0,0,null,null,4,"div",[["class","entity-column"]],null,null,null,null,null)),(n()(),t["ɵand"](16777216,null,null,3,null,$n)),t["ɵdid"](2,278528,null,0,M.k,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null),t["ɵpid"](131072,M.b,[t.ChangeDetectorRef]),t["ɵppd"](4,3)],(function(n,l){var e=l.component,o=t["ɵunv"](l,2,0,n(l,4,0,t["ɵnov"](l.parent,1),t["ɵunv"](l,2,0,t["ɵnov"](l,3).transform(e.selectableEntities$)),l.context.$implicit,e.totalRows));n(l,2,0,o,e.trackById)}),null)}function Bn(n){return t["ɵvid"](2,[t["ɵpid"](0,En,[]),t["ɵpid"](0,Fn,[]),t["ɵpid"](0,Nn,[]),(n()(),t["ɵeld"](3,0,null,null,3,"div",[["class","entity-row"]],null,null,null,null,null)),(n()(),t["ɵand"](16777216,null,null,2,null,jn)),t["ɵdid"](5,278528,null,0,M.k,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),t["ɵppd"](6,1)],(function(n,l){var e=l.component,o=t["ɵunv"](l,5,0,n(l,6,0,t["ɵnov"](l,0),e.totalRows));n(l,5,0,o)}),null)}var An=function(){function n(n,l,e,t){var o=this;this._missionImageService=n,this._notificationService=l,this._bottomSheetRef=e,this.data=t,this.close=function(n){return o._bottomSheetRef.dismiss(n)},this.mailImages=function(n){return o._missionImageService.mailImages$(n,o.data.ids).subscribe((function(n){o.close(!0),o._notificationService.setNotification("Vellykket! "+o.data.ids.length+" "+(o.data.ids.length>1?"bilder":"bilde")+" sendt")}))}}return n.prototype.ngOnInit=function(){this.navConfig={title:"Send bilder",leftBtn:{icon:"close",callback:this.close}}},n}(),Hn=function(){function n(n,l,e,t,o){var i=this;this.dialog=n,this.downloaderService=l,this.missionImageService=e,this.dialogRef=t,this.data=o,this.deleteImage=function(n){return i.missionImageService.delete$(n).subscribe((function(n){return i.dialogRef.close()}))},this.close=function(){return i.dialogRef.close()},this.deleteCurrentImage=function(){return i.missionImageService.delete$(i.data.currentImage.id).subscribe((function(n){return i.dialogRef.close()}))},this.downloadImage=function(){return i.downloaderService.downloadUrl(i.data.currentImage.fileURL)},this.downloadImages=function(){return i.downloaderService.downloadUrls(i.data.images.map((function(n){return n.fileURL})))},this.openConfirmDeleteDialog=function(){i.dialog.open(mn.a,{data:"Bekreft at du ønsker å slette bildet."}).afterClosed().pipe(Object(pn.a)((function(n){return n}))).subscribe((function(n){return i.deleteCurrentImage()}))}}return n.prototype.ngOnInit=function(){this.actions=[{text:"Last ned bilde",icon:"cloud_download",callback:this.downloadImage},{text:"Last ned alle",icon:"cloud_download",callback:this.downloadImages},{text:"Slett bilde",icon:"delete",callback:this.openConfirmDeleteDialog,allowedRoles:[D.f.Leder]}]},n}(),zn=function(n){function l(l,e,t,o,i,a,u,r,d){var c=n.call(this)||this;return c.deviceInfoService=l,c.bottomSheet=e,c.dialog=t,c.notificationService=o,c.mainNavService=i,c.missionImageService=a,c.missionService=u,c.route=r,c.router=d,c.RolePresets=D.e,c.currentSelections=[],c.isXs$=c.deviceInfoService.isXs$,c.uploadImages=function(n){c.missionImageService.addImages$(c.missionId,n).subscribe((function(n){return c.notificationService.setNotification("Vellykket! "+n.length+" "+(n.length>1?"bilder":"bilde")+" lastet opp.")}))},c.deleteImages=function(n){c.missionImageService.deleteRange$(n).subscribe((function(l){c.imageList.clearSelections(),c.notificationService.setNotification("Vellykket! "+n.length+" "+(n.length>1?"bilder":"bilde")+" slettet.")}))},c.openConfirmDeleteDialog=function(n){c.dialog.open(mn.a,{data:"Bekreft at du ønsker å slette utvalgte bilder."}).afterClosed().pipe(Object(pn.a)((function(n){return n}))).subscribe((function(l){return c.deleteImages(n)}))},c.openMailImageSheet=function(n){c.bottomSheet.open(An,{data:{toEmailPreset:c.mission.employer?c.mission.employer.email:null,ids:n}}).afterDismissed().pipe(Object(pn.a)((function(n){return n}))).subscribe((function(n){return c.imageList.clearSelections()}))},c.updateMainNav=function(n){var l=c.mainNavService.getTopDefaultNavConfig();l.bottomSheetButtons=c.getBottomSheetButtons(n.map((function(n){return n.id}))),c.mainNavService.addTopNavConfig({default:l})},c.onBack=function(n){return c.router.navigate(["/oppdrag",n,"detaljer"])},c.getBottomSheetButtons=function(n){return[{icon:"send",text:"Send alle bilder",callback:c.openMailImageSheet,params:[n],allowedRoles:D.e.Authority}]},c.configureMainNav(c.missionId),c}return x.__extends(l,n),Object.defineProperty(l.prototype,"missionId",{get:function(){return+this.route.snapshot.paramMap.get("id")},enumerable:!0,configurable:!0}),l.prototype.ngOnInit=function(){var n=this;this.images$=this.missionImageService.getByMissionId$(this.missionId).pipe(Object(S.a)(this.updateMainNav)),this.missionService.getDetails$(this.missionId).pipe(Object(O.a)(this.unsubscribe)).subscribe((function(l){return n.mission=l}))},l.prototype.openImageViewer=function(n,l){this.dialog.open(Hn,{width:"100%",height:"100%",panelClass:"image_viewer_dialog",data:{currentImage:n,images:l}})},l.prototype.configureMainNav=function(n){this.mainNavService.addTopNavConfig({default:{title:"Bilder",backFn:this.onBack,backFnParams:[n]}})},l}(R.a),Un=e("/bry"),Zn=t["ɵcrt"]({encapsulation:2,styles:[],data:{}});function Wn(n){return t["ɵvid"](0,[(n()(),t["ɵeld"](0,0,null,null,3,"app-image-list",[],null,[[null,"selectionChanged"],[null,"imageClicked"]],(function(n,l,e){var t=!0,o=n.component;return"selectionChanged"===l&&(t=!1!==(o.currentSelections=e)&&t),"imageClicked"===l&&(t=!1!==o.openImageViewer(e,n.context.$implicit)&&t),t}),Bn,qn)),t["ɵprd"](131584,null,Ln,Ln,[]),t["ɵdid"](2,245760,[[1,4],["imageList",4]],0,Vn,[Ln],{entities:[0,"entities"],totalRows:[1,"totalRows"]},{selectionChanged:"selectionChanged",imageClicked:"imageClicked"}),t["ɵpid"](131072,M.b,[t.ChangeDetectorRef])],(function(n,l){var e=l.component;n(l,2,0,l.context.$implicit,t["ɵunv"](l,2,1,t["ɵnov"](l,3).transform(e.isXs$))?2:4)}),null)}function Gn(n){return t["ɵvid"](0,[(n()(),t["ɵeld"](0,0,null,null,10,null,null,null,null,null,null,null)),(n()(),t["ɵeld"](1,0,null,null,4,"button",[["aria-label","ny"],["class","action_fab_2"],["mat-fab",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,l,e){var t=!0,o=n.component;return"click"===l&&(t=!1!==o.openMailImageSheet(o.currentSelections)&&t),t}),f.d,f.b)),t["ɵdid"](2,180224,null,0,g.b,[t.ElementRef,v.f,[2,h.a]],null,null),(n()(),t["ɵeld"](3,0,null,0,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,b.b,b.a)),t["ɵdid"](4,9158656,null,0,_.b,[t.ElementRef,_.d,[8,null],[2,_.a],[2,t.ErrorHandler]],null,null),(n()(),t["ɵted"](-1,0,["send"])),(n()(),t["ɵeld"](6,0,null,null,4,"button",[["aria-label","ny"],["class","action_fab_3 bg-warn"],["mat-fab",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,l,e){var t=!0,o=n.component;return"click"===l&&(t=!1!==o.openConfirmDeleteDialog(o.currentSelections)&&t),t}),f.d,f.b)),t["ɵdid"](7,180224,null,0,g.b,[t.ElementRef,v.f,[2,h.a]],null,null),(n()(),t["ɵeld"](8,0,null,0,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,b.b,b.a)),t["ɵdid"](9,9158656,null,0,_.b,[t.ElementRef,_.d,[8,null],[2,_.a],[2,t.ErrorHandler]],null,null),(n()(),t["ɵted"](-1,0,["delete_forever"]))],(function(n,l){n(l,4,0),n(l,9,0)}),(function(n,l){n(l,1,0,t["ɵnov"](l,2).disabled||null,"NoopAnimations"===t["ɵnov"](l,2)._animationMode),n(l,3,0,t["ɵnov"](l,4).inline,"primary"!==t["ɵnov"](l,4).color&&"accent"!==t["ɵnov"](l,4).color&&"warn"!==t["ɵnov"](l,4).color),n(l,6,0,t["ɵnov"](l,7).disabled||null,"NoopAnimations"===t["ɵnov"](l,7)._animationMode),n(l,8,0,t["ɵnov"](l,9).inline,"primary"!==t["ɵnov"](l,9).color&&"accent"!==t["ɵnov"](l,9).color&&"warn"!==t["ɵnov"](l,9).color)}))}function Xn(n){return t["ɵvid"](0,[(n()(),t["ɵeld"](0,0,null,null,2,null,null,null,null,null,null,null)),(n()(),t["ɵand"](16777216,null,null,1,null,Gn)),t["ɵdid"](2,16384,null,0,L.a,[t.TemplateRef,t.ViewContainerRef,T.a],{ifRole:[0,"ifRole"]},null),(n()(),t["ɵand"](0,null,null,0))],(function(n,l){n(l,2,0,l.component.RolePresets.Authority)}),null)}function Kn(n){return t["ɵvid"](0,[(n()(),t["ɵeld"](0,0,null,null,4,"button",[["aria-label","ny"],["class","action_fab"],["mat-fab",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,l,e){var o=!0;return"click"===l&&(o=!1!==t["ɵnov"](n.parent,8).click()&&o),o}),f.d,f.b)),t["ɵdid"](1,180224,null,0,g.b,[t.ElementRef,v.f,[2,h.a]],null,null),(n()(),t["ɵeld"](2,0,null,0,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,b.b,b.a)),t["ɵdid"](3,9158656,null,0,_.b,[t.ElementRef,_.d,[8,null],[2,_.a],[2,t.ErrorHandler]],null,null),(n()(),t["ɵted"](-1,0,["camera_enhance"]))],(function(n,l){n(l,3,0)}),(function(n,l){n(l,0,0,t["ɵnov"](l,1).disabled||null,"NoopAnimations"===t["ɵnov"](l,1)._animationMode),n(l,2,0,t["ɵnov"](l,3).inline,"primary"!==t["ɵnov"](l,3).color&&"accent"!==t["ɵnov"](l,3).color&&"warn"!==t["ɵnov"](l,3).color)}))}function Jn(n){return t["ɵvid"](2,[t["ɵqud"](671088640,1,{imageList:0}),(n()(),t["ɵand"](16777216,null,null,2,null,Wn)),t["ɵdid"](2,16384,null,0,M.l,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),t["ɵpid"](131072,M.b,[t.ChangeDetectorRef]),(n()(),t["ɵand"](16777216,null,null,1,null,Xn)),t["ɵdid"](5,16384,null,0,M.l,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["ɵand"](16777216,null,null,1,null,Kn)),t["ɵdid"](7,16384,null,0,L.a,[t.TemplateRef,t.ViewContainerRef,T.a],{ifRole:[0,"ifRole"]},null),(n()(),t["ɵeld"](8,0,[["imageInput",1]],null,0,"input",[["multiple",""],["style","display:none"],["type","file"]],null,[[null,"change"]],(function(n,l,e){var t=!0;return"change"===l&&(t=!1!==n.component.uploadImages(e.target.files)&&t),t}),null,null))],(function(n,l){var e=l.component;n(l,2,0,t["ɵunv"](l,2,0,t["ɵnov"](l,3).transform(e.images$))),n(l,5,0,e.currentSelections.length>0),n(l,7,0,e.RolePresets.Internal)}),null)}function Yn(n){return t["ɵvid"](0,[(n()(),t["ɵeld"](0,0,null,null,1,"app-mission-image-list",[],null,null,null,Jn,Zn)),t["ɵdid"](1,245760,null,0,zn,[Un.a,q.b,J.e,yn.a,X.a,bn.a,K.a,m.a,m.k],null,null)],(function(n,l){n(l,1,0)}),null)}var Qn=t["ɵccf"]("app-mission-image-list",zn,Yn,{},{},[]),nl=function(){function n(){}return n.prototype.transform=function(n){switch(n){case"csv":return D.c.Csv;case"pdf":return D.c.Pdf;case"jpg":case"png":return D.c.ImageFile;case"doc":case"docm":case"docx":case"dot":case"dotm":case"dotx":return D.c.Word;case"xla":case"xlam":case"xls":case"xlsb":case"xlsm":case"xlsx":case"xlt":case"xlw":return D.c.Excel;default:return D.c.DefaultFile}},n}(),ll=function(){function n(){}return n.prototype.transform=function(n){return n.split(".").pop()},n}(),el=function(n){function l(l){var e=n.call(this,l)||this;return e.totalRows=2,e.documentClicked=new t.EventEmitter,e}return x.__extends(l,n),l.prototype.toggleSelect=function(l){var e=this;this.clickDisabled=!0,n.prototype.toggleSelect.call(this,l),setTimeout((function(){return e.clickDisabled=!1}),500)},l.prototype.documentClick=function(n){this.clickDisabled||this.selectableListPresenter.isEntitySelected(n.id)||this.documentClicked.emit(n)},l.prototype.trackById=function(n,l){return l.entity.id},l}(Dn),tl=t["ɵcrt"]({encapsulation:2,styles:[],data:{}});function ol(n){return t["ɵvid"](0,[(n()(),t["ɵeld"](0,0,null,null,14,"app-selectable-card",[["selectedIcon","check_circle"],["selectedText","Dokument valgt"]],null,[[null,"selected"],[null,"click"]],(function(n,l,e){var t=!0,o=n.component;return"selected"===l&&(t=!1!==o.toggleSelect(n.context.$implicit)&&t),"click"===l&&(t=!1!==o.documentClick(n.context.$implicit.entity)&&t),t}),Pn,On)),t["ɵdid"](1,49152,null,0,Sn,[],{selectedText:[0,"selectedText"],selectedIcon:[1,"selectedIcon"],isSelected:[2,"isSelected"]},{selected:"selected"}),(n()(),t["ɵeld"](2,0,null,0,12,"div",[["class","bg-foreground text-center mat-elevation-z2 p-2 pt-6 pb-6 m-1 fadeIn"]],null,null,null,null,null)),(n()(),t["ɵeld"](3,0,null,null,3,"mat-icon",[["class","scale-150 mb-2 mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,b.b,b.a)),t["ɵdid"](4,9158656,null,0,_.b,[t.ElementRef,_.d,[8,null],[2,_.a],[2,t.ErrorHandler]],{svgIcon:[0,"svgIcon"]},null),t["ɵppd"](5,1),t["ɵppd"](6,1),(n()(),t["ɵeld"](7,0,null,null,1,"div",[],null,null,null,null,null)),(n()(),t["ɵted"](8,null,["",""])),(n()(),t["ɵeld"](9,0,null,null,3,"div",[["class","mat-caption"]],null,null,null,null,null)),(n()(),t["ɵted"](10,null,["Filtype: ",""])),t["ɵppd"](11,1),t["ɵppd"](12,1),(n()(),t["ɵeld"](13,0,null,null,1,"div",[["class","mat-caption"]],null,null,null,null,null)),(n()(),t["ɵted"](-1,null,["Lastet opp 21.mai 2020"]))],(function(n,l){n(l,1,0,"Dokument valgt","check_circle",l.context.$implicit.selected);var e=t["ɵunv"](l,4,0,n(l,6,0,t["ɵnov"](l.parent.parent,2),t["ɵunv"](l,4,0,n(l,5,0,t["ɵnov"](l.parent.parent,3),l.context.$implicit.entity.fileURL))));n(l,4,0,e)}),(function(n,l){n(l,3,0,t["ɵnov"](l,4).inline,"primary"!==t["ɵnov"](l,4).color&&"accent"!==t["ɵnov"](l,4).color&&"warn"!==t["ɵnov"](l,4).color),n(l,8,0,null==l.context.$implicit.entity.documentType?null:l.context.$implicit.entity.documentType.name);var e=t["ɵunv"](l,10,0,n(l,12,0,t["ɵnov"](l.parent.parent,4),t["ɵunv"](l,10,0,n(l,11,0,t["ɵnov"](l.parent.parent,3),l.context.$implicit.entity.fileURL))));n(l,10,0,e)}))}function il(n){return t["ɵvid"](0,[(n()(),t["ɵeld"](0,0,null,null,4,"div",[["class","entity-column"]],null,null,null,null,null)),(n()(),t["ɵand"](16777216,null,null,3,null,ol)),t["ɵdid"](2,278528,null,0,M.k,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null),t["ɵpid"](131072,M.b,[t.ChangeDetectorRef]),t["ɵppd"](4,3)],(function(n,l){var e=l.component,o=t["ɵunv"](l,2,0,n(l,4,0,t["ɵnov"](l.parent,1),t["ɵunv"](l,2,0,t["ɵnov"](l,3).transform(e.selectableEntities$)),l.context.$implicit,e.totalRows));n(l,2,0,o,e.trackById)}),null)}function al(n){return t["ɵvid"](0,[t["ɵpid"](0,En,[]),t["ɵpid"](0,Fn,[]),t["ɵpid"](0,nl,[]),t["ɵpid"](0,ll,[]),t["ɵpid"](0,M.v,[]),(n()(),t["ɵeld"](5,0,null,null,3,"div",[["class","entity-row"]],null,null,null,null,null)),(n()(),t["ɵand"](16777216,null,null,2,null,il)),t["ɵdid"](7,278528,null,0,M.k,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),t["ɵppd"](8,1)],(function(n,l){var e=l.component,o=t["ɵunv"](l,7,0,n(l,8,0,t["ɵnov"](l,0),e.totalRows));n(l,7,0,o)}),null)}var ul=function(){function n(n,l,e,t){var o=this;this._missionDocumentService=n,this._notificationService=l,this._bottomSheetRef=e,this.data=t,this.close=function(n){return o._bottomSheetRef.dismiss(n)},this.mailDocuments=function(n){return o._missionDocumentService.mailDocuments$(n,o.data.ids).subscribe((function(n){o.close(!0),o._notificationService.setNotification("Vellykket! "+o.data.ids.length+" "+(o.data.ids.length>1?"dokumenter":"dokument")+" sendt")}))}}return n.prototype.ngOnInit=function(){this.navConfig={title:"Send dokumenter",leftBtn:{icon:"close",callback:this.close}}},n}(),rl=function(n){function l(l,e,t,o,i,a,u,r,d,c,s){var m=n.call(this)||this;return m.deviceInfoService=l,m.bottomSheet=e,m.downloaderService=t,m.missionDocumentService=o,m.documentTypeService=i,m.missionService=a,m.notificationService=u,m.mainNavService=r,m.route=d,m.router=c,m.dialog=s,m.Roles=D.f,m.currentSelections=[],m.isXs$=m.deviceInfoService.isXs$,m.deleteDocuments=function(n){m.missionDocumentService.deleteRange$(n).subscribe((function(l){m.documentList.clearSelections(),m.notificationService.setNotification("Vellykket! "+n.length+" "+(n.length>1?"dokumenter":"dokument")+" slettet.")}))},m.openConfirmDeleteDialog=function(n){m.dialog.open(mn.a,{data:"Bekreft at du ønsker å slette utvalgte dokumenter."}).afterClosed().pipe(Object(pn.a)((function(n){return n}))).subscribe((function(l){return m.deleteDocuments(n)}))},m.openMailDocumentSheet=function(n){m.bottomSheet.open(ul,{data:{toEmailPreset:m.mission.employer?m.mission.employer.email:null,ids:n}}).afterDismissed().pipe(Object(pn.a)((function(n){return n}))).subscribe((function(n){return m.documentList.clearSelections()}))},m.openDocumentForm=function(){return m.bottomSheet.open(vn,{data:{missionId:m.missionId}})},m.downloadDocument=function(n){return m.downloaderService.downloadUrl(n.fileURL)},m.onBack=function(n){return m.router.navigate(["/oppdrag",n,"detaljer"])},m}return x.__extends(l,n),Object.defineProperty(l.prototype,"missionId",{get:function(){return+this.route.snapshot.paramMap.get("id")},enumerable:!0,configurable:!0}),l.prototype.ngOnInit=function(){var n=this;this.configureMainNav(this.missionId);var l=this.missionDocumentService.getByMissionId$(this.missionId),e=this.documentTypeService.getAll$();this.documentsWithType$=Object(fn.a)(l,e).pipe(Object(W.a)((function(n){var l=x.__read(n,2),e=l[1];return l[0].map((function(n){return n.documentType=e.find((function(l){return l.id==n.documentTypeId})),n}))}))),this.missionService.getDetails$(this.missionId).pipe(Object(O.a)(this.unsubscribe)).subscribe((function(l){return n.mission=l}))},l.prototype.configureMainNav=function(n){this.mainNavService.addTopNavConfig({default:{title:"Dokumenter",backFn:this.onBack,backFnParams:[n]}})},l}(R.a),dl=e("KaUG"),cl=e("CjTB"),sl=t["ɵcrt"]({encapsulation:2,styles:[],data:{}});function ml(n){return t["ɵvid"](0,[(n()(),t["ɵeld"](0,0,null,null,3,"app-document-list",[],null,[[null,"selectionChanged"],[null,"documentClicked"]],(function(n,l,e){var t=!0,o=n.component;return"selectionChanged"===l&&(t=!1!==(o.currentSelections=e)&&t),"documentClicked"===l&&(t=!1!==o.downloadDocument(e)&&t),t}),al,tl)),t["ɵprd"](131584,null,Ln,Ln,[]),t["ɵdid"](2,245760,[[1,4],["documentList",4]],0,el,[Ln],{entities:[0,"entities"],totalRows:[1,"totalRows"]},{selectionChanged:"selectionChanged",documentClicked:"documentClicked"}),t["ɵpid"](131072,M.b,[t.ChangeDetectorRef])],(function(n,l){var e=l.component;n(l,2,0,l.context.$implicit,t["ɵunv"](l,2,1,t["ɵnov"](l,3).transform(e.isXs$))?2:4)}),null)}function pl(n){return t["ɵvid"](0,[(n()(),t["ɵeld"](0,0,null,null,10,null,null,null,null,null,null,null)),(n()(),t["ɵeld"](1,0,null,null,4,"button",[["aria-label","ny"],["class","action_fab_2"],["mat-fab",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,l,e){var t=!0,o=n.component;return"click"===l&&(t=!1!==o.openMailDocumentSheet(o.currentSelections)&&t),t}),f.d,f.b)),t["ɵdid"](2,180224,null,0,g.b,[t.ElementRef,v.f,[2,h.a]],null,null),(n()(),t["ɵeld"](3,0,null,0,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,b.b,b.a)),t["ɵdid"](4,9158656,null,0,_.b,[t.ElementRef,_.d,[8,null],[2,_.a],[2,t.ErrorHandler]],null,null),(n()(),t["ɵted"](-1,0,["send"])),(n()(),t["ɵeld"](6,0,null,null,4,"button",[["aria-label","ny"],["class","action_fab_3 bg-warn"],["mat-fab",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,l,e){var t=!0,o=n.component;return"click"===l&&(t=!1!==o.openConfirmDeleteDialog(o.currentSelections)&&t),t}),f.d,f.b)),t["ɵdid"](7,180224,null,0,g.b,[t.ElementRef,v.f,[2,h.a]],null,null),(n()(),t["ɵeld"](8,0,null,0,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,b.b,b.a)),t["ɵdid"](9,9158656,null,0,_.b,[t.ElementRef,_.d,[8,null],[2,_.a],[2,t.ErrorHandler]],null,null),(n()(),t["ɵted"](-1,0,["delete_forever"]))],(function(n,l){n(l,4,0),n(l,9,0)}),(function(n,l){n(l,1,0,t["ɵnov"](l,2).disabled||null,"NoopAnimations"===t["ɵnov"](l,2)._animationMode),n(l,3,0,t["ɵnov"](l,4).inline,"primary"!==t["ɵnov"](l,4).color&&"accent"!==t["ɵnov"](l,4).color&&"warn"!==t["ɵnov"](l,4).color),n(l,6,0,t["ɵnov"](l,7).disabled||null,"NoopAnimations"===t["ɵnov"](l,7)._animationMode),n(l,8,0,t["ɵnov"](l,9).inline,"primary"!==t["ɵnov"](l,9).color&&"accent"!==t["ɵnov"](l,9).color&&"warn"!==t["ɵnov"](l,9).color)}))}function fl(n){return t["ɵvid"](0,[(n()(),t["ɵeld"](0,0,null,null,3,null,null,null,null,null,null,null)),(n()(),t["ɵand"](16777216,null,null,2,null,pl)),t["ɵdid"](2,16384,null,0,L.a,[t.TemplateRef,t.ViewContainerRef,T.a],{ifRole:[0,"ifRole"]},null),t["ɵpad"](3,1),(n()(),t["ɵand"](0,null,null,0))],(function(n,l){var e=n(l,3,0,l.component.Roles.Leder);n(l,2,0,e)}),null)}function gl(n){return t["ɵvid"](0,[(n()(),t["ɵeld"](0,0,null,null,4,"button",[["aria-label","ny"],["class","action_fab"],["mat-fab",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.openDocumentForm()&&t),t}),f.d,f.b)),t["ɵdid"](1,180224,null,0,g.b,[t.ElementRef,v.f,[2,h.a]],null,null),(n()(),t["ɵeld"](2,0,null,0,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,b.b,b.a)),t["ɵdid"](3,9158656,null,0,_.b,[t.ElementRef,_.d,[8,null],[2,_.a],[2,t.ErrorHandler]],null,null),(n()(),t["ɵted"](-1,0,["note_add"]))],(function(n,l){n(l,3,0)}),(function(n,l){n(l,0,0,t["ɵnov"](l,1).disabled||null,"NoopAnimations"===t["ɵnov"](l,1)._animationMode),n(l,2,0,t["ɵnov"](l,3).inline,"primary"!==t["ɵnov"](l,3).color&&"accent"!==t["ɵnov"](l,3).color&&"warn"!==t["ɵnov"](l,3).color)}))}function vl(n){return t["ɵvid"](0,[t["ɵqud"](671088640,1,{documentList:0}),(n()(),t["ɵand"](16777216,null,null,2,null,ml)),t["ɵdid"](2,16384,null,0,M.l,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),t["ɵpid"](131072,M.b,[t.ChangeDetectorRef]),(n()(),t["ɵand"](16777216,null,null,1,null,fl)),t["ɵdid"](5,16384,null,0,M.l,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["ɵand"](16777216,null,null,2,null,gl)),t["ɵdid"](7,16384,null,0,L.a,[t.TemplateRef,t.ViewContainerRef,T.a],{ifRole:[0,"ifRole"]},null),t["ɵpad"](8,1)],(function(n,l){var e=l.component;n(l,2,0,t["ɵunv"](l,2,0,t["ɵnov"](l,3).transform(e.documentsWithType$))),n(l,5,0,e.currentSelections.length>0);var o=n(l,8,0,e.Roles.Leder);n(l,7,0,o)}),null)}function hl(n){return t["ɵvid"](0,[(n()(),t["ɵeld"](0,0,null,null,1,"app-mission-document-list",[],null,null,null,vl,sl)),t["ɵdid"](1,245760,null,0,rl,[Un.a,q.b,dl.a,_n.a,cl.a,K.a,yn.a,X.a,m.a,m.k,J.e],null,null)],(function(n,l){n(l,1,0)}),null)}var bl=t["ɵccf"]("app-mission-document-list",rl,hl,{},{},[]),_l=e("TtEo"),Cl=e("LC5p"),yl=function(){function n(){var n=this;this.RolePresets=D.e,this.deleteClicked=new t.EventEmitter,this.editClicked=new t.EventEmitter,this.deleteNote=function(){return n.deleteClicked.emit(n.note.id)},this.editNote=function(){return n.editClicked.emit(n.note.id)}}return n.prototype.ngOnInit=function(){},n}(),xl=t["ɵcrt"]({encapsulation:2,styles:[],data:{}});function kl(n){return t["ɵvid"](0,[(n()(),t["ɵeld"](0,0,null,null,7,"span",[["class","ml-auto"],["fxLayout","column"],["fxLayoutAlign","center center"]],null,null,null,null,null)),t["ɵdid"](1,671744,null,0,C.c,[t.ElementRef,y.i,[2,C.i],y.f],{fxLayout:[0,"fxLayout"]},null),t["ɵdid"](2,671744,null,0,C.b,[t.ElementRef,y.i,[2,C.g],y.f],{fxLayoutAlign:[0,"fxLayoutAlign"]},null),(n()(),t["ɵeld"](3,0,null,null,2,"mat-icon",[["class","mat-icon notranslate"],["color","accent"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,b.b,b.a)),t["ɵdid"](4,9158656,null,0,_.b,[t.ElementRef,_.d,[8,null],[2,_.a],[2,t.ErrorHandler]],{color:[0,"color"]},null),(n()(),t["ɵted"](-1,0,["star"])),(n()(),t["ɵeld"](6,0,null,null,1,"span",[["class","mat-caption line-height-100"]],null,null,null,null,null)),(n()(),t["ɵted"](-1,null,["Viktig"]))],(function(n,l){n(l,1,0,"column"),n(l,2,0,"center center"),n(l,4,0,"accent")}),(function(n,l){n(l,3,0,t["ɵnov"](l,4).inline,"primary"!==t["ɵnov"](l,4).color&&"accent"!==t["ɵnov"](l,4).color&&"warn"!==t["ɵnov"](l,4).color)}))}function Rl(n){return t["ɵvid"](0,[(n()(),t["ɵeld"](0,0,null,null,6,null,null,null,null,null,null,null)),(n()(),t["ɵeld"](1,0,null,null,5,"span",[["class","mat-h2 w-100"],["fxLayout","row"],["fxLayoutAlign","space-between center"]],null,null,null,null,null)),t["ɵdid"](2,671744,null,0,C.c,[t.ElementRef,y.i,[2,C.i],y.f],{fxLayout:[0,"fxLayout"]},null),t["ɵdid"](3,671744,null,0,C.b,[t.ElementRef,y.i,[2,C.g],y.f],{fxLayoutAlign:[0,"fxLayoutAlign"]},null),(n()(),t["ɵted"](4,null,[" "," "])),(n()(),t["ɵand"](16777216,null,null,1,null,kl)),t["ɵdid"](6,16384,null,0,M.l,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(n,l){var e=l.component;n(l,2,0,"row"),n(l,3,0,"space-between center"),n(l,6,0,e.note.pinned)}),(function(n,l){n(l,4,0,l.component.note.title)}))}function wl(n){return t["ɵvid"](0,[(n()(),t["ɵeld"](0,0,null,null,11,null,null,null,null,null,null,null)),(n()(),t["ɵeld"](1,0,null,null,10,"span",[],null,null,null,null,null)),(n()(),t["ɵeld"](2,0,null,null,4,"button",[["aria-label","Rediger notat"],["color","primary"],["mat-icon-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.editNote()&&t),t}),f.d,f.b)),t["ɵdid"](3,180224,null,0,g.b,[t.ElementRef,v.f,[2,h.a]],{color:[0,"color"]},null),(n()(),t["ɵeld"](4,0,null,0,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,b.b,b.a)),t["ɵdid"](5,9158656,null,0,_.b,[t.ElementRef,_.d,[8,null],[2,_.a],[2,t.ErrorHandler]],null,null),(n()(),t["ɵted"](-1,0,["edit"])),(n()(),t["ɵeld"](7,0,null,null,4,"button",[["aria-label","Slett notat"],["color","warn"],["mat-icon-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.deleteNote()&&t),t}),f.d,f.b)),t["ɵdid"](8,180224,null,0,g.b,[t.ElementRef,v.f,[2,h.a]],{color:[0,"color"]},null),(n()(),t["ɵeld"](9,0,null,0,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,b.b,b.a)),t["ɵdid"](10,9158656,null,0,_.b,[t.ElementRef,_.d,[8,null],[2,_.a],[2,t.ErrorHandler]],null,null),(n()(),t["ɵted"](-1,0,["delete"]))],(function(n,l){n(l,3,0,"primary"),n(l,5,0),n(l,8,0,"warn"),n(l,10,0)}),(function(n,l){n(l,2,0,t["ɵnov"](l,3).disabled||null,"NoopAnimations"===t["ɵnov"](l,3)._animationMode),n(l,4,0,t["ɵnov"](l,5).inline,"primary"!==t["ɵnov"](l,5).color&&"accent"!==t["ɵnov"](l,5).color&&"warn"!==t["ɵnov"](l,5).color),n(l,7,0,t["ɵnov"](l,8).disabled||null,"NoopAnimations"===t["ɵnov"](l,8)._animationMode),n(l,9,0,t["ɵnov"](l,10).inline,"primary"!==t["ɵnov"](l,10).color&&"accent"!==t["ɵnov"](l,10).color&&"warn"!==t["ɵnov"](l,10).color)}))}function Il(n){return t["ɵvid"](0,[(n()(),t["ɵeld"](0,0,null,null,17,"div",[["class","app-card m-1 p-2 mat-elevation-z2 fadeIn"],["fxLayout","column"],["fxLayoutAlign","space-between start"],["fxLayoutGap","5px"]],null,null,null,null,null)),t["ɵdid"](1,671744,null,0,C.c,[t.ElementRef,y.i,[2,C.i],y.f],{fxLayout:[0,"fxLayout"]},null),t["ɵdid"](2,1720320,null,0,C.d,[t.ElementRef,t.NgZone,N.b,y.i,[2,C.h],y.f],{fxLayoutGap:[0,"fxLayoutGap"]},null),t["ɵdid"](3,671744,null,0,C.b,[t.ElementRef,y.i,[2,C.g],y.f],{fxLayoutAlign:[0,"fxLayoutAlign"]},null),(n()(),t["ɵand"](16777216,null,null,1,null,Rl)),t["ɵdid"](5,16384,null,0,M.l,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["ɵeld"](6,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),t["ɵted"](7,null,[" "," "])),(n()(),t["ɵeld"](8,0,null,null,1,"mat-divider",[["class","w-100 mb-0 mat-divider"],["role","separator"]],[[1,"aria-orientation",0],[2,"mat-divider-vertical",null],[2,"mat-divider-horizontal",null],[2,"mat-divider-inset",null]],null,null,_l.b,_l.a)),t["ɵdid"](9,49152,null,0,Cl.a,[],null,null),(n()(),t["ɵeld"](10,0,null,null,7,"span",[["class","w-100"],["fxLayout","row"],["fxLayoutAlign","space-between center"]],null,null,null,null,null)),t["ɵdid"](11,671744,null,0,C.c,[t.ElementRef,y.i,[2,C.i],y.f],{fxLayout:[0,"fxLayout"]},null),t["ɵdid"](12,671744,null,0,C.b,[t.ElementRef,y.i,[2,C.g],y.f],{fxLayoutAlign:[0,"fxLayoutAlign"]},null),(n()(),t["ɵeld"](13,0,null,null,2,"span",[],null,null,null,null,null)),(n()(),t["ɵted"](14,null,[" "," av "," "])),t["ɵppd"](15,2),(n()(),t["ɵand"](16777216,null,null,1,null,wl)),t["ɵdid"](17,16384,null,0,L.a,[t.TemplateRef,t.ViewContainerRef,T.a],{ifRole:[0,"ifRole"]},null)],(function(n,l){var e=l.component;n(l,1,0,"column"),n(l,2,0,"5px"),n(l,3,0,"space-between start"),n(l,5,0,e.note.title||e.note.pinned),n(l,11,0,"row"),n(l,12,0,"space-between center"),n(l,17,0,e.RolePresets.Authority)}),(function(n,l){var e=l.component;n(l,7,0,e.note.content),n(l,8,0,t["ɵnov"](l,9).vertical?"vertical":"horizontal",t["ɵnov"](l,9).vertical,!t["ɵnov"](l,9).vertical,t["ɵnov"](l,9).inset);var o=t["ɵunv"](l,14,0,n(l,15,0,t["ɵnov"](l.parent,0),e.note.createdAt,"dd.MMM"));n(l,14,0,o,e.note.createdBy||"Anonym")}))}function Sl(n){return t["ɵvid"](0,[t["ɵpid"](0,M.e,[t.LOCALE_ID]),(n()(),t["ɵand"](16777216,null,null,1,null,Il)),t["ɵdid"](2,16384,null,0,M.l,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(n,l){n(l,2,0,l.component.note)}),null)}var Ol=function(){function n(n,l,e,t,o,i,a){var u=this;this.bottomSheet=n,this.missionNoteService=l,this.notificationService=e,this.mainNavService=t,this.route=o,this.router=i,this.dialog=a,this.RolePresets=D.e,this.deleteNote=function(n){return u.missionNoteService.delete$(n).subscribe((function(n){return u.notificationService.setNotification("Vellykket! notat slettet.")}))},this.openConfirmDeleteDialog=function(n){u.dialog.open(mn.a,{data:"Bekreft at du ønsker å slette notatet."}).afterClosed().pipe(Object(pn.a)((function(n){return n}))).subscribe((function(l){return u.deleteNote(n)}))},this.openCreateNoteForm=function(){return u.bottomSheet.open(gn,{data:{missionId:u.missionId}})},this.openEditNoteForm=function(n){return u.bottomSheet.open(gn,{data:{noteIdPreset:n}})},this.onBack=function(n){return u.router.navigate(["/oppdrag",n,"detaljer"])}}return Object.defineProperty(n.prototype,"missionId",{get:function(){return+this.route.snapshot.paramMap.get("id")},enumerable:!0,configurable:!0}),n.prototype.ngOnInit=function(){this.configureMainNav(this.missionId),this.notes$=this.missionNoteService.getByMissionId$(this.missionId)},n.prototype.configureMainNav=function(n){this.mainNavService.addTopNavConfig({default:{title:"Notater",backFn:this.onBack,backFnParams:[n]}})},n}(),Pl=t["ɵcrt"]({encapsulation:2,styles:[],data:{}});function Ml(n){return t["ɵvid"](0,[(n()(),t["ɵeld"](0,0,null,null,1,"app-note-card",[],null,[[null,"deleteClicked"],[null,"editClicked"]],(function(n,l,e){var t=!0,o=n.component;return"deleteClicked"===l&&(t=!1!==o.openConfirmDeleteDialog(e)&&t),"editClicked"===l&&(t=!1!==o.openEditNoteForm(e)&&t),t}),Sl,xl)),t["ɵdid"](1,114688,null,0,yl,[],{note:[0,"note"]},{deleteClicked:"deleteClicked",editClicked:"editClicked"})],(function(n,l){n(l,1,0,l.context.$implicit)}),null)}function El(n){return t["ɵvid"](0,[(n()(),t["ɵeld"](0,0,null,null,4,"button",[["aria-label","ny"],["class","action_fab"],["mat-fab",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.openCreateNoteForm()&&t),t}),f.d,f.b)),t["ɵdid"](1,180224,null,0,g.b,[t.ElementRef,v.f,[2,h.a]],null,null),(n()(),t["ɵeld"](2,0,null,0,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,b.b,b.a)),t["ɵdid"](3,9158656,null,0,_.b,[t.ElementRef,_.d,[8,null],[2,_.a],[2,t.ErrorHandler]],null,null),(n()(),t["ɵted"](-1,0,["add"]))],(function(n,l){n(l,3,0)}),(function(n,l){n(l,0,0,t["ɵnov"](l,1).disabled||null,"NoopAnimations"===t["ɵnov"](l,1)._animationMode),n(l,2,0,t["ɵnov"](l,3).inline,"primary"!==t["ɵnov"](l,3).color&&"accent"!==t["ɵnov"](l,3).color&&"warn"!==t["ɵnov"](l,3).color)}))}function Fl(n){return t["ɵvid"](0,[(n()(),t["ɵeld"](0,0,null,null,3,"div",[["class","max-width"]],null,null,null,null,null)),(n()(),t["ɵand"](16777216,null,null,2,null,Ml)),t["ɵdid"](2,278528,null,0,M.k,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),t["ɵpid"](131072,M.b,[t.ChangeDetectorRef]),(n()(),t["ɵand"](16777216,null,null,1,null,El)),t["ɵdid"](5,16384,null,0,L.a,[t.TemplateRef,t.ViewContainerRef,T.a],{ifRole:[0,"ifRole"]},null)],(function(n,l){var e=l.component;n(l,2,0,t["ɵunv"](l,2,0,t["ɵnov"](l,3).transform(e.notes$))),n(l,5,0,e.RolePresets.Internal)}),null)}function Nl(n){return t["ɵvid"](0,[(n()(),t["ɵeld"](0,0,null,null,1,"app-mission-note-list",[],null,null,null,Fl,Pl)),t["ɵdid"](1,114688,null,0,Ol,[q.b,Cn.a,yn.a,X.a,m.a,m.k,J.e],null,null)],(function(n,l){n(l,1,0)}),null)}var Ll=t["ɵccf"]("app-mission-note-list",Ol,Nl,{},{},[]),Tl=e("AlUf"),Dl=e("FbN9"),Vl=e("8mMr"),ql=e("/Ioa"),$l=function(){function n(n){var l=this;this.bottomSheet=n,this.toolbarHidden=!1,this.imageDeleted=new t.EventEmitter,this.currentImageChanged=new t.EventEmitter,this.close=new t.EventEmitter,this.finished=function(){return l.close.emit()},this.openBottomSheet=function(){return l.bottomSheet.open(ql.a,{data:l.actions})}}return n.prototype.ngOnInit=function(){var n=this;this.currentImage&&(this.index=this.images.findIndex((function(l){return l.id==n.currentImage.id})))},n.prototype.changeCurrentImage=function(n){this.currentImage=n,this.currentImageChanged.emit(n)},n.prototype.nextImage=function(){if(this.index>=this.images.length-1)return null;this.index++,this.changeCurrentImage(this.images[this.index])},n.prototype.previousImage=function(){if(this.index<=0)return null;this.index--,this.changeCurrentImage(this.images[this.index])},n}(),jl=t["ɵcrt"]({encapsulation:0,styles:[[".m-0[_ngcontent-%COMP%]{margin:0}.mt-0[_ngcontent-%COMP%]{margin-top:0}.ml-0[_ngcontent-%COMP%]{margin-left:0}.mr-0[_ngcontent-%COMP%]{margin-right:0}.mb-0[_ngcontent-%COMP%]{margin-bottom:0}.m-1[_ngcontent-%COMP%]{margin:4px}.mt-1[_ngcontent-%COMP%]{margin-top:4px}.ml-1[_ngcontent-%COMP%]{margin-left:4px}.mr-1[_ngcontent-%COMP%]{margin-right:4px}.mb-1[_ngcontent-%COMP%]{margin-bottom:4px}.m-2[_ngcontent-%COMP%]{margin:8px}.mt-2[_ngcontent-%COMP%]{margin-top:8px}.ml-2[_ngcontent-%COMP%]{margin-left:8px}.mr-2[_ngcontent-%COMP%]{margin-right:8px}.mb-2[_ngcontent-%COMP%]{margin-bottom:8px}.m-3[_ngcontent-%COMP%]{margin:12px}.mt-3[_ngcontent-%COMP%]{margin-top:12px}.ml-3[_ngcontent-%COMP%]{margin-left:12px}.mr-3[_ngcontent-%COMP%]{margin-right:12px}.mb-3[_ngcontent-%COMP%]{margin-bottom:12px}.m-4[_ngcontent-%COMP%]{margin:16px}.mt-4[_ngcontent-%COMP%]{margin-top:16px}.ml-4[_ngcontent-%COMP%]{margin-left:16px}.mr-4[_ngcontent-%COMP%]{margin-right:16px}.mb-4[_ngcontent-%COMP%]{margin-bottom:16px}.m-5[_ngcontent-%COMP%]{margin:20px}.mt-5[_ngcontent-%COMP%]{margin-top:20px}.ml-5[_ngcontent-%COMP%]{margin-left:20px}.mr-5[_ngcontent-%COMP%]{margin-right:20px}.mb-5[_ngcontent-%COMP%]{margin-bottom:20px}.m-6[_ngcontent-%COMP%]{margin:24px}.mt-6[_ngcontent-%COMP%]{margin-top:24px}.ml-6[_ngcontent-%COMP%]{margin-left:24px}.mr-6[_ngcontent-%COMP%]{margin-right:24px}.mb-6[_ngcontent-%COMP%]{margin-bottom:24px}.m-auto[_ngcontent-%COMP%]{margin:auto}.mt-auto[_ngcontent-%COMP%]{margin-top:auto}.ml-auto[_ngcontent-%COMP%]{margin-left:auto}.mr-auto[_ngcontent-%COMP%]{margin-right:auto}.mb-auto[_ngcontent-%COMP%]{margin-bottom:auto}.p-0[_ngcontent-%COMP%]{padding:0}.pt-0[_ngcontent-%COMP%]{padding-top:0}.pl-0[_ngcontent-%COMP%]{padding-left:0}.pr-0[_ngcontent-%COMP%]{padding-right:0}.pb-0[_ngcontent-%COMP%]{padding-bottom:0}.p-1[_ngcontent-%COMP%]{padding:4px}.pt-1[_ngcontent-%COMP%]{padding-top:4px}.pl-1[_ngcontent-%COMP%]{padding-left:4px}.pr-1[_ngcontent-%COMP%]{padding-right:4px}.pb-1[_ngcontent-%COMP%]{padding-bottom:4px}.p-2[_ngcontent-%COMP%]{padding:8px}.pt-2[_ngcontent-%COMP%]{padding-top:8px}.pl-2[_ngcontent-%COMP%]{padding-left:8px}.pr-2[_ngcontent-%COMP%]{padding-right:8px}.pb-2[_ngcontent-%COMP%]{padding-bottom:8px}.p-3[_ngcontent-%COMP%]{padding:12px}.pt-3[_ngcontent-%COMP%]{padding-top:12px}.pl-3[_ngcontent-%COMP%]{padding-left:12px}.pr-3[_ngcontent-%COMP%]{padding-right:12px}.pb-3[_ngcontent-%COMP%]{padding-bottom:12px}.p-4[_ngcontent-%COMP%]{padding:16px}.pt-4[_ngcontent-%COMP%]{padding-top:16px}.pl-4[_ngcontent-%COMP%]{padding-left:16px}.pr-4[_ngcontent-%COMP%]{padding-right:16px}.pb-4[_ngcontent-%COMP%]{padding-bottom:16px}.p-5[_ngcontent-%COMP%]{padding:20px}.pt-5[_ngcontent-%COMP%]{padding-top:20px}.pl-5[_ngcontent-%COMP%]{padding-left:20px}.pr-5[_ngcontent-%COMP%]{padding-right:20px}.pb-5[_ngcontent-%COMP%]{padding-bottom:20px}.p-6[_ngcontent-%COMP%]{padding:24px}.pt-6[_ngcontent-%COMP%]{padding-top:24px}.pl-6[_ngcontent-%COMP%]{padding-left:24px}.pr-6[_ngcontent-%COMP%]{padding-right:24px}.pb-6[_ngcontent-%COMP%]{padding-bottom:24px}.p-auto[_ngcontent-%COMP%]{padding:auto}.pt-auto[_ngcontent-%COMP%]{padding-top:auto}.pl-auto[_ngcontent-%COMP%]{padding-left:auto}.pr-auto[_ngcontent-%COMP%]{padding-right:auto}.pb-auto[_ngcontent-%COMP%]{padding-bottom:auto}img[_ngcontent-%COMP%]{display:block;max-width:100%;max-height:100%;transform:translatex(calc(50vw - 50%)) translatey(calc(50vh - 50%))}.top_left_fab[_ngcontent-%COMP%]{position:absolute;left:8px}.top_right_fab[_ngcontent-%COMP%]{position:absolute;right:8px}.image-toolbar[_ngcontent-%COMP%]{position:absolute;left:0;z-index:2;overflow:hidden;background:0 0!important}.page_counter[_ngcontent-%COMP%]{width:100%;position:absolute;bottom:0;text-align:center;color:#fff;opacity:.5}"]],data:{animation:[{type:7,name:"showHideToolbar",definitions:[{type:0,name:"show",styles:{type:6,styles:{top:"0px"},offset:null},options:void 0},{type:0,name:"hide",styles:{type:6,styles:{top:"-56px"},offset:null},options:void 0},{type:1,expr:"show => hide",animation:[{type:4,styles:null,timings:".1s ease-out"}],options:null},{type:1,expr:"hide => show",animation:[{type:4,styles:null,timings:".1s ease-in"}],options:null}],options:{}},{type:7,name:"showHideCounter",definitions:[{type:0,name:"show",styles:{type:6,styles:{bottom:"0px"},offset:null},options:void 0},{type:0,name:"hide",styles:{type:6,styles:{bottom:"-56px"},offset:null},options:void 0},{type:1,expr:"show => hide",animation:[{type:4,styles:null,timings:".1s ease-out"}],options:null},{type:1,expr:"hide => show",animation:[{type:4,styles:null,timings:".1s ease-in"}],options:null}],options:{}}]}});function Bl(n){return t["ɵvid"](0,[(n()(),t["ɵeld"](0,0,null,null,0,"img",[["layout-fill",""]],[[8,"src",4]],[[null,"tap"],[null,"swiperight"],[null,"swipeleft"]],(function(n,l,e){var t=!0,o=n.component;return"tap"===l&&(t=0!=(o.toolbarHidden=!o.toolbarHidden)&&t),"swiperight"===l&&(t=!1!==o.previousImage()&&t),"swipeleft"===l&&(t=!1!==o.nextImage()&&t),t}),null,null))],null,(function(n,l){n(l,0,0,l.component.currentImage.fileURL)}))}function Al(n){return t["ɵvid"](2,[(n()(),t["ɵeld"](0,0,null,null,14,"mat-toolbar",[["class","toolbar-slim image-toolbar color-accent mat-toolbar"],["fxLayout","row"],["fxLayoutAlign","space-between center"]],[[24,"@showHideToolbar",0],[2,"mat-toolbar-multiple-rows",null],[2,"mat-toolbar-single-row",null]],null,null,Dl.b,Dl.a)),t["ɵdid"](1,4243456,[["imageToolBar",4]],1,Vl.a,[t.ElementRef,un.a,M.d],null,null),t["ɵqud"](603979776,1,{_toolbarRows:1}),t["ɵdid"](3,671744,null,0,C.c,[t.ElementRef,y.i,[2,C.i],y.f],{fxLayout:[0,"fxLayout"]},null),t["ɵdid"](4,671744,null,0,C.b,[t.ElementRef,y.i,[2,C.g],y.f],{fxLayoutAlign:[0,"fxLayoutAlign"]},null),(n()(),t["ɵeld"](5,0,null,0,4,"button",[["aria-label","Lukk"],["mat-icon-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.finished()&&t),t}),f.d,f.b)),t["ɵdid"](6,180224,null,0,g.b,[t.ElementRef,v.f,[2,h.a]],null,null),(n()(),t["ɵeld"](7,0,null,0,2,"mat-icon",[["class","scale-150 mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,b.b,b.a)),t["ɵdid"](8,9158656,null,0,_.b,[t.ElementRef,_.d,[8,null],[2,_.a],[2,t.ErrorHandler]],null,null),(n()(),t["ɵted"](-1,0,["chevron_left"])),(n()(),t["ɵeld"](10,0,null,0,4,"button",[["mat-icon-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.openBottomSheet()&&t),t}),f.d,f.b)),t["ɵdid"](11,180224,null,0,g.b,[t.ElementRef,v.f,[2,h.a]],null,null),(n()(),t["ɵeld"](12,0,null,0,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,b.b,b.a)),t["ɵdid"](13,9158656,null,0,_.b,[t.ElementRef,_.d,[8,null],[2,_.a],[2,t.ErrorHandler]],null,null),(n()(),t["ɵted"](-1,0,["more_vert"])),(n()(),t["ɵand"](16777216,null,null,1,null,Bl)),t["ɵdid"](16,16384,null,0,M.l,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["ɵeld"](17,0,null,null,2,"div",[["class","page_counter"]],[[24,"@showHideCounter",0]],null,null,null,null)),(n()(),t["ɵeld"](18,0,null,null,1,"h5",[],null,null,null,null,null)),(n()(),t["ɵted"](19,null,[""," / ",""]))],(function(n,l){var e=l.component;n(l,3,0,"row"),n(l,4,0,"space-between center"),n(l,8,0),n(l,13,0),n(l,16,0,e.currentImage)}),(function(n,l){var e=l.component;n(l,0,0,e.toolbarHidden?"hide":"show",t["ɵnov"](l,1)._toolbarRows.length>0,0===t["ɵnov"](l,1)._toolbarRows.length),n(l,5,0,t["ɵnov"](l,6).disabled||null,"NoopAnimations"===t["ɵnov"](l,6)._animationMode),n(l,7,0,t["ɵnov"](l,8).inline,"primary"!==t["ɵnov"](l,8).color&&"accent"!==t["ɵnov"](l,8).color&&"warn"!==t["ɵnov"](l,8).color),n(l,10,0,t["ɵnov"](l,11).disabled||null,"NoopAnimations"===t["ɵnov"](l,11)._animationMode),n(l,12,0,t["ɵnov"](l,13).inline,"primary"!==t["ɵnov"](l,13).color&&"accent"!==t["ɵnov"](l,13).color&&"warn"!==t["ɵnov"](l,13).color),n(l,17,0,e.toolbarHidden?"hide":"show"),n(l,19,0,e.index+1,e.images.length)}))}var Hl=t["ɵcrt"]({encapsulation:2,styles:[],data:{}});function zl(n){return t["ɵvid"](2,[(n()(),t["ɵeld"](0,0,null,null,1,"app-image-viewer",[],null,[[null,"imageDeleted"],[null,"currentImageChanged"],[null,"close"]],(function(n,l,e){var t=!0,o=n.component;return"imageDeleted"===l&&(t=!1!==o.deleteImage(e)&&t),"currentImageChanged"===l&&(t=!1!==(o.data.currentImage=e)&&t),"close"===l&&(t=!1!==o.close()&&t),t}),Al,jl)),t["ɵdid"](1,114688,null,0,$l,[q.b],{images:[0,"images"],currentImage:[1,"currentImage"],actions:[2,"actions"]},{imageDeleted:"imageDeleted",currentImageChanged:"currentImageChanged",close:"close"})],(function(n,l){var e=l.component;n(l,1,0,e.data.images,e.data.currentImage,e.actions)}),null)}function Ul(n){return t["ɵvid"](0,[(n()(),t["ɵeld"](0,0,null,null,1,"app-timesheet-card-dialog-wrapper",[],null,null,null,zl,Hl)),t["ɵdid"](1,114688,null,0,Hn,[J.e,dl.a,bn.a,J.j,J.a],null,null)],(function(n,l){n(l,1,0)}),null)}var Zl=t["ɵccf"]("app-timesheet-card-dialog-wrapper",Hn,Ul,{},{},[]),Wl=e("MlvX"),Gl=e("gIcY"),Xl=e("dJrM"),Kl=e("seP3"),Jl=e("4tE/"),Yl=e("eDkP"),Ql=e("b716"),ne=e("/VYK"),le=e("Rn7m"),ee=e("Up+3"),te=e("WTUP"),oe=function(){function n(n){this._formBuilder=n,this.types=[],this.formSubmitted=new t.EventEmitter}return n.prototype.ngOnInit=function(){this.documentForm=this._formBuilder.group({documentType:this._formBuilder.group({id:[],name:[null,[Gl.u.required,Gl.u.maxLength(45)]]})})},n.prototype.onSubmit=function(){var n=this,l=this.types.find((function(l){return l.name===n.documentTypeName.value}));l&&this.documentTypeId.setValue(l.id),this.documentForm.dirty&&null!=this.files&&this.files.length>0&&this.formSubmitted.emit({files:this.files,documentType:this.documentType.value})},n.prototype.changeFile=function(n){this.files=n.target.files},Object.defineProperty(n.prototype,"documentType",{get:function(){return this.documentForm.get("documentType")},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"documentTypeId",{get:function(){return this.documentForm.get(["documentType","id"])},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"documentTypeName",{get:function(){return this.documentForm.get(["documentType","name"])},enumerable:!0,configurable:!0}),n}(),ie=t["ɵcrt"]({encapsulation:2,styles:[],data:{}});function ae(n){return t["ɵvid"](0,[(n()(),t["ɵeld"](0,0,null,null,2,"mat-option",[["class","mat-option"],["role","option"]],[[1,"tabindex",0],[2,"mat-selected",null],[2,"mat-option-multiple",null],[2,"mat-active",null],[8,"id",0],[1,"aria-selected",0],[1,"aria-disabled",0],[2,"mat-option-disabled",null]],[[null,"click"],[null,"keydown"]],(function(n,l,e){var o=!0;return"click"===l&&(o=!1!==t["ɵnov"](n,1)._selectViaInteraction()&&o),"keydown"===l&&(o=!1!==t["ɵnov"](n,1)._handleKeydown(e)&&o),o}),Wl.b,Wl.a)),t["ɵdid"](1,8568832,[[10,4]],0,an.r,[t.ElementRef,t.ChangeDetectorRef,[2,an.l],[2,an.q]],{value:[0,"value"]},null),(n()(),t["ɵted"](2,0,[" "," "]))],(function(n,l){n(l,1,0,l.context.$implicit.name)}),(function(n,l){n(l,0,0,t["ɵnov"](l,1)._getTabIndex(),t["ɵnov"](l,1).selected,t["ɵnov"](l,1).multiple,t["ɵnov"](l,1).active,t["ɵnov"](l,1).id,t["ɵnov"](l,1)._getAriaSelected(),t["ɵnov"](l,1).disabled.toString(),t["ɵnov"](l,1).disabled),n(l,2,0,l.context.$implicit.name)}))}function ue(n){return t["ɵvid"](0,[(n()(),t["ɵeld"](0,0,null,null,45,"form",[["fxLayout","column"],["fxLayoutAlign","space-around-center"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(n,l,e){var o=!0;return"submit"===l&&(o=!1!==t["ɵnov"](n,2).onSubmit(e)&&o),"reset"===l&&(o=!1!==t["ɵnov"](n,2).onReset()&&o),o}),null,null)),t["ɵdid"](1,16384,null,0,Gl.y,[],null,null),t["ɵdid"](2,540672,null,0,Gl.g,[[8,null],[8,null]],{form:[0,"form"]},null),t["ɵprd"](2048,null,Gl.c,null,[Gl.g]),t["ɵdid"](4,16384,null,0,Gl.o,[[4,Gl.c]],null,null),t["ɵdid"](5,671744,null,0,C.c,[t.ElementRef,y.i,[2,C.i],y.f],{fxLayout:[0,"fxLayout"]},null),t["ɵdid"](6,671744,null,0,C.b,[t.ElementRef,y.i,[2,C.g],y.f],{fxLayoutAlign:[0,"fxLayoutAlign"]},null),(n()(),t["ɵeld"](7,0,null,null,29,"mat-form-field",[["class","mat-form-field"],["formGroupName","documentType"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,Xl.b,Xl.a)),t["ɵdid"](8,212992,null,0,Gl.h,[[3,Gl.c],[8,null],[8,null]],{name:[0,"name"]},null),t["ɵprd"](2048,null,Gl.c,null,[Gl.h]),t["ɵdid"](10,16384,null,0,Gl.o,[[4,Gl.c]],null,null),t["ɵdid"](11,7520256,null,9,Kl.c,[t.ElementRef,t.ChangeDetectorRef,[2,an.j],[2,N.b],[2,Kl.a],un.a,t.NgZone,[2,h.a]],null,null),t["ɵqud"](603979776,1,{_controlNonStatic:0}),t["ɵqud"](335544320,2,{_controlStatic:0}),t["ɵqud"](603979776,3,{_labelChildNonStatic:0}),t["ɵqud"](335544320,4,{_labelChildStatic:0}),t["ɵqud"](603979776,5,{_placeholderChild:0}),t["ɵqud"](603979776,6,{_errorChildren:1}),t["ɵqud"](603979776,7,{_hintChildren:1}),t["ɵqud"](603979776,8,{_prefixChildren:1}),t["ɵqud"](603979776,9,{_suffixChildren:1}),(n()(),t["ɵeld"](21,16777216,null,1,8,"input",[["aria-label","Type dokument"],["class","mat-autocomplete-trigger mat-input-element mat-form-field-autofill-control"],["formControlName","name"],["matInput",""],["placeholder","Type dokument"]],[[1,"autocomplete",0],[1,"role",0],[1,"aria-autocomplete",0],[1,"aria-activedescendant",0],[1,"aria-expanded",0],[1,"aria-owns",0],[1,"aria-haspopup",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focusin"],[null,"keydown"],[null,"focus"]],(function(n,l,e){var o=!0;return"input"===l&&(o=!1!==t["ɵnov"](n,22)._handleInput(e.target.value)&&o),"blur"===l&&(o=!1!==t["ɵnov"](n,22).onTouched()&&o),"compositionstart"===l&&(o=!1!==t["ɵnov"](n,22)._compositionStart()&&o),"compositionend"===l&&(o=!1!==t["ɵnov"](n,22)._compositionEnd(e.target.value)&&o),"focusin"===l&&(o=!1!==t["ɵnov"](n,23)._handleFocus()&&o),"blur"===l&&(o=!1!==t["ɵnov"](n,23)._onTouched()&&o),"input"===l&&(o=!1!==t["ɵnov"](n,23)._handleInput(e)&&o),"keydown"===l&&(o=!1!==t["ɵnov"](n,23)._handleKeydown(e)&&o),"blur"===l&&(o=!1!==t["ɵnov"](n,28)._focusChanged(!1)&&o),"focus"===l&&(o=!1!==t["ɵnov"](n,28)._focusChanged(!0)&&o),"input"===l&&(o=!1!==t["ɵnov"](n,28)._onInput()&&o),o}),null,null)),t["ɵdid"](22,16384,null,0,Gl.d,[t.Renderer2,t.ElementRef,[2,Gl.a]],null,null),t["ɵdid"](23,4866048,null,0,Jl.f,[t.ElementRef,Yl.d,t.ViewContainerRef,t.NgZone,t.ChangeDetectorRef,Jl.b,[2,N.b],[2,Kl.c],[2,M.d],F.j],{autocomplete:[0,"autocomplete"]},null),t["ɵprd"](1024,null,Gl.l,(function(n,l){return[n,l]}),[Gl.d,Jl.f]),t["ɵdid"](25,671744,null,0,Gl.f,[[3,Gl.c],[8,null],[8,null],[6,Gl.l],[2,Gl.x]],{name:[0,"name"]},null),t["ɵprd"](2048,null,Gl.m,null,[Gl.f]),t["ɵdid"](27,16384,null,0,Gl.n,[[4,Gl.m]],null,null),t["ɵdid"](28,999424,null,0,Ql.a,[t.ElementRef,un.a,[6,Gl.m],[2,Gl.p],[2,Gl.g],an.d,[8,null],ne.a,t.NgZone],{placeholder:[0,"placeholder"]},null),t["ɵprd"](2048,[[1,4],[2,4]],Kl.d,null,[Ql.a]),(n()(),t["ɵeld"](30,0,null,1,6,"mat-autocomplete",[["class","mat-autocomplete"]],null,null,null,le.b,le.a)),t["ɵprd"](6144,null,an.l,null,[Jl.d]),t["ɵdid"](32,1097728,[["auto",4]],2,Jl.d,[t.ChangeDetectorRef,t.ElementRef,Jl.a],null,null),t["ɵqud"](603979776,10,{options:1}),t["ɵqud"](603979776,11,{optionGroups:1}),(n()(),t["ɵand"](16777216,null,0,1,null,ae)),t["ɵdid"](36,278528,null,0,M.k,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),t["ɵeld"](37,0,null,null,0,"input",[["type","file"]],null,[[null,"change"]],(function(n,l,e){var t=!0;return"change"===l&&(t=!1!==n.component.changeFile(e)&&t),t}),null,null)),(n()(),t["ɵeld"](38,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),t["ɵeld"](39,0,null,null,6,"button",[["appHttpCommandButton",""],["class","w-100"],["color","primary"],["mat-raised-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.onSubmit()&&t),t}),f.d,f.b)),t["ɵdid"](40,180224,null,0,g.b,[t.ElementRef,v.f,[2,h.a]],{disabled:[0,"disabled"],color:[1,"color"]},null),t["ɵdid"](41,16384,null,0,ee.a,[te.a,t.ElementRef],null,null),(n()(),t["ɵeld"](42,0,null,0,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,b.b,b.a)),t["ɵdid"](43,9158656,null,0,_.b,[t.ElementRef,_.d,[8,null],[2,_.a],[2,t.ErrorHandler]],null,null),(n()(),t["ɵted"](-1,0,["cloud_upload"])),(n()(),t["ɵted"](-1,0,[" Last opp "]))],(function(n,l){var e=l.component;n(l,2,0,e.documentForm),n(l,5,0,"column"),n(l,6,0,"space-around-center"),n(l,8,0,"documentType"),n(l,23,0,t["ɵnov"](l,32)),n(l,25,0,"name"),n(l,28,0,"Type dokument"),n(l,36,0,e.types),n(l,40,0,e.documentForm.invalid||e.documentForm.pristine,"primary"),n(l,43,0)}),(function(n,l){n(l,0,0,t["ɵnov"](l,4).ngClassUntouched,t["ɵnov"](l,4).ngClassTouched,t["ɵnov"](l,4).ngClassPristine,t["ɵnov"](l,4).ngClassDirty,t["ɵnov"](l,4).ngClassValid,t["ɵnov"](l,4).ngClassInvalid,t["ɵnov"](l,4).ngClassPending),n(l,7,1,[t["ɵnov"](l,10).ngClassUntouched,t["ɵnov"](l,10).ngClassTouched,t["ɵnov"](l,10).ngClassPristine,t["ɵnov"](l,10).ngClassDirty,t["ɵnov"](l,10).ngClassValid,t["ɵnov"](l,10).ngClassInvalid,t["ɵnov"](l,10).ngClassPending,"standard"==t["ɵnov"](l,11).appearance,"fill"==t["ɵnov"](l,11).appearance,"outline"==t["ɵnov"](l,11).appearance,"legacy"==t["ɵnov"](l,11).appearance,t["ɵnov"](l,11)._control.errorState,t["ɵnov"](l,11)._canLabelFloat,t["ɵnov"](l,11)._shouldLabelFloat(),t["ɵnov"](l,11)._hasFloatingLabel(),t["ɵnov"](l,11)._hideControlPlaceholder(),t["ɵnov"](l,11)._control.disabled,t["ɵnov"](l,11)._control.autofilled,t["ɵnov"](l,11)._control.focused,"accent"==t["ɵnov"](l,11).color,"warn"==t["ɵnov"](l,11).color,t["ɵnov"](l,11)._shouldForward("untouched"),t["ɵnov"](l,11)._shouldForward("touched"),t["ɵnov"](l,11)._shouldForward("pristine"),t["ɵnov"](l,11)._shouldForward("dirty"),t["ɵnov"](l,11)._shouldForward("valid"),t["ɵnov"](l,11)._shouldForward("invalid"),t["ɵnov"](l,11)._shouldForward("pending"),!t["ɵnov"](l,11)._animationsEnabled]),n(l,21,1,[t["ɵnov"](l,23).autocompleteAttribute,t["ɵnov"](l,23).autocompleteDisabled?null:"combobox",t["ɵnov"](l,23).autocompleteDisabled?null:"list",t["ɵnov"](l,23).panelOpen&&t["ɵnov"](l,23).activeOption?t["ɵnov"](l,23).activeOption.id:null,t["ɵnov"](l,23).autocompleteDisabled?null:t["ɵnov"](l,23).panelOpen.toString(),t["ɵnov"](l,23).autocompleteDisabled||!t["ɵnov"](l,23).panelOpen?null:null==t["ɵnov"](l,23).autocomplete?null:t["ɵnov"](l,23).autocomplete.id,!t["ɵnov"](l,23).autocompleteDisabled,t["ɵnov"](l,27).ngClassUntouched,t["ɵnov"](l,27).ngClassTouched,t["ɵnov"](l,27).ngClassPristine,t["ɵnov"](l,27).ngClassDirty,t["ɵnov"](l,27).ngClassValid,t["ɵnov"](l,27).ngClassInvalid,t["ɵnov"](l,27).ngClassPending,t["ɵnov"](l,28)._isServer,t["ɵnov"](l,28).id,t["ɵnov"](l,28).placeholder,t["ɵnov"](l,28).disabled,t["ɵnov"](l,28).required,t["ɵnov"](l,28).readonly&&!t["ɵnov"](l,28)._isNativeSelect||null,t["ɵnov"](l,28)._ariaDescribedby||null,t["ɵnov"](l,28).errorState,t["ɵnov"](l,28).required.toString()]),n(l,39,0,t["ɵnov"](l,40).disabled||null,"NoopAnimations"===t["ɵnov"](l,40)._animationMode),n(l,42,0,t["ɵnov"](l,43).inline,"primary"!==t["ɵnov"](l,43).color&&"accent"!==t["ɵnov"](l,43).color&&"warn"!==t["ɵnov"](l,43).color)}))}function re(n){return t["ɵvid"](2,[(n()(),t["ɵand"](16777216,null,null,1,null,ue)),t["ɵdid"](1,16384,null,0,M.l,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(n,l){n(l,1,0,l.component.documentForm)}),null)}var de=function(){function n(n,l){this.missionDocumentService=n,this.DocumentTypeService=l,this.finished=new t.EventEmitter}return n.prototype.ngOnInit=function(){this.documentTypes$=this.DocumentTypeService.getAll$()},n.prototype.onSubmit=function(n){var l=this;n&&this.missionId?this.missionDocumentService.addDocument$(this.missionId,n.documentType,n.files).subscribe((function(n){return l.finished.emit(n)})):this.finished.emit()},n}(),ce=t["ɵcrt"]({encapsulation:2,styles:[],data:{}});function se(n){return t["ɵvid"](2,[(n()(),t["ɵeld"](0,0,null,null,2,"app-mission-document-form-view",[],null,[[null,"formSubmitted"]],(function(n,l,e){var t=!0;return"formSubmitted"===l&&(t=!1!==n.component.onSubmit(e)&&t),t}),re,ie)),t["ɵdid"](1,114688,null,0,oe,[Gl.e],{types:[0,"types"]},{formSubmitted:"formSubmitted"}),t["ɵpid"](131072,M.b,[t.ChangeDetectorRef])],(function(n,l){var e=l.component;n(l,1,0,t["ɵunv"](l,1,0,t["ɵnov"](l,2).transform(e.documentTypes$)))}),null)}function me(n){return t["ɵvid"](0,[(n()(),t["ɵeld"](0,0,null,null,1,"app-mission-document-form",[],null,null,null,se,ce)),t["ɵdid"](1,114688,null,0,de,[_n.a,cl.a],null,null)],(function(n,l){n(l,1,0)}),null)}var pe=t["ɵccf"]("app-mission-document-form",de,me,{missionId:"missionId"},{finished:"finished"},[]),fe=e("MjFK"),ge=e("9tSM"),ve=e("Z5h4"),he=e("de3e"),be=function(){function n(n){this._formBuilder=n,this.Roles=D.f,this.note=null,this.missionId=null,this.formSubmitted=new t.EventEmitter,this.isCreateForm=!1}return n.prototype.ngOnInit=function(){this.note&&null!=this.note||(this.isCreateForm=!0),this.initalizeForm(this.note)},n.prototype.initalizeForm=function(n){this.noteForm=this._formBuilder.group({id:n?n.id:null,title:[n?n.title:null,[Gl.u.maxLength(40)]],content:[n?n.content:null,[Gl.u.required,Gl.u.maxLength(400)]],pinned:n?n.pinned:null,missionId:this.missionId})},n.prototype.onSubmit=function(){var n=this.noteForm;n.valid&&this.noteForm.dirty&&this.formSubmitted.emit(n.value)},Object.defineProperty(n.prototype,"title",{get:function(){return this.noteForm.get("title")},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"content",{get:function(){return this.noteForm.get("content")},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"pinned",{get:function(){return this.noteForm.get("pinned")},enumerable:!0,configurable:!0}),n}(),_e=t["ɵcrt"]({encapsulation:2,styles:[],data:{}});function Ce(n){return t["ɵvid"](0,[(n()(),t["ɵeld"](0,0,null,null,2,"mat-error",[["class","mat-error"],["role","alert"]],[[1,"id",0]],null,null,null,null)),t["ɵdid"](1,16384,[[6,4]],0,Kl.b,[],null,null),(n()(),t["ɵted"](-1,null,[" Tittel er på maks 40 tegn. "]))],null,(function(n,l){n(l,0,0,t["ɵnov"](l,1).id)}))}function ye(n){return t["ɵvid"](0,[(n()(),t["ɵeld"](0,0,null,null,2,"mat-error",[["class","mat-error"],["role","alert"]],[[1,"id",0]],null,null,null,null)),t["ɵdid"](1,16384,[[15,4]],0,Kl.b,[],null,null),(n()(),t["ɵted"](-1,null,[" Innhold er ett obligatorisk felt på maks 400 tegn. "]))],null,(function(n,l){n(l,0,0,t["ɵnov"](l,1).id)}))}function xe(n){return t["ɵvid"](0,[(n()(),t["ɵeld"](0,0,null,null,67,"form",[["fxLayout","column"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(n,l,e){var o=!0;return"submit"===l&&(o=!1!==t["ɵnov"](n,2).onSubmit(e)&&o),"reset"===l&&(o=!1!==t["ɵnov"](n,2).onReset()&&o),o}),null,null)),t["ɵdid"](1,16384,null,0,Gl.y,[],null,null),t["ɵdid"](2,540672,null,0,Gl.g,[[8,null],[8,null]],{form:[0,"form"]},null),t["ɵprd"](2048,null,Gl.c,null,[Gl.g]),t["ɵdid"](4,16384,null,0,Gl.o,[[4,Gl.c]],null,null),t["ɵdid"](5,671744,null,0,C.c,[t.ElementRef,y.i,[2,C.i],y.f],{fxLayout:[0,"fxLayout"]},null),(n()(),t["ɵeld"](6,0,null,null,20,"mat-form-field",[["class","mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,Xl.b,Xl.a)),t["ɵdid"](7,7520256,null,9,Kl.c,[t.ElementRef,t.ChangeDetectorRef,[2,an.j],[2,N.b],[2,Kl.a],un.a,t.NgZone,[2,h.a]],null,null),t["ɵqud"](603979776,1,{_controlNonStatic:0}),t["ɵqud"](335544320,2,{_controlStatic:0}),t["ɵqud"](603979776,3,{_labelChildNonStatic:0}),t["ɵqud"](335544320,4,{_labelChildStatic:0}),t["ɵqud"](603979776,5,{_placeholderChild:0}),t["ɵqud"](603979776,6,{_errorChildren:1}),t["ɵqud"](603979776,7,{_hintChildren:1}),t["ɵqud"](603979776,8,{_prefixChildren:1}),t["ɵqud"](603979776,9,{_suffixChildren:1}),(n()(),t["ɵeld"](17,0,[["title",1]],1,7,"input",[["class","mat-input-element mat-form-field-autofill-control"],["formControlName","title"],["matInput",""],["placeholder","Tittel"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"]],(function(n,l,e){var o=!0;return"input"===l&&(o=!1!==t["ɵnov"](n,18)._handleInput(e.target.value)&&o),"blur"===l&&(o=!1!==t["ɵnov"](n,18).onTouched()&&o),"compositionstart"===l&&(o=!1!==t["ɵnov"](n,18)._compositionStart()&&o),"compositionend"===l&&(o=!1!==t["ɵnov"](n,18)._compositionEnd(e.target.value)&&o),"blur"===l&&(o=!1!==t["ɵnov"](n,23)._focusChanged(!1)&&o),"focus"===l&&(o=!1!==t["ɵnov"](n,23)._focusChanged(!0)&&o),"input"===l&&(o=!1!==t["ɵnov"](n,23)._onInput()&&o),o}),null,null)),t["ɵdid"](18,16384,null,0,Gl.d,[t.Renderer2,t.ElementRef,[2,Gl.a]],null,null),t["ɵprd"](1024,null,Gl.l,(function(n){return[n]}),[Gl.d]),t["ɵdid"](20,671744,null,0,Gl.f,[[3,Gl.c],[8,null],[8,null],[6,Gl.l],[2,Gl.x]],{name:[0,"name"]},null),t["ɵprd"](2048,null,Gl.m,null,[Gl.f]),t["ɵdid"](22,16384,null,0,Gl.n,[[4,Gl.m]],null,null),t["ɵdid"](23,999424,null,0,Ql.a,[t.ElementRef,un.a,[6,Gl.m],[2,Gl.p],[2,Gl.g],an.d,[8,null],ne.a,t.NgZone],{placeholder:[0,"placeholder"]},null),t["ɵprd"](2048,[[1,4],[2,4]],Kl.d,null,[Ql.a]),(n()(),t["ɵand"](16777216,null,5,1,null,Ce)),t["ɵdid"](26,16384,null,0,M.l,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["ɵeld"](27,0,null,null,27,"mat-form-field",[["class","mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,Xl.b,Xl.a)),t["ɵdid"](28,7520256,null,9,Kl.c,[t.ElementRef,t.ChangeDetectorRef,[2,an.j],[2,N.b],[2,Kl.a],un.a,t.NgZone,[2,h.a]],null,null),t["ɵqud"](603979776,10,{_controlNonStatic:0}),t["ɵqud"](335544320,11,{_controlStatic:0}),t["ɵqud"](603979776,12,{_labelChildNonStatic:0}),t["ɵqud"](335544320,13,{_labelChildStatic:0}),t["ɵqud"](603979776,14,{_placeholderChild:0}),t["ɵqud"](603979776,15,{_errorChildren:1}),t["ɵqud"](603979776,16,{_hintChildren:1}),t["ɵqud"](603979776,17,{_prefixChildren:1}),t["ɵqud"](603979776,18,{_suffixChildren:1}),(n()(),t["ɵeld"](38,0,[["content",1]],1,11,"textarea",[["cdkAutosizeMinRows","4"],["cdkTextareaAutosize",""],["class","cdk-textarea-autosize mat-input-element mat-form-field-autofill-control"],["formControlName","content"],["matInput",""],["placeholder","Innhold"],["required",""],["rows","1"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"]],(function(n,l,e){var o=!0;return"input"===l&&(o=!1!==t["ɵnov"](n,39)._handleInput(e.target.value)&&o),"blur"===l&&(o=!1!==t["ɵnov"](n,39).onTouched()&&o),"compositionstart"===l&&(o=!1!==t["ɵnov"](n,39)._compositionStart()&&o),"compositionend"===l&&(o=!1!==t["ɵnov"](n,39)._compositionEnd(e.target.value)&&o),"input"===l&&(o=!1!==t["ɵnov"](n,46)._noopInputHandler()&&o),"blur"===l&&(o=!1!==t["ɵnov"](n,47)._focusChanged(!1)&&o),"focus"===l&&(o=!1!==t["ɵnov"](n,47)._focusChanged(!0)&&o),"input"===l&&(o=!1!==t["ɵnov"](n,47)._onInput()&&o),o}),null,null)),t["ɵdid"](39,16384,null,0,Gl.d,[t.Renderer2,t.ElementRef,[2,Gl.a]],null,null),t["ɵdid"](40,16384,null,0,Gl.t,[],{required:[0,"required"]},null),t["ɵprd"](1024,null,Gl.k,(function(n){return[n]}),[Gl.t]),t["ɵprd"](1024,null,Gl.l,(function(n){return[n]}),[Gl.d]),t["ɵdid"](43,671744,null,0,Gl.f,[[3,Gl.c],[6,Gl.k],[8,null],[6,Gl.l],[2,Gl.x]],{name:[0,"name"]},null),t["ɵprd"](2048,null,Gl.m,null,[Gl.f]),t["ɵdid"](45,16384,null,0,Gl.n,[[4,Gl.m]],null,null),t["ɵdid"](46,4603904,[["autosize",4]],0,ne.b,[t.ElementRef,un.a,t.NgZone],{minRows:[0,"minRows"],enabled:[1,"enabled"]},null),t["ɵdid"](47,999424,null,0,Ql.a,[t.ElementRef,un.a,[6,Gl.m],[2,Gl.p],[2,Gl.g],an.d,[8,null],ne.a,t.NgZone],{placeholder:[0,"placeholder"],required:[1,"required"]},null),t["ɵprd"](2048,[[10,4],[11,4]],Kl.d,null,[Ql.a]),(n()(),t["ɵted"](-1,null,["        "])),(n()(),t["ɵeld"](50,0,null,6,2,"mat-hint",[["class","mat-hint"]],[[2,"mat-right",null],[1,"id",0],[1,"align",0]],null,null,null,null)),t["ɵdid"](51,16384,[[16,4]],0,Kl.f,[],null,null),(n()(),t["ɵted"](52,null,[""," / 400 tegn"])),(n()(),t["ɵand"](16777216,null,5,1,null,ye)),t["ɵdid"](54,16384,null,0,M.l,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["ɵeld"](55,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),t["ɵeld"](56,0,null,null,6,"mat-checkbox",[["class","mat-checkbox"],["formControlName","pinned"]],[[8,"id",0],[1,"tabindex",0],[2,"mat-checkbox-indeterminate",null],[2,"mat-checkbox-checked",null],[2,"mat-checkbox-disabled",null],[2,"mat-checkbox-label-before",null],[2,"_mat-animation-noopable",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,ve.b,ve.a)),t["ɵdid"](57,8568832,null,0,he.b,[t.ElementRef,t.ChangeDetectorRef,v.f,t.NgZone,[8,null],[2,he.a],[2,h.a]],null,null),t["ɵprd"](1024,null,Gl.l,(function(n){return[n]}),[he.b]),t["ɵdid"](59,671744,null,0,Gl.f,[[3,Gl.c],[8,null],[8,null],[6,Gl.l],[2,Gl.x]],{name:[0,"name"]},null),t["ɵprd"](2048,null,Gl.m,null,[Gl.f]),t["ɵdid"](61,16384,null,0,Gl.n,[[4,Gl.m]],null,null),(n()(),t["ɵted"](-1,0,["Viktig?"])),(n()(),t["ɵeld"](63,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),t["ɵeld"](64,0,null,null,3,"button",[["appHttpCommandButton",""],["class","w-100"],["color","primary"],["mat-raised-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.onSubmit()&&t),t}),f.d,f.b)),t["ɵdid"](65,180224,null,0,g.b,[t.ElementRef,v.f,[2,h.a]],{disabled:[0,"disabled"],color:[1,"color"]},null),t["ɵdid"](66,16384,null,0,ee.a,[te.a,t.ElementRef],null,null),(n()(),t["ɵted"](67,0,[" "," "]))],(function(n,l){var e=l.component;n(l,2,0,e.noteForm),n(l,5,0,"column"),n(l,20,0,"title"),n(l,23,0,"Tittel"),n(l,26,0,t["ɵnov"](l,17).invalid),n(l,40,0,""),n(l,43,0,"content"),n(l,46,0,"4",""),n(l,47,0,"Innhold",""),n(l,54,0,t["ɵnov"](l,38).invalid),n(l,59,0,"pinned"),n(l,65,0,e.noteForm.invalid||e.noteForm.pristine,"primary")}),(function(n,l){var e=l.component;n(l,0,0,t["ɵnov"](l,4).ngClassUntouched,t["ɵnov"](l,4).ngClassTouched,t["ɵnov"](l,4).ngClassPristine,t["ɵnov"](l,4).ngClassDirty,t["ɵnov"](l,4).ngClassValid,t["ɵnov"](l,4).ngClassInvalid,t["ɵnov"](l,4).ngClassPending),n(l,6,1,["standard"==t["ɵnov"](l,7).appearance,"fill"==t["ɵnov"](l,7).appearance,"outline"==t["ɵnov"](l,7).appearance,"legacy"==t["ɵnov"](l,7).appearance,t["ɵnov"](l,7)._control.errorState,t["ɵnov"](l,7)._canLabelFloat,t["ɵnov"](l,7)._shouldLabelFloat(),t["ɵnov"](l,7)._hasFloatingLabel(),t["ɵnov"](l,7)._hideControlPlaceholder(),t["ɵnov"](l,7)._control.disabled,t["ɵnov"](l,7)._control.autofilled,t["ɵnov"](l,7)._control.focused,"accent"==t["ɵnov"](l,7).color,"warn"==t["ɵnov"](l,7).color,t["ɵnov"](l,7)._shouldForward("untouched"),t["ɵnov"](l,7)._shouldForward("touched"),t["ɵnov"](l,7)._shouldForward("pristine"),t["ɵnov"](l,7)._shouldForward("dirty"),t["ɵnov"](l,7)._shouldForward("valid"),t["ɵnov"](l,7)._shouldForward("invalid"),t["ɵnov"](l,7)._shouldForward("pending"),!t["ɵnov"](l,7)._animationsEnabled]),n(l,17,1,[t["ɵnov"](l,22).ngClassUntouched,t["ɵnov"](l,22).ngClassTouched,t["ɵnov"](l,22).ngClassPristine,t["ɵnov"](l,22).ngClassDirty,t["ɵnov"](l,22).ngClassValid,t["ɵnov"](l,22).ngClassInvalid,t["ɵnov"](l,22).ngClassPending,t["ɵnov"](l,23)._isServer,t["ɵnov"](l,23).id,t["ɵnov"](l,23).placeholder,t["ɵnov"](l,23).disabled,t["ɵnov"](l,23).required,t["ɵnov"](l,23).readonly&&!t["ɵnov"](l,23)._isNativeSelect||null,t["ɵnov"](l,23)._ariaDescribedby||null,t["ɵnov"](l,23).errorState,t["ɵnov"](l,23).required.toString()]),n(l,27,1,["standard"==t["ɵnov"](l,28).appearance,"fill"==t["ɵnov"](l,28).appearance,"outline"==t["ɵnov"](l,28).appearance,"legacy"==t["ɵnov"](l,28).appearance,t["ɵnov"](l,28)._control.errorState,t["ɵnov"](l,28)._canLabelFloat,t["ɵnov"](l,28)._shouldLabelFloat(),t["ɵnov"](l,28)._hasFloatingLabel(),t["ɵnov"](l,28)._hideControlPlaceholder(),t["ɵnov"](l,28)._control.disabled,t["ɵnov"](l,28)._control.autofilled,t["ɵnov"](l,28)._control.focused,"accent"==t["ɵnov"](l,28).color,"warn"==t["ɵnov"](l,28).color,t["ɵnov"](l,28)._shouldForward("untouched"),t["ɵnov"](l,28)._shouldForward("touched"),t["ɵnov"](l,28)._shouldForward("pristine"),t["ɵnov"](l,28)._shouldForward("dirty"),t["ɵnov"](l,28)._shouldForward("valid"),t["ɵnov"](l,28)._shouldForward("invalid"),t["ɵnov"](l,28)._shouldForward("pending"),!t["ɵnov"](l,28)._animationsEnabled]),n(l,38,1,[t["ɵnov"](l,40).required?"":null,t["ɵnov"](l,45).ngClassUntouched,t["ɵnov"](l,45).ngClassTouched,t["ɵnov"](l,45).ngClassPristine,t["ɵnov"](l,45).ngClassDirty,t["ɵnov"](l,45).ngClassValid,t["ɵnov"](l,45).ngClassInvalid,t["ɵnov"](l,45).ngClassPending,t["ɵnov"](l,47)._isServer,t["ɵnov"](l,47).id,t["ɵnov"](l,47).placeholder,t["ɵnov"](l,47).disabled,t["ɵnov"](l,47).required,t["ɵnov"](l,47).readonly&&!t["ɵnov"](l,47)._isNativeSelect||null,t["ɵnov"](l,47)._ariaDescribedby||null,t["ɵnov"](l,47).errorState,t["ɵnov"](l,47).required.toString()]),n(l,50,0,"end"==t["ɵnov"](l,51).align,t["ɵnov"](l,51).id,null),n(l,52,0,t["ɵnov"](l,38).value.length),n(l,56,1,[t["ɵnov"](l,57).id,null,t["ɵnov"](l,57).indeterminate,t["ɵnov"](l,57).checked,t["ɵnov"](l,57).disabled,"before"==t["ɵnov"](l,57).labelPosition,"NoopAnimations"===t["ɵnov"](l,57)._animationMode,t["ɵnov"](l,61).ngClassUntouched,t["ɵnov"](l,61).ngClassTouched,t["ɵnov"](l,61).ngClassPristine,t["ɵnov"](l,61).ngClassDirty,t["ɵnov"](l,61).ngClassValid,t["ɵnov"](l,61).ngClassInvalid,t["ɵnov"](l,61).ngClassPending]),n(l,64,0,t["ɵnov"](l,65).disabled||null,"NoopAnimations"===t["ɵnov"](l,65)._animationMode),n(l,67,0,e.isCreateForm?"Legg til":"Oppdater")}))}function ke(n){return t["ɵvid"](2,[(n()(),t["ɵand"](16777216,null,null,1,null,xe)),t["ɵdid"](1,16384,null,0,M.l,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(n,l){n(l,1,0,l.component.noteForm)}),null)}var Re=function(){function n(n,l){this.missionNoteService=n,this.notificationService=l,this.finished=new t.EventEmitter,this.isCreateForm=!1}return n.prototype.ngOnInit=function(){this.noteIdPreset?this.note$=this.missionNoteService.get$(this.noteIdPreset):this.isCreateForm=!0},n.prototype.onSubmit=function(n){n?this.isCreateForm?this.createNote(n):this.editNote(n):this.finished.emit()},n.prototype.createNote=function(n){var l=this;n&&this.missionNoteService.add$(n).subscribe((function(n){l.notificationService.setNotification("Vellykket! Notat opprettet."),l.finished.emit(n)}))},n.prototype.editNote=function(n){var l=this;n&&this.missionNoteService.update$(n).subscribe((function(n){l.notificationService.setNotification("Vellykket oppdatering!"),l.finished.emit(n)}))},n}(),we=t["ɵcrt"]({encapsulation:2,styles:[],data:{}});function Ie(n){return t["ɵvid"](2,[(n()(),t["ɵeld"](0,0,null,null,2,"app-mission-note-form-view",[],null,[[null,"formSubmitted"]],(function(n,l,e){var t=!0;return"formSubmitted"===l&&(t=!1!==n.component.onSubmit(e)&&t),t}),ke,_e)),t["ɵdid"](1,114688,null,0,be,[Gl.e],{note:[0,"note"],missionId:[1,"missionId"]},{formSubmitted:"formSubmitted"}),t["ɵpid"](131072,M.b,[t.ChangeDetectorRef])],(function(n,l){var e=l.component;n(l,1,0,t["ɵunv"](l,1,0,t["ɵnov"](l,2).transform(e.note$)),e.missionId)}),null)}var Se=t["ɵcrt"]({encapsulation:2,styles:[],data:{}});function Oe(n){return t["ɵvid"](2,[(n()(),t["ɵeld"](0,0,null,null,3,"app-simple-top-nav",[],null,null,null,fe.b,fe.a)),t["ɵdid"](1,114688,null,0,ge.a,[],{config:[0,"config"]},null),(n()(),t["ɵeld"](2,0,null,0,1,"app-mission-note-form",[],null,[[null,"finished"]],(function(n,l,e){var t=!0;return"finished"===l&&(t=!1!==n.component.close()&&t),t}),Ie,we)),t["ɵdid"](3,114688,null,0,Re,[Cn.a,yn.a],{noteIdPreset:[0,"noteIdPreset"],missionId:[1,"missionId"]},{finished:"finished"})],(function(n,l){var e=l.component;n(l,1,0,e.navConfig),n(l,3,0,null==e.data?null:e.data.noteIdPreset,null==e.data?null:e.data.missionId)}),null)}function Pe(n){return t["ɵvid"](0,[(n()(),t["ɵeld"](0,0,null,null,1,"app-mission-note-form-sheet-wrapper",[],null,null,null,Oe,Se)),t["ɵdid"](1,114688,null,0,gn,[q.f,q.a],null,null)],(function(n,l){n(l,1,0)}),null)}var Me=t["ɵccf"]("app-mission-note-form-sheet-wrapper",gn,Pe,{},{},[]),Ee=t["ɵcrt"]({encapsulation:2,styles:[],data:{}});function Fe(n){return t["ɵvid"](2,[(n()(),t["ɵeld"](0,0,null,null,3,"app-simple-top-nav",[],null,null,null,fe.b,fe.a)),t["ɵdid"](1,114688,null,0,ge.a,[],{config:[0,"config"]},null),(n()(),t["ɵeld"](2,0,null,0,1,"app-mission-document-form",[],null,[[null,"finished"]],(function(n,l,e){var t=!0;return"finished"===l&&(t=!1!==n.component.close()&&t),t}),se,ce)),t["ɵdid"](3,114688,null,0,de,[_n.a,cl.a],{missionId:[0,"missionId"]},{finished:"finished"})],(function(n,l){var e=l.component;n(l,1,0,e.navConfig),n(l,3,0,null==e.data?null:e.data.missionId)}),null)}function Ne(n){return t["ɵvid"](0,[(n()(),t["ɵeld"](0,0,null,null,1,"app-mission-document-form-sheet-wrapper",[],null,null,null,Fe,Ee)),t["ɵdid"](1,114688,null,0,vn,[q.f,q.a],null,null)],(function(n,l){n(l,1,0)}),null)}var Le=t["ɵccf"]("app-mission-document-form-sheet-wrapper",vn,Ne,{},{},[]),Te=function(){function n(n){this._formBuilder=n,this.formSubmitted=new t.EventEmitter}return n.prototype.ngOnInit=function(){this.mailEntityForm=this._formBuilder.group({toEmail:[this.toEmailPreset,[Gl.u.required,Gl.u.email]]})},n.prototype.onSubmit=function(){this.mailEntityForm.valid&&this.formSubmitted.emit(this.toEmail.value)},Object.defineProperty(n.prototype,"toEmail",{get:function(){return this.mailEntityForm.get("toEmail")},enumerable:!0,configurable:!0}),n}(),De=t["ɵcrt"]({encapsulation:2,styles:[],data:{}});function Ve(n){return t["ɵvid"](0,[(n()(),t["ɵeld"](0,0,null,null,2,"mat-error",[["class","mat-error"],["role","alert"]],[[1,"id",0]],null,null,null,null)),t["ɵdid"](1,16384,[[6,4]],0,Kl.b,[],null,null),(n()(),t["ɵted"](-1,null,[" Pass på at eposten er skrevet riktig. "]))],null,(function(n,l){n(l,0,0,t["ɵnov"](l,1).id)}))}function qe(n){return t["ɵvid"](0,[(n()(),t["ɵeld"](0,0,null,null,32,"form",[["fxLayout","column"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(n,l,e){var o=!0;return"submit"===l&&(o=!1!==t["ɵnov"](n,2).onSubmit(e)&&o),"reset"===l&&(o=!1!==t["ɵnov"](n,2).onReset()&&o),o}),null,null)),t["ɵdid"](1,16384,null,0,Gl.y,[],null,null),t["ɵdid"](2,540672,null,0,Gl.g,[[8,null],[8,null]],{form:[0,"form"]},null),t["ɵprd"](2048,null,Gl.c,null,[Gl.g]),t["ɵdid"](4,16384,null,0,Gl.o,[[4,Gl.c]],null,null),t["ɵdid"](5,671744,null,0,C.c,[t.ElementRef,y.i,[2,C.i],y.f],{fxLayout:[0,"fxLayout"]},null),(n()(),t["ɵeld"](6,0,null,null,22,"mat-form-field",[["class","mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,Xl.b,Xl.a)),t["ɵdid"](7,7520256,null,9,Kl.c,[t.ElementRef,t.ChangeDetectorRef,[2,an.j],[2,N.b],[2,Kl.a],un.a,t.NgZone,[2,h.a]],null,null),t["ɵqud"](603979776,1,{_controlNonStatic:0}),t["ɵqud"](335544320,2,{_controlStatic:0}),t["ɵqud"](603979776,3,{_labelChildNonStatic:0}),t["ɵqud"](335544320,4,{_labelChildStatic:0}),t["ɵqud"](603979776,5,{_placeholderChild:0}),t["ɵqud"](603979776,6,{_errorChildren:1}),t["ɵqud"](603979776,7,{_hintChildren:1}),t["ɵqud"](603979776,8,{_prefixChildren:1}),t["ɵqud"](603979776,9,{_suffixChildren:1}),(n()(),t["ɵeld"](17,0,null,1,9,"input",[["class","mat-input-element mat-form-field-autofill-control"],["formControlName","toEmail"],["matInput",""],["placeholder","Epost"],["required",""]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"]],(function(n,l,e){var o=!0;return"input"===l&&(o=!1!==t["ɵnov"](n,18)._handleInput(e.target.value)&&o),"blur"===l&&(o=!1!==t["ɵnov"](n,18).onTouched()&&o),"compositionstart"===l&&(o=!1!==t["ɵnov"](n,18)._compositionStart()&&o),"compositionend"===l&&(o=!1!==t["ɵnov"](n,18)._compositionEnd(e.target.value)&&o),"blur"===l&&(o=!1!==t["ɵnov"](n,25)._focusChanged(!1)&&o),"focus"===l&&(o=!1!==t["ɵnov"](n,25)._focusChanged(!0)&&o),"input"===l&&(o=!1!==t["ɵnov"](n,25)._onInput()&&o),o}),null,null)),t["ɵdid"](18,16384,null,0,Gl.d,[t.Renderer2,t.ElementRef,[2,Gl.a]],null,null),t["ɵdid"](19,16384,null,0,Gl.t,[],{required:[0,"required"]},null),t["ɵprd"](1024,null,Gl.k,(function(n){return[n]}),[Gl.t]),t["ɵprd"](1024,null,Gl.l,(function(n){return[n]}),[Gl.d]),t["ɵdid"](22,671744,null,0,Gl.f,[[3,Gl.c],[6,Gl.k],[8,null],[6,Gl.l],[2,Gl.x]],{name:[0,"name"]},null),t["ɵprd"](2048,null,Gl.m,null,[Gl.f]),t["ɵdid"](24,16384,null,0,Gl.n,[[4,Gl.m]],null,null),t["ɵdid"](25,999424,null,0,Ql.a,[t.ElementRef,un.a,[6,Gl.m],[2,Gl.p],[2,Gl.g],an.d,[8,null],ne.a,t.NgZone],{placeholder:[0,"placeholder"],required:[1,"required"]},null),t["ɵprd"](2048,[[1,4],[2,4]],Kl.d,null,[Ql.a]),(n()(),t["ɵand"](16777216,null,5,1,null,Ve)),t["ɵdid"](28,16384,null,0,M.l,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["ɵeld"](29,0,null,null,3,"button",[["appHttpCommandButton",""],["class","w-100"],["color","primary"],["mat-raised-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.onSubmit()&&t),t}),f.d,f.b)),t["ɵdid"](30,180224,null,0,g.b,[t.ElementRef,v.f,[2,h.a]],{disabled:[0,"disabled"],color:[1,"color"]},null),t["ɵdid"](31,16384,null,0,ee.a,[te.a,t.ElementRef],null,null),(n()(),t["ɵted"](-1,0,[" Send "]))],(function(n,l){var e=l.component;n(l,2,0,e.mailEntityForm),n(l,5,0,"column"),n(l,19,0,""),n(l,22,0,"toEmail"),n(l,25,0,"Epost",""),n(l,28,0,e.toEmail.invalid),n(l,30,0,e.mailEntityForm.invalid||e.mailEntityForm.pristine,"primary")}),(function(n,l){n(l,0,0,t["ɵnov"](l,4).ngClassUntouched,t["ɵnov"](l,4).ngClassTouched,t["ɵnov"](l,4).ngClassPristine,t["ɵnov"](l,4).ngClassDirty,t["ɵnov"](l,4).ngClassValid,t["ɵnov"](l,4).ngClassInvalid,t["ɵnov"](l,4).ngClassPending),n(l,6,1,["standard"==t["ɵnov"](l,7).appearance,"fill"==t["ɵnov"](l,7).appearance,"outline"==t["ɵnov"](l,7).appearance,"legacy"==t["ɵnov"](l,7).appearance,t["ɵnov"](l,7)._control.errorState,t["ɵnov"](l,7)._canLabelFloat,t["ɵnov"](l,7)._shouldLabelFloat(),t["ɵnov"](l,7)._hasFloatingLabel(),t["ɵnov"](l,7)._hideControlPlaceholder(),t["ɵnov"](l,7)._control.disabled,t["ɵnov"](l,7)._control.autofilled,t["ɵnov"](l,7)._control.focused,"accent"==t["ɵnov"](l,7).color,"warn"==t["ɵnov"](l,7).color,t["ɵnov"](l,7)._shouldForward("untouched"),t["ɵnov"](l,7)._shouldForward("touched"),t["ɵnov"](l,7)._shouldForward("pristine"),t["ɵnov"](l,7)._shouldForward("dirty"),t["ɵnov"](l,7)._shouldForward("valid"),t["ɵnov"](l,7)._shouldForward("invalid"),t["ɵnov"](l,7)._shouldForward("pending"),!t["ɵnov"](l,7)._animationsEnabled]),n(l,17,1,[t["ɵnov"](l,19).required?"":null,t["ɵnov"](l,24).ngClassUntouched,t["ɵnov"](l,24).ngClassTouched,t["ɵnov"](l,24).ngClassPristine,t["ɵnov"](l,24).ngClassDirty,t["ɵnov"](l,24).ngClassValid,t["ɵnov"](l,24).ngClassInvalid,t["ɵnov"](l,24).ngClassPending,t["ɵnov"](l,25)._isServer,t["ɵnov"](l,25).id,t["ɵnov"](l,25).placeholder,t["ɵnov"](l,25).disabled,t["ɵnov"](l,25).required,t["ɵnov"](l,25).readonly&&!t["ɵnov"](l,25)._isNativeSelect||null,t["ɵnov"](l,25)._ariaDescribedby||null,t["ɵnov"](l,25).errorState,t["ɵnov"](l,25).required.toString()]),n(l,29,0,t["ɵnov"](l,30).disabled||null,"NoopAnimations"===t["ɵnov"](l,30)._animationMode)}))}function $e(n){return t["ɵvid"](2,[(n()(),t["ɵand"](16777216,null,null,1,null,qe)),t["ɵdid"](1,16384,null,0,M.l,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(n,l){n(l,1,0,l.component.mailEntityForm)}),null)}var je=t["ɵcrt"]({encapsulation:2,styles:[],data:{}});function Be(n){return t["ɵvid"](2,[(n()(),t["ɵeld"](0,0,null,null,3,"app-simple-top-nav",[],null,null,null,fe.b,fe.a)),t["ɵdid"](1,114688,null,0,ge.a,[],{config:[0,"config"]},null),(n()(),t["ɵeld"](2,0,null,0,1,"app-mail-entity-form",[],null,[[null,"formSubmitted"]],(function(n,l,e){var t=!0;return"formSubmitted"===l&&(t=!1!==n.component.mailImages(e)&&t),t}),$e,De)),t["ɵdid"](3,114688,null,0,Te,[Gl.e],{toEmailPreset:[0,"toEmailPreset"]},{formSubmitted:"formSubmitted"})],(function(n,l){var e=l.component;n(l,1,0,e.navConfig),n(l,3,0,e.data.toEmailPreset)}),null)}function Ae(n){return t["ɵvid"](0,[(n()(),t["ɵeld"](0,0,null,null,1,"app-mail-image-sheet",[],null,null,null,Be,je)),t["ɵdid"](1,114688,null,0,An,[bn.a,yn.a,q.f,q.a],null,null)],(function(n,l){n(l,1,0)}),null)}var He=t["ɵccf"]("app-mail-image-sheet",An,Ae,{},{},[]),ze=t["ɵcrt"]({encapsulation:2,styles:[],data:{}});function Ue(n){return t["ɵvid"](2,[(n()(),t["ɵeld"](0,0,null,null,3,"app-simple-top-nav",[],null,null,null,fe.b,fe.a)),t["ɵdid"](1,114688,null,0,ge.a,[],{config:[0,"config"]},null),(n()(),t["ɵeld"](2,0,null,0,1,"app-mail-entity-form",[],null,[[null,"formSubmitted"]],(function(n,l,e){var t=!0;return"formSubmitted"===l&&(t=!1!==n.component.mailDocuments(e)&&t),t}),$e,De)),t["ɵdid"](3,114688,null,0,Te,[Gl.e],{toEmailPreset:[0,"toEmailPreset"]},{formSubmitted:"formSubmitted"})],(function(n,l){var e=l.component;n(l,1,0,e.navConfig),n(l,3,0,e.data.toEmailPreset)}),null)}function Ze(n){return t["ɵvid"](0,[(n()(),t["ɵeld"](0,0,null,null,1,"app-mail-document-sheet",[],null,null,null,Ue,ze)),t["ɵdid"](1,114688,null,0,ul,[_n.a,yn.a,q.f,q.a],null,null)],(function(n,l){n(l,1,0)}),null)}var We=t["ɵccf"]("app-mail-document-sheet",ul,Ze,{},{},[]),Ge=e("M2Lx"),Xe=e("uGex"),Ke=e("v9Dh"),Je=e("ZYjt"),Ye=e("mVsa"),Qe=e("vGXY"),nt=e("Nsh5"),lt=e("6Wmm"),et=e("4c35"),tt=e("9It4"),ot=e("La40"),it=e("vARd"),at=e("Blfk"),ut=e("u7R8"),rt=e("FVSy"),dt=e("ssao"),ct=e("1v46"),st=e("hUWP"),mt=e("3pJQ"),pt=e("V9q+"),ft=e("PCNd"),gt=(e("dJ3e"),{animation:"MissionList"}),vt={animation:"MissionDetails"},ht={animation:"MissionImages"},bt={animation:"MissionDocuments"},_t={animation:"MissionNotes"},Ct=function(){return function(){}}(),yt=e("7QPh");e.d(l,"MissionModuleNgFactory",(function(){return xt}));var xt=t["ɵcmf"](o,[],(function(n){return t["ɵmod"]([t["ɵmpd"](512,t.ComponentFactoryResolver,t["ɵCodegenComponentFactoryResolver"],[[8,[i.a,a.a,u.a,u.b,r.a,d.a,c.a,en,In,Qn,bl,Ll,Tl.a,Zl,pe,Me,Le,He,We]],[3,t.ComponentFactoryResolver],t.NgModuleRef]),t["ɵmpd"](4608,M.n,M.m,[t.LOCALE_ID,[2,M.F]]),t["ɵmpd"](4608,Gl.w,Gl.w,[]),t["ɵmpd"](4608,Ge.c,Ge.c,[]),t["ɵmpd"](4608,an.d,an.d,[]),t["ɵmpd"](4608,Yl.d,Yl.d,[Yl.j,Yl.f,t.ComponentFactoryResolver,Yl.i,Yl.g,t.Injector,t.NgZone,M.d,N.b,[2,M.h]]),t["ɵmpd"](5120,Yl.k,Yl.l,[Yl.d]),t["ɵmpd"](5120,Xe.a,Xe.b,[Yl.d]),t["ɵmpd"](5120,Ke.a,Ke.b,[Yl.d]),t["ɵmpd"](4608,Je.e,an.e,[[2,an.i],[2,an.n]]),t["ɵmpd"](5120,Ye.a,Ye.d,[Yl.d]),t["ɵmpd"](5120,J.c,J.d,[Yl.d]),t["ɵmpd"](135680,J.e,J.e,[Yl.d,t.Injector,[2,M.h],[2,J.b],J.c,[3,J.e],Yl.f]),t["ɵmpd"](5120,Jl.b,Jl.c,[Yl.d]),t["ɵmpd"](4608,Gl.e,Gl.e,[]),t["ɵmpd"](5120,t.APP_BOOTSTRAP_LISTENER,(function(n,l){return[y.j(n,l)]}),[M.d,t.PLATFORM_ID]),t["ɵmpd"](4608,M.e,M.e,[t.LOCALE_ID]),t["ɵmpd"](1073742336,M.c,M.c,[]),t["ɵmpd"](1073742336,Gl.v,Gl.v,[]),t["ɵmpd"](1073742336,Gl.i,Gl.i,[]),t["ɵmpd"](1073742336,m.o,m.o,[[2,m.t],[2,m.k]]),t["ɵmpd"](1073742336,Qe.c,Qe.c,[]),t["ɵmpd"](1073742336,N.a,N.a,[]),t["ɵmpd"](1073742336,an.n,an.n,[[2,an.f],[2,Je.f]]),t["ɵmpd"](1073742336,un.b,un.b,[]),t["ɵmpd"](1073742336,an.x,an.x,[]),t["ɵmpd"](1073742336,g.c,g.c,[]),t["ɵmpd"](1073742336,Vl.b,Vl.b,[]),t["ɵmpd"](1073742336,_.c,_.c,[]),t["ɵmpd"](1073742336,F.g,F.g,[]),t["ɵmpd"](1073742336,nt.h,nt.h,[]),t["ɵmpd"](1073742336,Ge.d,Ge.d,[]),t["ɵmpd"](1073742336,v.a,v.a,[]),t["ɵmpd"](1073742336,lt.a,lt.a,[]),t["ɵmpd"](1073742336,Kl.e,Kl.e,[]),t["ɵmpd"](1073742336,ne.c,ne.c,[]),t["ɵmpd"](1073742336,Ql.b,Ql.b,[]),t["ɵmpd"](1073742336,et.g,et.g,[]),t["ɵmpd"](1073742336,Yl.h,Yl.h,[]),t["ɵmpd"](1073742336,an.v,an.v,[]),t["ɵmpd"](1073742336,an.s,an.s,[]),t["ɵmpd"](1073742336,Xe.d,Xe.d,[]),t["ɵmpd"](1073742336,tt.d,tt.d,[]),t["ɵmpd"](1073742336,Ke.c,Ke.c,[]),t["ɵmpd"](1073742336,ot.j,ot.j,[]),t["ɵmpd"](1073742336,Ye.c,Ye.c,[]),t["ɵmpd"](1073742336,Ye.b,Ye.b,[]),t["ɵmpd"](1073742336,it.e,it.e,[]),t["ɵmpd"](1073742336,he.d,he.d,[]),t["ɵmpd"](1073742336,he.c,he.c,[]),t["ɵmpd"](1073742336,J.i,J.i,[]),t["ɵmpd"](1073742336,Jl.e,Jl.e,[]),t["ɵmpd"](1073742336,at.c,at.c,[]),t["ɵmpd"](1073742336,q.e,q.e,[]),t["ɵmpd"](1073742336,ut.e,ut.e,[]),t["ɵmpd"](1073742336,rt.d,rt.d,[]),t["ɵmpd"](1073742336,an.o,an.o,[]),t["ɵmpd"](1073742336,on.b,on.b,[]),t["ɵmpd"](1073742336,Cl.b,Cl.b,[]),t["ɵmpd"](1073742336,dt.a,dt.a,[]),t["ɵmpd"](1073742336,Gl.s,Gl.s,[]),t["ɵmpd"](1073742336,ct.a,ct.a,[]),t["ɵmpd"](1073742336,y.c,y.c,[]),t["ɵmpd"](1073742336,C.e,C.e,[]),t["ɵmpd"](1073742336,st.c,st.c,[]),t["ɵmpd"](1073742336,mt.a,mt.a,[]),t["ɵmpd"](1073742336,pt.a,pt.a,[[2,y.g],t.PLATFORM_ID]),t["ɵmpd"](1073742336,ft.a,ft.a,[]),t["ɵmpd"](1073742336,Ct,Ct,[]),t["ɵmpd"](1073742336,o,o,[]),t["ɵmpd"](1024,m.i,(function(){return[[{path:"",component:G,canActivate:[yt.a],data:gt,children:[{path:"ny",loadChildren:"src/app/mission-form/mission-form.module#MissionFormModule"}]},{path:":id/detaljer",component:hn,canActivate:[yt.a],data:vt,children:[{path:"rediger",loadChildren:"src/app/mission-form/mission-form.module#MissionFormModule"}]},{path:":id/bilder",component:zn,canActivate:[yt.a],data:ht},{path:":id/dokumenter",component:rl,canActivate:[yt.a],data:bt},{path:":id/notater",component:Ol,canActivate:[yt.a],data:_t}]]}),[])])}))}}]);