(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{"+Y3i":function(e,t,n){"use strict";n.r(t),n.d(t,"DataManagementModule",(function(){return te}));var i=n("PCNd"),r=n("DEyP"),o=n("DUip"),a=n("TYT/"),c=n("dJ3e"),p=n("26FU"),m=n("ad02"),l=n("VnD/"),s=n("15JJ"),d=n("h/AT"),u=n("1ua0"),f=n("ea4N"),g=n("9qP0"),h=n("1YJq"),b=n("QJY3"),y=n("Valr"),v=n("uLXW"),C=n("eHTH"),S=n("cSbt"),O=n("7itd"),x=n("p+mS"),P=n("Up+3");function _(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"mat-error"),a["\u0275\u0275text"](1," Navn er ett obligatorisk felt p\xe5 maks 200 tegn. "),a["\u0275\u0275elementEnd"]())}function M(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"mat-error"),a["\u0275\u0275text"](1," Kontaktnummer m\xe5 v\xe6re mellom 4 og 12 siffer. "),a["\u0275\u0275elementEnd"]())}function E(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"mat-error"),a["\u0275\u0275text"](1," Adresse kan maks ha 100 tegn. "),a["\u0275\u0275elementEnd"]())}function I(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"mat-error"),a["\u0275\u0275text"](1," Pass p\xe5 at eposten er skrevet riktig. "),a["\u0275\u0275elementEnd"]())}function w(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"form",1),a["\u0275\u0275elementStart"](1,"mat-form-field"),a["\u0275\u0275element"](2,"input",2),a["\u0275\u0275template"](3,_,2,0,"mat-error",3),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](4,"mat-form-field"),a["\u0275\u0275element"](5,"input",4),a["\u0275\u0275template"](6,M,2,0,"mat-error",3),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](7,"mat-form-field"),a["\u0275\u0275elementStart"](8,"input",5,6),a["\u0275\u0275listener"]("onAddressChange",(function(e){return a["\u0275\u0275restoreView"](n),a["\u0275\u0275nextContext"]().handleAddressChange(e)})),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](10,E,2,0,"mat-error",3),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](11,"mat-form-field"),a["\u0275\u0275element"](12,"input",7),a["\u0275\u0275template"](13,I,2,0,"mat-error",3),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](14,"button",8),a["\u0275\u0275listener"]("click",(function(){return a["\u0275\u0275restoreView"](n),a["\u0275\u0275nextContext"]().onSubmit()})),a["\u0275\u0275text"](15),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}if(2&e){var i=a["\u0275\u0275nextContext"]();a["\u0275\u0275property"]("formGroup",i.employerForm),a["\u0275\u0275advance"](3),a["\u0275\u0275property"]("ngIf",i.name.invalid),a["\u0275\u0275advance"](3),a["\u0275\u0275property"]("ngIf",i.phoneNumber.invalid),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("options",i.googleOptions),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("ngIf",i.address.invalid),a["\u0275\u0275advance"](3),a["\u0275\u0275property"]("ngIf",i.email.invalid),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("disabled",i.employerForm.invalid||i.employerForm.pristine),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",i.isCreateForm?"Legg til":"Oppdater"," ")}}var T=function(){function e(e){this._formBuilder=e,this.formSubmitted=new a.EventEmitter,this.googleOptions={types:["geocode"],componentRestrictions:{country:"no"}},this.isCreateForm=!1}return e.prototype.ngOnInit=function(){this.employer&&null!=this.employer||(this.isCreateForm=!0),this.initalizeForm(this.employer)},e.prototype.initalizeForm=function(e){this.employerForm=this._formBuilder.group({id:e?e.id:null,name:[e?e.name:null,[b.s.required,b.s.maxLength(200)]],phoneNumber:[e?e.phoneNumber:null,[b.s.minLength(4),b.s.maxLength(12)]],address:[e?e.address:null,[b.s.maxLength(100)]],email:[e?e.email:null,[b.s.email]]})},e.prototype.onSubmit=function(){var e=this.employerForm;e.valid&&this.employerForm.dirty&&this.formSubmitted.emit(e.value)},e.prototype.handleAddressChange=function(e){this.employerForm.controls.address.setValue(e.formatted_address)},Object.defineProperty(e.prototype,"name",{get:function(){return this.employerForm.get("name")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"phoneNumber",{get:function(){return this.employerForm.get("phoneNumber")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"address",{get:function(){return this.employerForm.get("address")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"email",{get:function(){return this.employerForm.get("email")},enumerable:!0,configurable:!0}),e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](b.c))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-employer-form-view"]],inputs:{employer:"employer"},outputs:{formSubmitted:"formSubmitted"},decls:1,vars:1,consts:[["fxLayout","column",3,"formGroup",4,"ngIf"],["fxLayout","column",3,"formGroup"],["matInput","","placeholder","Navn","formControlName","name","required",""],[4,"ngIf"],["matInput","","placeholder","Kontaktnummer","formControlName","phoneNumber"],["ngx-google-places-autocomplete","","matInput","","placeholder","Adresse","formControlName","address",3,"options","onAddressChange"],["placesRef","ngx-places"],["matInput","","placeholder","Epost","formControlName","email"],["appHttpCommandButton","","mat-raised-button","","color","primary",1,"w-100",3,"disabled","click"]],template:function(e,t){1&e&&a["\u0275\u0275template"](0,w,16,8,"form",0),2&e&&a["\u0275\u0275property"]("ngIf",t.employerForm)},directives:[y.l,b.t,b.m,v.c,b.e,C.c,S.a,b.b,b.l,b.d,b.r,O.GooglePlaceDirective,x.b,P.a,C.b],encapsulation:2,changeDetection:0}),e}(),k=function(){function e(e,t,n){this.employerService=e,this.notificationService=t,this.dialog=n,this.Roles=h.g,this.finished=new a.EventEmitter,this.googleOptions={types:["geocode"],componentRestrictions:{country:"no"}},this.isCreateForm=!1}return e.prototype.ngOnInit=function(){this.employerIdPreset?this.employer$=this.employerService.get$(this.employerIdPreset):this.isCreateForm=!0},e.prototype.onSubmit=function(e){e?this.isCreateForm?this.createEmployer(e):this.updateEmployer(e):this.finished.emit()},e.prototype.updateEmployer=function(e){var t=this;this.employerService.update$(e).subscribe((function(e){t.notificationService.setNotification("Vellykket oppdatering!"),t.finished.emit(e)}))},e.prototype.createEmployer=function(e){var t=this;this.employerService.add$(e).subscribe((function(e){t.notificationService.setNotification("Vellykket! Ny oppdragsgiver registrert."),t.finished.emit(e)}))},e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](c.k),a["\u0275\u0275directiveInject"](c.v),a["\u0275\u0275directiveInject"](f.b))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-employer-form"]],inputs:{employerIdPreset:"employerIdPreset"},outputs:{finished:"finished"},decls:2,vars:3,consts:[[3,"employer","formSubmitted"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"app-employer-form-view",0),a["\u0275\u0275listener"]("formSubmitted",(function(e){return t.onSubmit(e)})),a["\u0275\u0275pipe"](1,"async"),a["\u0275\u0275elementEnd"]()),2&e&&a["\u0275\u0275property"]("employer",a["\u0275\u0275pipeBind1"](1,1,t.employer$))},directives:[T],pipes:[y.b],encapsulation:2,changeDetection:0}),e}(),D=function(){function e(e,t,n,i){var r=this;this._employerService=e,this._dialog=t,this._bottomSheetRef=n,this.data=i,this.close=function(){return r._bottomSheetRef.dismiss()},this.confirmDelete=function(){r._dialog.open(u.a,{data:"Bekreft at du \xf8nsker \xe5 slette oppdragsgiveren fra systemet."}).afterClosed().pipe(Object(l.a)((function(e){return e}))).subscribe((function(e){return r.deleteEmployer()}))},this.deleteEmployer=function(){return r._employerService.delete$(r.data.employerIdPreset).subscribe((function(e){return r.close()}))}}return e.prototype.ngOnInit=function(){var e=!this.data||!this.data.employerIdPreset;this.navConfig={title:e?"Registrer oppdragsgiver":"Rediger oppdragsgiver",leftBtn:{icon:"close",callback:this.close},buttons:e?void 0:[{icon:"delete_forever",callback:this.confirmDelete}]}},e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](c.k),a["\u0275\u0275directiveInject"](f.b),a["\u0275\u0275directiveInject"](d.d),a["\u0275\u0275directiveInject"](d.a))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-timesheet-form-sheet-wrapper"]],decls:2,vars:2,consts:[[3,"config"],[3,"employerIdPreset","finished"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"app-simple-top-nav",0),a["\u0275\u0275elementStart"](1,"app-employer-form",1),a["\u0275\u0275listener"]("finished",(function(){return t.close()})),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e&&(a["\u0275\u0275property"]("config",t.navConfig),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("employerIdPreset",null==t.data?null:t.data.employerIdPreset))},directives:[g.a,k],encapsulation:2,changeDetection:0}),e}();function F(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"mat-error"),a["\u0275\u0275text"](1," Navn kan v\xe6re p\xe5 maks 45 tegn. "),a["\u0275\u0275elementEnd"]())}function j(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"form",1),a["\u0275\u0275elementStart"](1,"mat-form-field"),a["\u0275\u0275element"](2,"input",2),a["\u0275\u0275template"](3,F,2,0,"mat-error",3),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](4,"button",4),a["\u0275\u0275listener"]("click",(function(){return a["\u0275\u0275restoreView"](n),a["\u0275\u0275nextContext"]().onSubmit()})),a["\u0275\u0275text"](5," Lagre "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}if(2&e){var i=a["\u0275\u0275nextContext"]();a["\u0275\u0275property"]("formGroup",i.missionTypeForm),a["\u0275\u0275advance"](3),a["\u0275\u0275property"]("ngIf",i.name.invalid),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("disabled",i.missionTypeForm.invalid||i.missionTypeForm.pristine)}}var N=function(){function e(e){this._formBuilder=e,this.formSubmitted=new a.EventEmitter}return e.prototype.ngOnInit=function(){this.initalizeForm()},e.prototype.initalizeForm=function(){this.missionTypeForm=this._formBuilder.group({name:[null,[b.s.required,b.s.maxLength(45)]]})},e.prototype.onSubmit=function(){var e=this.missionTypeForm;e.valid&&this.missionTypeForm.dirty&&this.formSubmitted.emit(e.value)},Object.defineProperty(e.prototype,"name",{get:function(){return this.missionTypeForm.get("name")},enumerable:!0,configurable:!0}),e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](b.c))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-mission-type-form-view"]],outputs:{formSubmitted:"formSubmitted"},decls:1,vars:1,consts:[["fxLayout","column",3,"formGroup",4,"ngIf"],["fxLayout","column",3,"formGroup"],["matInput","","placeholder","Navn","formControlName","name"],[4,"ngIf"],["appHttpCommandButton","","mat-raised-button","","color","primary",1,"w-100",3,"disabled","click"]],template:function(e,t){1&e&&a["\u0275\u0275template"](0,j,6,3,"form",0),2&e&&a["\u0275\u0275property"]("ngIf",t.missionTypeForm)},directives:[y.l,b.t,b.m,v.c,b.e,C.c,S.a,b.b,b.l,b.d,x.b,P.a,C.b],encapsulation:2,changeDetection:0}),e}(),L=function(){function e(e){var t=this;this.missionTypeService=e,this.finished=new a.EventEmitter,this.onSubmit=function(e){e?t.missionTypeService.add$(e).subscribe((function(e){return t.finished.emit(e)})):t.finished.emit()}}return e.prototype.ngOnInit=function(){},e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](c.t))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-mission-type-form"]],outputs:{finished:"finished"},decls:1,vars:0,consts:[[3,"formSubmitted"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"app-mission-type-form-view",0),a["\u0275\u0275listener"]("formSubmitted",(function(e){return t.onSubmit(e)})),a["\u0275\u0275elementEnd"]())},directives:[N],encapsulation:2,changeDetection:0}),e}(),G=function(){function e(e){var t=this;this._bottomSheetRef=e,this.close=function(){return t._bottomSheetRef.dismiss()}}return e.prototype.ngOnInit=function(){this.navConfig={title:"Registrer oppdragstype",leftBtn:{icon:"close",callback:this.close}}},e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](d.d))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-mission-type-form-sheet-wrapper"]],decls:2,vars:1,consts:[[3,"config"],[3,"finished"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"app-simple-top-nav",0),a["\u0275\u0275elementStart"](1,"app-mission-type-form",1),a["\u0275\u0275listener"]("finished",(function(){return t.close()})),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e&&a["\u0275\u0275property"]("config",t.navConfig)},directives:[g.a,L],encapsulation:2,changeDetection:0}),e}();function $(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"mat-error"),a["\u0275\u0275text"](1," Navn kan v\xe6re p\xe5 maks 45 tegn. "),a["\u0275\u0275elementEnd"]())}function R(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"form",1),a["\u0275\u0275elementStart"](1,"mat-form-field"),a["\u0275\u0275element"](2,"input",2),a["\u0275\u0275template"](3,$,2,0,"mat-error",3),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](4,"button",4),a["\u0275\u0275listener"]("click",(function(){return a["\u0275\u0275restoreView"](n),a["\u0275\u0275nextContext"]().onSubmit()})),a["\u0275\u0275text"](5," Lagre "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}if(2&e){var i=a["\u0275\u0275nextContext"]();a["\u0275\u0275property"]("formGroup",i.documentTypeForm),a["\u0275\u0275advance"](3),a["\u0275\u0275property"]("ngIf",i.name.invalid),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("disabled",i.documentTypeForm.invalid||i.documentTypeForm.pristine)}}var V=function(){function e(e){this._formBuilder=e,this.formSubmitted=new a.EventEmitter}return e.prototype.ngOnInit=function(){this.initalizeForm()},e.prototype.initalizeForm=function(){this.documentTypeForm=this._formBuilder.group({name:[null,[b.s.required,b.s.maxLength(45)]]})},e.prototype.onSubmit=function(){var e=this.documentTypeForm;e.valid&&this.documentTypeForm.dirty&&this.formSubmitted.emit(e.value)},Object.defineProperty(e.prototype,"name",{get:function(){return this.documentTypeForm.get("name")},enumerable:!0,configurable:!0}),e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](b.c))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-document-type-form-view"]],outputs:{formSubmitted:"formSubmitted"},decls:1,vars:1,consts:[["fxLayout","column",3,"formGroup",4,"ngIf"],["fxLayout","column",3,"formGroup"],["matInput","","placeholder","Navn","formControlName","name"],[4,"ngIf"],["appHttpCommandButton","","mat-raised-button","","color","primary",1,"w-100",3,"disabled","click"]],template:function(e,t){1&e&&a["\u0275\u0275template"](0,R,6,3,"form",0),2&e&&a["\u0275\u0275property"]("ngIf",t.documentTypeForm)},directives:[y.l,b.t,b.m,v.c,b.e,C.c,S.a,b.b,b.l,b.d,x.b,P.a,C.b],encapsulation:2,changeDetection:0}),e}(),B=function(){function e(e){var t=this;this.DocumentTypeService=e,this.finished=new a.EventEmitter,this.onSubmit=function(e){e?t.DocumentTypeService.add$(e).subscribe((function(e){return t.finished.emit(e)})):t.finished.emit()}}return e.prototype.ngOnInit=function(){},e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](c.i))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-document-type-form"]],outputs:{finished:"finished"},decls:1,vars:0,consts:[[3,"formSubmitted"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"app-document-type-form-view",0),a["\u0275\u0275listener"]("formSubmitted",(function(e){return t.onSubmit(e)})),a["\u0275\u0275elementEnd"]())},directives:[V],encapsulation:2,changeDetection:0}),e}(),z=function(){function e(e){var t=this;this._bottomSheetRef=e,this.close=function(){return t._bottomSheetRef.dismiss()}}return e.prototype.ngOnInit=function(){this.navConfig={title:"Registrer dokumenttype",leftBtn:{icon:"close",callback:this.close}}},e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](d.d))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-document-type-form-sheet-wrapper"]],decls:2,vars:1,consts:[[3,"config"],[3,"finished"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"app-simple-top-nav",0),a["\u0275\u0275elementStart"](1,"app-document-type-form",1),a["\u0275\u0275listener"]("finished",(function(){return t.close()})),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e&&a["\u0275\u0275property"]("config",t.navConfig)},directives:[g.a,B],encapsulation:2,changeDetection:0}),e}(),A=function(){function e(e,t,n,i,r,o){var a=this;this._bottomSheet=e,this.employerService=t,this.missionTypeService=n,this.missionService=i,this.DocumentTypeService=r,this.router=o,this.tables=["Oppdrag","Oppdragstyper","Oppdragsgivere","Dokumenttyper"],this.selectedTableSubject=new p.a(void 0),this.selectedTable$=this.selectedTableSubject.asObservable(),this.changeTable=function(e){return a.selectedTableSubject.next(e)},this.updateSelectedTableEntity=function(e){return a.getTableService(a.selectedTable).update$(e).subscribe()},this.deleteSelectedTableEntities=function(e){return a.getTableService(a.selectedTable).deleteRange$(e).subscribe()},this.createMission=function(){return a.router.navigate(["data/ny/oppdrag"])},this.createEmployer=function(){return a._bottomSheet.open(D)},this.createMissionType=function(){return a._bottomSheet.open(G)},this.createDocumentType=function(){return a._bottomSheet.open(z)},this.data$=this.selectedTable$.pipe(Object(m.a)(),Object(l.a)((function(e){return a.tables.includes(e)})),Object(s.a)((function(e){return a.getTableService(e).getAllDetails$()})))}return Object.defineProperty(e.prototype,"selectedTable",{get:function(){return this.selectedTableSubject.value},enumerable:!0,configurable:!0}),e.prototype.createItem=function(){switch(this.selectedTable){case"Oppdrag":this.createMission();break;case"Oppdragstyper":this.createMissionType();break;case"Oppdragsgivere":this.createEmployer();break;case"Dokumenttyper":this.createDocumentType()}},e.prototype.getTableService=function(e){switch(e){case"Oppdrag":return this.missionService;case"Oppdragstyper":return this.missionTypeService;case"Oppdragsgivere":return this.employerService;case"Dokumenttyper":return this.DocumentTypeService}},e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275inject"](d.b),a["\u0275\u0275inject"](c.k),a["\u0275\u0275inject"](c.t),a["\u0275\u0275inject"](c.s),a["\u0275\u0275inject"](c.i),a["\u0275\u0275inject"](o.b))},e.\u0275prov=a["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e}(),J=n("agxM"),q=n("MqYC");function U(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"mat-option",3),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275propertyInterpolate"]("value",n),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate"](n)}}var H=function(){function e(){var e=this;this.tableSelected=new a.EventEmitter,this.changeTable=function(t){return e.tableSelected.emit(t)}}return e.prototype.ngOnInit=function(){},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-data-table-picker"]],inputs:{tables:"tables",selectedTable:"selectedTable"},outputs:{tableSelected:"tableSelected"},decls:5,vars:2,consts:[["appearance","fill",1,"data-picker","mat-elevation-z2","w-100","fadeInLeft"],[3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"mat-form-field",0),a["\u0275\u0275elementStart"](1,"mat-label"),a["\u0275\u0275text"](2,"Velg"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"mat-select",1),a["\u0275\u0275listener"]("ngModelChange",(function(e){return t.changeTable(e)})),a["\u0275\u0275template"](4,U,2,2,"mat-option",2),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e&&(a["\u0275\u0275advance"](3),a["\u0275\u0275property"]("ngModel",t.selectedTable),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngForOf",t.tables))},directives:[C.c,C.g,J.a,b.l,b.o,y.k,q.i],styles:[".m-0[_ngcontent-%COMP%]{margin:0}.mt-0[_ngcontent-%COMP%]{margin-top:0}.ml-0[_ngcontent-%COMP%]{margin-left:0}.mr-0[_ngcontent-%COMP%]{margin-right:0}.mb-0[_ngcontent-%COMP%]{margin-bottom:0}.m-1[_ngcontent-%COMP%]{margin:4px}.mt-1[_ngcontent-%COMP%]{margin-top:4px}.ml-1[_ngcontent-%COMP%]{margin-left:4px}.mr-1[_ngcontent-%COMP%]{margin-right:4px}.mb-1[_ngcontent-%COMP%]{margin-bottom:4px}.m-2[_ngcontent-%COMP%]{margin:8px}.mt-2[_ngcontent-%COMP%]{margin-top:8px}.ml-2[_ngcontent-%COMP%]{margin-left:8px}.mr-2[_ngcontent-%COMP%]{margin-right:8px}.mb-2[_ngcontent-%COMP%]{margin-bottom:8px}.m-3[_ngcontent-%COMP%]{margin:12px}.mt-3[_ngcontent-%COMP%]{margin-top:12px}.ml-3[_ngcontent-%COMP%]{margin-left:12px}.mr-3[_ngcontent-%COMP%]{margin-right:12px}.mb-3[_ngcontent-%COMP%]{margin-bottom:12px}.m-4[_ngcontent-%COMP%]{margin:16px}.mt-4[_ngcontent-%COMP%]{margin-top:16px}.ml-4[_ngcontent-%COMP%]{margin-left:16px}.mr-4[_ngcontent-%COMP%]{margin-right:16px}.mb-4[_ngcontent-%COMP%]{margin-bottom:16px}.m-5[_ngcontent-%COMP%]{margin:20px}.mt-5[_ngcontent-%COMP%]{margin-top:20px}.ml-5[_ngcontent-%COMP%]{margin-left:20px}.mr-5[_ngcontent-%COMP%]{margin-right:20px}.mb-5[_ngcontent-%COMP%]{margin-bottom:20px}.m-6[_ngcontent-%COMP%]{margin:24px}.mt-6[_ngcontent-%COMP%]{margin-top:24px}.ml-6[_ngcontent-%COMP%]{margin-left:24px}.mr-6[_ngcontent-%COMP%]{margin-right:24px}.mb-6[_ngcontent-%COMP%]{margin-bottom:24px}.m-auto[_ngcontent-%COMP%]{margin:auto}.mt-auto[_ngcontent-%COMP%]{margin-top:auto}.ml-auto[_ngcontent-%COMP%]{margin-left:auto}.mr-auto[_ngcontent-%COMP%]{margin-right:auto}.mb-auto[_ngcontent-%COMP%]{margin-bottom:auto}.p-0[_ngcontent-%COMP%]{padding:0}.pt-0[_ngcontent-%COMP%]{padding-top:0}.pl-0[_ngcontent-%COMP%]{padding-left:0}.pr-0[_ngcontent-%COMP%]{padding-right:0}.pb-0[_ngcontent-%COMP%]{padding-bottom:0}.p-1[_ngcontent-%COMP%]{padding:4px}.pt-1[_ngcontent-%COMP%]{padding-top:4px}.pl-1[_ngcontent-%COMP%]{padding-left:4px}.pr-1[_ngcontent-%COMP%]{padding-right:4px}.pb-1[_ngcontent-%COMP%]{padding-bottom:4px}.p-2[_ngcontent-%COMP%]{padding:8px}.pt-2[_ngcontent-%COMP%]{padding-top:8px}.pl-2[_ngcontent-%COMP%]{padding-left:8px}.pr-2[_ngcontent-%COMP%]{padding-right:8px}.pb-2[_ngcontent-%COMP%]{padding-bottom:8px}.p-3[_ngcontent-%COMP%]{padding:12px}.pt-3[_ngcontent-%COMP%]{padding-top:12px}.pl-3[_ngcontent-%COMP%]{padding-left:12px}.pr-3[_ngcontent-%COMP%]{padding-right:12px}.pb-3[_ngcontent-%COMP%]{padding-bottom:12px}.p-4[_ngcontent-%COMP%]{padding:16px}.pt-4[_ngcontent-%COMP%]{padding-top:16px}.pl-4[_ngcontent-%COMP%]{padding-left:16px}.pr-4[_ngcontent-%COMP%]{padding-right:16px}.pb-4[_ngcontent-%COMP%]{padding-bottom:16px}.p-5[_ngcontent-%COMP%]{padding:20px}.pt-5[_ngcontent-%COMP%]{padding-top:20px}.pl-5[_ngcontent-%COMP%]{padding-left:20px}.pr-5[_ngcontent-%COMP%]{padding-right:20px}.pb-5[_ngcontent-%COMP%]{padding-bottom:20px}.p-6[_ngcontent-%COMP%]{padding:24px}.pt-6[_ngcontent-%COMP%]{padding-top:24px}.pl-6[_ngcontent-%COMP%]{padding-left:24px}.pr-6[_ngcontent-%COMP%]{padding-right:24px}.pb-6[_ngcontent-%COMP%]{padding-bottom:24px}.p-auto[_ngcontent-%COMP%]{padding:auto}.pt-auto[_ngcontent-%COMP%]{padding-top:auto}.pl-auto[_ngcontent-%COMP%]{padding-left:auto}.pr-auto[_ngcontent-%COMP%]{padding-right:auto}.pb-auto[_ngcontent-%COMP%]{padding-bottom:auto} .data-picker{background:#fff} .data-picker .mat-form-field-wrapper{margin-bottom:-1.25em!important}"],changeDetection:0}),e}(),Y=n("IJgu"),Q=n("st1I"),K=n("GsDI"),X=["dataGrid"],W=function(){function e(e,t){var n=this;this._dialog=e,this.translationService=t,this.itemEdited=new a.EventEmitter,this.itemsDeleted=new a.EventEmitter,this.createItem=new a.EventEmitter,this.columnDefs=[],this.rowData=[],this.ignoredProperties=["id","updatedat","createdat","employerid","missiontypeid"],this.noEditProperties=["missiontype","employer"],this.booleanProperties=["finished"],this.objectProperties=["missiontype","employer"],this.editCell=function(e){return n.itemEdited.emit(e)},this.openDeleteDialog=function(){var e=n.dataGrid.api.getSelectedNodes();if(0==e.length)return null;n._dialog.open(Y.a,{data:"Bekreft at du \xf8nsker \xe5 slette ressursen(e)."}).afterClosed().pipe(Object(l.a)((function(e){return e}))).subscribe((function(t){return n.itemsDeleted.emit(e.map((function(e){return e.data.id})))}))},this.initNgGrid=function(e){if(n.columnDefs=[],n.rowData=[],!e||0==e.length)return null;n.columnDefs.push({colId:"checkbox",checkboxSelection:!0,width:42,pinned:"left",lockPosition:!0}),Object.getOwnPropertyNames(e[0]).forEach((function(e){return n.addColumnDef(e)})),n.rowData=e}}return Object.defineProperty(e.prototype,"data",{get:function(){return this._data},set:function(e){this._data=e,this.initNgGrid(e)},enumerable:!0,configurable:!0}),e.prototype.autoSizeGrid=function(){var e=this.dataGrid.columnApi.getAllColumns().filter((function(e){return"checkbox"!=e.getColId()}));this.dataGrid.columnApi.autoSizeColumns(e)},e.prototype.addColumnDef=function(e){var t=e.toLowerCase();if(this.ignoredProperties.includes(t))return!1;var n={field:e,headerName:this.translationService.translateProperty(t),sortable:!0,resizable:!0,editable:!0,lockPosition:!0};this.booleanProperties.includes(t)&&(n.cellEditor="agSelectCellEditor",n.cellEditorParams={values:["Ja","Nei"]},n.valueGetter=function(t){return 1==t.data[e]?"Ja":"Nei"},n.valueSetter=function(t){var n=t.newValue.toLowerCase();if("ja"==n)t.data[e]=!0;else{if("nei"!=n)return!1;t.data[e]=!1}return!0}),this.noEditProperties.includes(t)&&(n.editable=!1),this.objectProperties.includes(t)&&(n.valueGetter=function(t){return t.data[e]?t.data[e].name:""}),this.columnDefs.push(n)},e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](f.b),a["\u0275\u0275directiveInject"](c.z))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-data-table"]],viewQuery:function(e,t){var n;1&e&&a["\u0275\u0275viewQuery"](X,!0),2&e&&a["\u0275\u0275queryRefresh"](n=a["\u0275\u0275loadQuery"]())&&(t.dataGrid=n.first)},inputs:{data:"data"},outputs:{itemEdited:"itemEdited",itemsDeleted:"itemsDeleted",createItem:"createItem"},decls:9,vars:2,consts:[["fxFlex","","rowSelection","multiple","suppressRowClickSelection","true","suppressColumnVirtualisation","true","overlayNoRowsTemplate","Tomt",1,"ag-theme-balham","mat-elevation-z2","fadeInRight",3,"rowData","columnDefs","modelUpdated","cellValueChanged"],["dataGrid",""],["fxLayout","row","fxLayoutAlign","space-between none"],["mat-raised-button","","aria-label","Slett","color","warn",1,"backInUp",3,"click"],["mat-raised-button","","aria-label","Ny","color","accent",1,"backInUp",3,"click"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"ag-grid-angular",0,1),a["\u0275\u0275listener"]("modelUpdated",(function(){return t.autoSizeGrid()}))("cellValueChanged",(function(e){return t.editCell(e)})),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](2,"span",2),a["\u0275\u0275elementStart"](3,"button",3),a["\u0275\u0275listener"]("click",(function(){return t.openDeleteDialog()})),a["\u0275\u0275elementStart"](4,"mat-icon"),a["\u0275\u0275text"](5,"delete_forever"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](6,"button",4),a["\u0275\u0275listener"]("click",(function(){return t.createItem.emit()})),a["\u0275\u0275elementStart"](7,"mat-icon"),a["\u0275\u0275text"](8,"add"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e&&a["\u0275\u0275property"]("rowData",t.rowData)("columnDefs",t.columnDefs)},directives:[Q.a,v.a,v.c,v.b,x.b,K.a],encapsulation:2}),e}(),Z=[{path:"",component:function(){function e(e,t){var n=this;this.mainNavService=e,this.dataManagerFacade=t,this.data$=this.dataManagerFacade.data$,this.selectedTable$=this.dataManagerFacade.selectedTable$,this.tables=this.dataManagerFacade.tables,this.changeTable=function(e){return n.dataManagerFacade.changeTable(e)},this.configureMainNav()}return e.prototype.editCell=function(e){e.oldValue!=e.newValue&&this.dataManagerFacade.updateSelectedTableEntity(e.data)},e.prototype.deleteItems=function(e){if(0==e.length)return!1;this.dataManagerFacade.deleteSelectedTableEntities(e)},e.prototype.createItem=function(){this.dataManagerFacade.createItem()},e.prototype.configureMainNav=function(){this.mainNavService.addTopNavConfig({default:{title:"Data"}})},e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](c.o),a["\u0275\u0275directiveInject"](A))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-data-manager"]],decls:6,vars:7,consts:[["fxLayout","column","fxLayoutGap","8px",1,"h-100","p-2"],[3,"tables","selectedTable","tableSelected"],["fxLayout","column","fxLayoutGap","8px",1,"h-100",3,"data","itemEdited","createItem","itemsDeleted"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",0),a["\u0275\u0275elementStart"](1,"app-data-table-picker",1),a["\u0275\u0275listener"]("tableSelected",(function(e){return t.changeTable(e)})),a["\u0275\u0275pipe"](2,"async"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"app-data-table",2),a["\u0275\u0275listener"]("itemEdited",(function(e){return t.editCell(e)}))("createItem",(function(){return t.createItem()}))("itemsDeleted",(function(e){return t.deleteItems(e)})),a["\u0275\u0275pipe"](4,"async"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](5,"router-outlet")),2&e&&(a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("tables",t.tables)("selectedTable",a["\u0275\u0275pipeBind1"](2,3,t.selectedTable$)),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("data",a["\u0275\u0275pipeBind1"](4,5,t.data$)))},directives:[v.c,v.d,H,W,o.g],pipes:[y.b],encapsulation:2,changeDetection:0}),e}(),canActivate:[c.d],data:{allowedRoles:[h.g.Leder]},children:[{path:"ny/oppdrag",loadChildren:function(){return n.e(4).then(n.bind(null,"4XuV")).then((function(e){return e.MissionFormModule}))}}]}],ee=function(){function e(){}return e.\u0275mod=a["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=a["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[o.f.forChild(Z)],o.f]}),e}(),te=function(){function e(){}return e.\u0275mod=a["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=a["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},providers:[A],imports:[[i.a,ee,r.a]]}),e}()}}]);