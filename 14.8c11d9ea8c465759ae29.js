(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{"+Y3i":function(e,t,n){"use strict";n.r(t),n.d(t,"DataManagementModule",(function(){return te}));var i=n("PCNd"),r=n("DEyP"),o=n("DUip"),a=n("TYT/"),c=n("dJ3e"),l=n("26FU"),s=n("ad02"),m=n("VnD/"),p=n("15JJ"),u=n("h/AT"),d=n("1ua0"),f=n("ea4N"),h=n("9qP0"),y=n("1YJq"),g=n("QJY3"),b=n("Valr"),v=n("uLXW"),S=n("eHTH"),E=n("cSbt"),I=n("7itd"),w=n("p+mS"),C=n("Up+3");function T(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"mat-error"),a["\u0275\u0275text"](1," Navn er ett obligatorisk felt p\xe5 maks 200 tegn. "),a["\u0275\u0275elementEnd"]())}function x(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"mat-error"),a["\u0275\u0275text"](1," Kontaktnummer m\xe5 v\xe6re mellom 4 og 12 siffer. "),a["\u0275\u0275elementEnd"]())}function k(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"mat-error"),a["\u0275\u0275text"](1," Adresse kan maks ha 100 tegn. "),a["\u0275\u0275elementEnd"]())}function D(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"mat-error"),a["\u0275\u0275text"](1," Pass p\xe5 at eposten er skrevet riktig. "),a["\u0275\u0275elementEnd"]())}function F(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"form",1),a["\u0275\u0275elementStart"](1,"mat-form-field"),a["\u0275\u0275element"](2,"input",2),a["\u0275\u0275template"](3,T,2,0,"mat-error",3),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](4,"mat-form-field"),a["\u0275\u0275element"](5,"input",4),a["\u0275\u0275template"](6,x,2,0,"mat-error",3),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](7,"mat-form-field"),a["\u0275\u0275elementStart"](8,"input",5,6),a["\u0275\u0275listener"]("onAddressChange",(function(e){return a["\u0275\u0275restoreView"](n),a["\u0275\u0275nextContext"]().handleAddressChange(e)})),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](10,k,2,0,"mat-error",3),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](11,"mat-form-field"),a["\u0275\u0275element"](12,"input",7),a["\u0275\u0275template"](13,D,2,0,"mat-error",3),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](14,"button",8),a["\u0275\u0275listener"]("click",(function(){return a["\u0275\u0275restoreView"](n),a["\u0275\u0275nextContext"]().onSubmit()})),a["\u0275\u0275text"](15),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}if(2&e){var i=a["\u0275\u0275nextContext"]();a["\u0275\u0275property"]("formGroup",i.employerForm),a["\u0275\u0275advance"](3),a["\u0275\u0275property"]("ngIf",i.name.invalid),a["\u0275\u0275advance"](3),a["\u0275\u0275property"]("ngIf",i.phoneNumber.invalid),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("options",i.googleOptions),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("ngIf",i.address.invalid),a["\u0275\u0275advance"](3),a["\u0275\u0275property"]("ngIf",i.email.invalid),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("disabled",i.employerForm.invalid||i.employerForm.pristine),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",i.isCreateForm?"Legg til":"Oppdater"," ")}}var j=function(){function e(e){this._formBuilder=e,this.formSubmitted=new a.EventEmitter,this.googleOptions={types:["geocode"],componentRestrictions:{country:"no"}},this.isCreateForm=!1}return e.prototype.ngOnInit=function(){this.employer&&null!=this.employer||(this.isCreateForm=!0),this.initalizeForm(this.employer)},e.prototype.initalizeForm=function(e){this.employerForm=this._formBuilder.group({id:e?e.id:null,name:[e?e.name:null,[g.s.required,g.s.maxLength(200)]],phoneNumber:[e?e.phoneNumber:null,[g.s.minLength(4),g.s.maxLength(12)]],address:[e?e.address:null,[g.s.maxLength(100)]],email:[e?e.email:null,[g.s.email]]})},e.prototype.onSubmit=function(){var e=this.employerForm;e.valid&&this.employerForm.dirty&&this.formSubmitted.emit(e.value)},e.prototype.handleAddressChange=function(e){this.employerForm.controls.address.setValue(e.formatted_address)},Object.defineProperty(e.prototype,"name",{get:function(){return this.employerForm.get("name")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"phoneNumber",{get:function(){return this.employerForm.get("phoneNumber")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"address",{get:function(){return this.employerForm.get("address")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"email",{get:function(){return this.employerForm.get("email")},enumerable:!0,configurable:!0}),e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](g.c))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-employer-form-view"]],inputs:{employer:"employer"},outputs:{formSubmitted:"formSubmitted"},decls:1,vars:1,consts:[["fxLayout","column",3,"formGroup",4,"ngIf"],["fxLayout","column",3,"formGroup"],["matInput","","placeholder","Navn","formControlName","name","required",""],[4,"ngIf"],["matInput","","placeholder","Kontaktnummer","formControlName","phoneNumber"],["ngx-google-places-autocomplete","","matInput","","placeholder","Adresse","formControlName","address",3,"options","onAddressChange"],["placesRef","ngx-places"],["matInput","","placeholder","Epost","formControlName","email"],["appHttpCommandButton","","mat-raised-button","","color","primary",1,"w-100",3,"disabled","click"]],template:function(e,t){1&e&&a["\u0275\u0275template"](0,F,16,8,"form",0),2&e&&a["\u0275\u0275property"]("ngIf",t.employerForm)},directives:[b.l,g.t,g.m,v.c,g.e,S.c,E.a,g.b,g.l,g.d,g.r,I.GooglePlaceDirective,w.b,C.a,S.b],encapsulation:2,changeDetection:0}),e}(),O=function(){function e(e,t,n){this.employerService=e,this.notificationService=t,this.dialog=n,this.Roles=y.h,this.finished=new a.EventEmitter,this.googleOptions={types:["geocode"],componentRestrictions:{country:"no"}},this.isCreateForm=!1}return e.prototype.ngOnInit=function(){this.employerIdPreset?this.employer$=this.employerService.get$(this.employerIdPreset):this.isCreateForm=!0},e.prototype.onSubmit=function(e){e?this.isCreateForm?this.createEmployer(e):this.updateEmployer(e):this.finished.emit()},e.prototype.updateEmployer=function(e){var t=this;this.employerService.update$(e).subscribe((function(e){t.notificationService.setNotification("Vellykket oppdatering!"),t.finished.emit(e)}))},e.prototype.createEmployer=function(e){var t=this;this.employerService.add$(e).subscribe((function(e){t.notificationService.setNotification("Vellykket! Ny oppdragsgiver registrert."),t.finished.emit(e)}))},e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](c.l),a["\u0275\u0275directiveInject"](c.w),a["\u0275\u0275directiveInject"](f.b))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-employer-form"]],inputs:{employerIdPreset:"employerIdPreset"},outputs:{finished:"finished"},decls:2,vars:3,consts:[[3,"employer","formSubmitted"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"app-employer-form-view",0),a["\u0275\u0275listener"]("formSubmitted",(function(e){return t.onSubmit(e)})),a["\u0275\u0275pipe"](1,"async"),a["\u0275\u0275elementEnd"]()),2&e&&a["\u0275\u0275property"]("employer",a["\u0275\u0275pipeBind1"](1,1,t.employer$))},directives:[j],pipes:[b.b],encapsulation:2,changeDetection:0}),e}(),N=function(){function e(e,t,n,i){var r=this;this._employerService=e,this._dialog=t,this._bottomSheetRef=n,this.data=i,this.close=function(){return r._bottomSheetRef.dismiss()},this.confirmDelete=function(){r._dialog.open(d.a,{data:"Bekreft at du \xf8nsker \xe5 slette oppdragsgiveren fra systemet."}).afterClosed().pipe(Object(m.a)((function(e){return e}))).subscribe((function(e){return r.deleteEmployer()}))},this.deleteEmployer=function(){return r._employerService.delete$(r.data.employerIdPreset).subscribe((function(e){return r.close()}))}}return e.prototype.ngOnInit=function(){var e=!this.data||!this.data.employerIdPreset;this.navConfig={title:e?"Registrer oppdragsgiver":"Rediger oppdragsgiver",leftBtn:{icon:"close",callback:this.close},buttons:e?void 0:[{icon:"delete_forever",callback:this.confirmDelete}]}},e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](c.l),a["\u0275\u0275directiveInject"](f.b),a["\u0275\u0275directiveInject"](u.d),a["\u0275\u0275directiveInject"](u.a))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-timesheet-form-sheet-wrapper"]],decls:2,vars:2,consts:[[3,"config"],[3,"employerIdPreset","finished"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"app-simple-top-nav",0),a["\u0275\u0275elementStart"](1,"app-employer-form",1),a["\u0275\u0275listener"]("finished",(function(){return t.close()})),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e&&(a["\u0275\u0275property"]("config",t.navConfig),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("employerIdPreset",null==t.data?null:t.data.employerIdPreset))},directives:[h.a,O],encapsulation:2,changeDetection:0}),e}();function P(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"mat-error"),a["\u0275\u0275text"](1," Navn kan v\xe6re p\xe5 maks 45 tegn. "),a["\u0275\u0275elementEnd"]())}function M(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"form",1),a["\u0275\u0275elementStart"](1,"mat-form-field"),a["\u0275\u0275element"](2,"input",2),a["\u0275\u0275template"](3,P,2,0,"mat-error",3),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](4,"button",4),a["\u0275\u0275listener"]("click",(function(){return a["\u0275\u0275restoreView"](n),a["\u0275\u0275nextContext"]().onSubmit()})),a["\u0275\u0275text"](5," Lagre "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}if(2&e){var i=a["\u0275\u0275nextContext"]();a["\u0275\u0275property"]("formGroup",i.missionTypeForm),a["\u0275\u0275advance"](3),a["\u0275\u0275property"]("ngIf",i.name.invalid),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("disabled",i.missionTypeForm.invalid||i.missionTypeForm.pristine)}}var _=function(){function e(e){this._formBuilder=e,this.formSubmitted=new a.EventEmitter}return e.prototype.ngOnInit=function(){this.initalizeForm()},e.prototype.initalizeForm=function(){this.missionTypeForm=this._formBuilder.group({name:[null,[g.s.required,g.s.maxLength(45)]]})},e.prototype.onSubmit=function(){var e=this.missionTypeForm;e.valid&&this.missionTypeForm.dirty&&this.formSubmitted.emit(e.value)},Object.defineProperty(e.prototype,"name",{get:function(){return this.missionTypeForm.get("name")},enumerable:!0,configurable:!0}),e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](g.c))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-mission-type-form-view"]],outputs:{formSubmitted:"formSubmitted"},decls:1,vars:1,consts:[["fxLayout","column",3,"formGroup",4,"ngIf"],["fxLayout","column",3,"formGroup"],["matInput","","placeholder","Navn","formControlName","name"],[4,"ngIf"],["appHttpCommandButton","","mat-raised-button","","color","primary",1,"w-100",3,"disabled","click"]],template:function(e,t){1&e&&a["\u0275\u0275template"](0,M,6,3,"form",0),2&e&&a["\u0275\u0275property"]("ngIf",t.missionTypeForm)},directives:[b.l,g.t,g.m,v.c,g.e,S.c,E.a,g.b,g.l,g.d,w.b,C.a,S.b],encapsulation:2,changeDetection:0}),e}(),L=function(){function e(e){var t=this;this.missionTypeService=e,this.finished=new a.EventEmitter,this.onSubmit=function(e){e?t.missionTypeService.add$(e).subscribe((function(e){return t.finished.emit(e)})):t.finished.emit()}}return e.prototype.ngOnInit=function(){},e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](c.u))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-mission-type-form"]],outputs:{finished:"finished"},decls:1,vars:0,consts:[[3,"formSubmitted"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"app-mission-type-form-view",0),a["\u0275\u0275listener"]("formSubmitted",(function(e){return t.onSubmit(e)})),a["\u0275\u0275elementEnd"]())},directives:[_],encapsulation:2,changeDetection:0}),e}(),G=function(){function e(e){var t=this;this._bottomSheetRef=e,this.close=function(){return t._bottomSheetRef.dismiss()}}return e.prototype.ngOnInit=function(){this.navConfig={title:"Registrer oppdragstype",leftBtn:{icon:"close",callback:this.close}}},e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](u.d))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-mission-type-form-sheet-wrapper"]],decls:2,vars:1,consts:[[3,"config"],[3,"finished"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"app-simple-top-nav",0),a["\u0275\u0275elementStart"](1,"app-mission-type-form",1),a["\u0275\u0275listener"]("finished",(function(){return t.close()})),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e&&a["\u0275\u0275property"]("config",t.navConfig)},directives:[h.a,L],encapsulation:2,changeDetection:0}),e}();function $(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"mat-error"),a["\u0275\u0275text"](1," Navn kan v\xe6re p\xe5 maks 45 tegn. "),a["\u0275\u0275elementEnd"]())}function V(e,t){if(1&e){var n=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"form",1),a["\u0275\u0275elementStart"](1,"mat-form-field"),a["\u0275\u0275element"](2,"input",2),a["\u0275\u0275template"](3,$,2,0,"mat-error",3),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](4,"button",4),a["\u0275\u0275listener"]("click",(function(){return a["\u0275\u0275restoreView"](n),a["\u0275\u0275nextContext"]().onSubmit()})),a["\u0275\u0275text"](5," Lagre "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}if(2&e){var i=a["\u0275\u0275nextContext"]();a["\u0275\u0275property"]("formGroup",i.documentTypeForm),a["\u0275\u0275advance"](3),a["\u0275\u0275property"]("ngIf",i.name.invalid),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("disabled",i.documentTypeForm.invalid||i.documentTypeForm.pristine)}}var R=function(){function e(e){this._formBuilder=e,this.formSubmitted=new a.EventEmitter}return e.prototype.ngOnInit=function(){this.initalizeForm()},e.prototype.initalizeForm=function(){this.documentTypeForm=this._formBuilder.group({name:[null,[g.s.required,g.s.maxLength(45)]]})},e.prototype.onSubmit=function(){var e=this.documentTypeForm;e.valid&&this.documentTypeForm.dirty&&this.formSubmitted.emit(e.value)},Object.defineProperty(e.prototype,"name",{get:function(){return this.documentTypeForm.get("name")},enumerable:!0,configurable:!0}),e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](g.c))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-document-type-form-view"]],outputs:{formSubmitted:"formSubmitted"},decls:1,vars:1,consts:[["fxLayout","column",3,"formGroup",4,"ngIf"],["fxLayout","column",3,"formGroup"],["matInput","","placeholder","Navn","formControlName","name"],[4,"ngIf"],["appHttpCommandButton","","mat-raised-button","","color","primary",1,"w-100",3,"disabled","click"]],template:function(e,t){1&e&&a["\u0275\u0275template"](0,V,6,3,"form",0),2&e&&a["\u0275\u0275property"]("ngIf",t.documentTypeForm)},directives:[b.l,g.t,g.m,v.c,g.e,S.c,E.a,g.b,g.l,g.d,w.b,C.a,S.b],encapsulation:2,changeDetection:0}),e}(),B=function(){function e(e){var t=this;this.DocumentTypeService=e,this.finished=new a.EventEmitter,this.onSubmit=function(e){e?t.DocumentTypeService.add$(e).subscribe((function(e){return t.finished.emit(e)})):t.finished.emit()}}return e.prototype.ngOnInit=function(){},e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](c.j))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-document-type-form"]],outputs:{finished:"finished"},decls:1,vars:0,consts:[[3,"formSubmitted"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"app-document-type-form-view",0),a["\u0275\u0275listener"]("formSubmitted",(function(e){return t.onSubmit(e)})),a["\u0275\u0275elementEnd"]())},directives:[R],encapsulation:2,changeDetection:0}),e}(),z=function(){function e(e){var t=this;this._bottomSheetRef=e,this.close=function(){return t._bottomSheetRef.dismiss()}}return e.prototype.ngOnInit=function(){this.navConfig={title:"Registrer dokumenttype",leftBtn:{icon:"close",callback:this.close}}},e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](u.d))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-document-type-form-sheet-wrapper"]],decls:2,vars:1,consts:[[3,"config"],[3,"finished"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"app-simple-top-nav",0),a["\u0275\u0275elementStart"](1,"app-document-type-form",1),a["\u0275\u0275listener"]("finished",(function(){return t.close()})),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e&&a["\u0275\u0275property"]("config",t.navConfig)},directives:[h.a,B],encapsulation:2,changeDetection:0}),e}(),A=function(){function e(e,t,n,i,r,o){var a=this;this._bottomSheet=e,this.employerService=t,this.missionTypeService=n,this.missionService=i,this.DocumentTypeService=r,this.router=o,this.tables=["Oppdrag","Oppdragstyper","Oppdragsgivere","Dokumenttyper"],this.selectedTableSubject=new l.a(void 0),this.selectedTable$=this.selectedTableSubject.asObservable(),this.changeTable=function(e){return a.selectedTableSubject.next(e)},this.updateSelectedTableEntity=function(e){return a.getTableService(a.selectedTable).update$(e).subscribe()},this.deleteSelectedTableEntities=function(e){return a.getTableService(a.selectedTable).deleteRange$(e).subscribe()},this.createMission=function(){return a.router.navigate(["data/ny/oppdrag"])},this.createEmployer=function(){return a._bottomSheet.open(N)},this.createMissionType=function(){return a._bottomSheet.open(G)},this.createDocumentType=function(){return a._bottomSheet.open(z)},this.data$=this.selectedTable$.pipe(Object(s.a)(),Object(m.a)((function(e){return a.tables.includes(e)})),Object(p.a)((function(e){return a.getTableService(e).getAllDetails$()})))}return Object.defineProperty(e.prototype,"selectedTable",{get:function(){return this.selectedTableSubject.value},enumerable:!0,configurable:!0}),e.prototype.createItem=function(){switch(this.selectedTable){case"Oppdrag":this.createMission();break;case"Oppdragstyper":this.createMissionType();break;case"Oppdragsgivere":this.createEmployer();break;case"Dokumenttyper":this.createDocumentType()}},e.prototype.getTableService=function(e){switch(e){case"Oppdrag":return this.missionService;case"Oppdragstyper":return this.missionTypeService;case"Oppdragsgivere":return this.employerService;case"Dokumenttyper":return this.DocumentTypeService}},e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275inject"](u.b),a["\u0275\u0275inject"](c.l),a["\u0275\u0275inject"](c.u),a["\u0275\u0275inject"](c.t),a["\u0275\u0275inject"](c.j),a["\u0275\u0275inject"](o.b))},e.\u0275prov=a["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e}(),q=n("agxM"),J=n("MqYC");function U(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"mat-option",3),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;a["\u0275\u0275propertyInterpolate"]("value",n),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate"](n)}}var Y=function(){function e(){var e=this;this.tableSelected=new a.EventEmitter,this.changeTable=function(t){return e.tableSelected.emit(t)}}return e.prototype.ngOnInit=function(){},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-data-table-picker"]],inputs:{tables:"tables",selectedTable:"selectedTable"},outputs:{tableSelected:"tableSelected"},decls:5,vars:2,consts:[["appearance","fill",1,"data-picker","mat-elevation-z2","w-100","fadeInLeft"],[3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"mat-form-field",0),a["\u0275\u0275elementStart"](1,"mat-label"),a["\u0275\u0275text"](2,"Velg"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"mat-select",1),a["\u0275\u0275listener"]("ngModelChange",(function(e){return t.changeTable(e)})),a["\u0275\u0275template"](4,U,2,2,"mat-option",2),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e&&(a["\u0275\u0275advance"](3),a["\u0275\u0275property"]("ngModel",t.selectedTable),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngForOf",t.tables))},directives:[S.c,S.g,q.a,g.l,g.o,b.k,J.i],styles:[".data-picker{background:#fff} .data-picker .mat-form-field-wrapper{margin-bottom:-1.25em!important}"],changeDetection:0}),e}(),H=n("IJgu"),Q=n("st1I"),K=n("GsDI"),X=["dataGrid"],W=function(){function e(e,t){var n=this;this._dialog=e,this.translationService=t,this.itemEdited=new a.EventEmitter,this.itemsDeleted=new a.EventEmitter,this.createItem=new a.EventEmitter,this.columnDefs=[],this.rowData=[],this.ignoredProperties=["id","updatedat","createdat","employerid","missiontypeid"],this.noEditProperties=["missiontype","employer"],this.booleanProperties=["finished"],this.objectProperties=["missiontype","employer"],this.editCell=function(e){return n.itemEdited.emit(e)},this.openDeleteDialog=function(){var e=n.dataGrid.api.getSelectedNodes();if(0==e.length)return null;n._dialog.open(H.a,{data:"Bekreft at du \xf8nsker \xe5 slette ressursen(e)."}).afterClosed().pipe(Object(m.a)((function(e){return e}))).subscribe((function(t){return n.itemsDeleted.emit(e.map((function(e){return e.data.id})))}))},this.initNgGrid=function(e){if(n.columnDefs=[],n.rowData=[],!e||0==e.length)return null;n.columnDefs.push({colId:"checkbox",checkboxSelection:!0,width:42,pinned:"left",lockPosition:!0}),Object.getOwnPropertyNames(e[0]).forEach((function(e){return n.addColumnDef(e)})),n.rowData=e}}return Object.defineProperty(e.prototype,"data",{get:function(){return this._data},set:function(e){this._data=e,this.initNgGrid(e)},enumerable:!0,configurable:!0}),e.prototype.autoSizeGrid=function(){var e=this.dataGrid.columnApi.getAllColumns().filter((function(e){return"checkbox"!=e.getColId()}));this.dataGrid.columnApi.autoSizeColumns(e)},e.prototype.addColumnDef=function(e){var t=e.toLowerCase();if(this.ignoredProperties.includes(t))return!1;var n={field:e,headerName:this.translationService.translateProperty(t),sortable:!0,resizable:!0,editable:!0,lockPosition:!0};this.booleanProperties.includes(t)&&(n.cellEditor="agSelectCellEditor",n.cellEditorParams={values:["Ja","Nei"]},n.valueGetter=function(t){return 1==t.data[e]?"Ja":"Nei"},n.valueSetter=function(t){var n=t.newValue.toLowerCase();if("ja"==n)t.data[e]=!0;else{if("nei"!=n)return!1;t.data[e]=!1}return!0}),this.noEditProperties.includes(t)&&(n.editable=!1),this.objectProperties.includes(t)&&(n.valueGetter=function(t){return t.data[e]?t.data[e].name:""}),this.columnDefs.push(n)},e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](f.b),a["\u0275\u0275directiveInject"](c.B))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-data-table"]],viewQuery:function(e,t){var n;1&e&&a["\u0275\u0275viewQuery"](X,!0),2&e&&a["\u0275\u0275queryRefresh"](n=a["\u0275\u0275loadQuery"]())&&(t.dataGrid=n.first)},inputs:{data:"data"},outputs:{itemEdited:"itemEdited",itemsDeleted:"itemsDeleted",createItem:"createItem"},decls:9,vars:2,consts:[["fxFlex","","rowSelection","multiple","suppressRowClickSelection","true","suppressColumnVirtualisation","true","overlayNoRowsTemplate","Tomt",1,"ag-theme-balham","mat-elevation-z2","fadeInRight",3,"rowData","columnDefs","modelUpdated","cellValueChanged"],["dataGrid",""],["fxLayout","row","fxLayoutAlign","space-between none"],["mat-raised-button","","aria-label","Slett","color","warn",1,"backInUp",3,"click"],["mat-raised-button","","aria-label","Ny","color","accent",1,"backInUp",3,"click"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"ag-grid-angular",0,1),a["\u0275\u0275listener"]("modelUpdated",(function(){return t.autoSizeGrid()}))("cellValueChanged",(function(e){return t.editCell(e)})),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](2,"span",2),a["\u0275\u0275elementStart"](3,"button",3),a["\u0275\u0275listener"]("click",(function(){return t.openDeleteDialog()})),a["\u0275\u0275elementStart"](4,"mat-icon"),a["\u0275\u0275text"](5,"delete_forever"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](6,"button",4),a["\u0275\u0275listener"]("click",(function(){return t.createItem.emit()})),a["\u0275\u0275elementStart"](7,"mat-icon"),a["\u0275\u0275text"](8,"add"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e&&a["\u0275\u0275property"]("rowData",t.rowData)("columnDefs",t.columnDefs)},directives:[Q.a,v.a,v.c,v.b,w.b,K.a],encapsulation:2}),e}(),Z=[{path:"",component:function(){function e(e,t){var n=this;this.mainNavService=e,this.dataManagerFacade=t,this.data$=this.dataManagerFacade.data$,this.selectedTable$=this.dataManagerFacade.selectedTable$,this.tables=this.dataManagerFacade.tables,this.changeTable=function(e){return n.dataManagerFacade.changeTable(e)},this.configureMainNav()}return e.prototype.editCell=function(e){e.oldValue!=e.newValue&&this.dataManagerFacade.updateSelectedTableEntity(e.data)},e.prototype.deleteItems=function(e){if(0==e.length)return!1;this.dataManagerFacade.deleteSelectedTableEntities(e)},e.prototype.createItem=function(){this.dataManagerFacade.createItem()},e.prototype.configureMainNav=function(){this.mainNavService.addTopNavConfig({default:{title:"Data"}})},e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](c.p),a["\u0275\u0275directiveInject"](A))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-data-manager"]],decls:6,vars:7,consts:[["fxLayout","column","fxLayoutGap","8px",1,"h-100","p-2"],[3,"tables","selectedTable","tableSelected"],["fxLayout","column","fxLayoutGap","8px",1,"h-100",3,"data","itemEdited","createItem","itemsDeleted"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",0),a["\u0275\u0275elementStart"](1,"app-data-table-picker",1),a["\u0275\u0275listener"]("tableSelected",(function(e){return t.changeTable(e)})),a["\u0275\u0275pipe"](2,"async"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"app-data-table",2),a["\u0275\u0275listener"]("itemEdited",(function(e){return t.editCell(e)}))("createItem",(function(){return t.createItem()}))("itemsDeleted",(function(e){return t.deleteItems(e)})),a["\u0275\u0275pipe"](4,"async"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](5,"router-outlet")),2&e&&(a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("tables",t.tables)("selectedTable",a["\u0275\u0275pipeBind1"](2,3,t.selectedTable$)),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("data",a["\u0275\u0275pipeBind1"](4,5,t.data$)))},directives:[v.c,v.d,Y,W,o.g],pipes:[b.b],encapsulation:2,changeDetection:0}),e}(),canActivate:[c.d],data:{allowedRoles:[y.h.Leder]},children:[{path:"ny/oppdrag",loadChildren:function(){return n.e(4).then(n.bind(null,"4XuV")).then((function(e){return e.MissionFormModule}))}}]}],ee=function(){function e(){}return e.\u0275mod=a["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=a["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[o.f.forChild(Z)],o.f]}),e}(),te=function(){function e(){}return e.\u0275mod=a["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=a["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},providers:[A],imports:[[i.a,ee,r.a]]}),e}()},"1eh6":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("K9Ia"),r=n("TYT/"),o=function(){function e(){this.unsubscribe=new i.a}return e.prototype.ngOnDestroy=function(){this.unsubscribe.next(),this.unsubscribe.complete()},e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=r["\u0275\u0275defineDirective"]({type:e}),e}()},"9qP0":function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var i=n("TYT/"),r=n("Valr"),o=n("FfOm"),a=n("qaSM"),c=n("dAsQ");function l(e,t){1&e&&i["\u0275\u0275element"](0,"app-icon-button",4),2&e&&i["\u0275\u0275property"]("config",t.$implicit)}function s(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"mat-toolbar",3),i["\u0275\u0275element"](1,"app-icon-button",4),i["\u0275\u0275elementStart"](2,"span",5),i["\u0275\u0275elementStart"](3,"span",6),i["\u0275\u0275text"](4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](5,l,1,1,"app-icon-button",7),i["\u0275\u0275elementEnd"]()),2&e){var n=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("ngClass",n.config.colorClass?n.config.colorClass:"bg-accent"),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("config",n.config.leftBtn),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate"](n.config.title),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",n.config.buttons)}}var m=["*"],p=function(){function e(){}return e.prototype.ngOnInit=function(){},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["app-simple-top-nav"]],inputs:{config:"config"},ngContentSelectors:m,decls:4,vars:1,consts:[[1,"column"],["class","toolbar-slim mat-elevation-z2 flex-nav",3,"ngClass",4,"ngIf"],[1,"main-content","p-3"],[1,"toolbar-slim","mat-elevation-z2","flex-nav",3,"ngClass"],[3,"config"],[1,"mr-auto"],[1,"ml-1"],[3,"config",4,"ngFor","ngForOf"]],template:function(e,t){1&e&&(i["\u0275\u0275projectionDef"](),i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275template"](1,s,6,4,"mat-toolbar",1),i["\u0275\u0275elementStart"](2,"div",2),i["\u0275\u0275projection"](3),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.config))},directives:[r.l,o.a,r.j,a.a,c.a,r.k],styles:[".column[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column}.main-content[_ngcontent-%COMP%]{flex-grow:1;overflow-y:auto}"],changeDetection:0}),e}()}}]);